(self.modernJsonp=self.modernJsonp||[]).push([["22145"],{131391:function(e,t,i){i.d(t,{Z:()=>r});let r=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},337079:function(e,t,i){i.d(t,{Z:()=>r});let r=2},135269:function(e,t,i){i.d(t,{Z:()=>s});var r=i(739405),o=i(177433);function s(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,r.ZP)(),site:(0,o.uo)()})}},352507:function(e,t,i){i.d(t,{Z:()=>c,l:()=>d});var r=i(667294),o=i(131391),s=i(774838),a=i(135269),n=i(190914),l=i(200619);let d=(0,r.createContext)(void 0),c=function(){let{advertiser:e}=(0,s.B)(),t=function(){let{isSterlingSite:e}=(0,o.Z)((0,a.Z)());return(0,r.use)(d)??e}(),i=(0,l.Z)(),c=((0,n.W)()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||i}},494843:function(e,t,i){i.d(t,{Z:()=>r});let r={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},266637:function(e,t,i){i.d(t,{j:()=>s});let r={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},o=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=r[e.charAt(i)]||e.charAt(i);return t},s=(e,t,i="name")=>{let r=t.toLowerCase();return e.filter(e=>((e,t)=>{let i=t.split(" "),r=e.split(" "),s=0;for(let e=0;e<r.length;e+=1)(o(r[e]).includes(i[s])||r[e].includes(i[s]))&&(s+=1);return s===i.length})(e[i].toLowerCase(),r))}},832333:function(e,t,i){i.d(t,{Z:()=>u});var r=i(686659),o=i(667294),s=i(391995),a=i(785893);function n(e){return`${Math.min(100*e,100)}%`}function l({customCover:e,imgPos:t,imgUrl:i}){let[r,s]=(0,o.useState)({height:0,loaded:!1,width:0}),{height:a,loaded:l,width:d}=r;if((0,o.useEffect)(()=>{let e=new Image;e.onload=()=>{s({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=i},[i]),!e||!t||!a||!d)return{loaded:l,position:"center center"};let c=d-t.width,u=a-t.height,h=c>0?n(t.x/c):"center",_=u>0?n(t.y/u):"center";return{loaded:l,position:`${h} ${_}`}}function d(e){let{loaded:t,position:i}=l(e),{imgUrl:r}=e,o={backgroundImage:`url(${r})`,backgroundPosition:i,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(s.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:o},"data-test-id":"cover-image",children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:i}=l(e),{alt:r,color:o,imgUrl:n}=e;return(0,a.jsx)(s.zd,{height:"100%",width:"100%",children:t&&(0,a.jsx)("img",{alt:r||"",src:n,style:{backgroundColor:o||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:i,width:"100%"}})})}function u(e){(0,o.useEffect)(()=>{(0,r.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,a.jsx)(c,{...e}):(0,a.jsx)(d,{...e})}},632492:function(e,t,i){i.d(t,{$8:()=>c,Dk:()=>d,Fk:()=>o,fS:()=>l,lI:()=>s,mS:()=>n,qW:()=>a});var r=i(391995);let o=new r.Ry(1),s=new r.Ry(3),a=2,n=new r.Ry(a),l=3,d=new r.Ry(100),c=new r.H3([d])},821697:function(e,t,i){i.d(t,{DR:()=>Q,MD:()=>U,sR:()=>K,uC:()=>X,xH:()=>V});var r=i(686659),o=i(667294),s=i(581722),a=i(172045),n=i(391995),l=i(230201),d=i(47755),c=i(935059),u=i(24246),h=i(59111),_=i(216975),g=i(501010),p=i(774838),b=i(660322),x=i(661376),m=i(337079),f=i(352507),y=i(601871),v=i(494843),S=i(632492),w=i(893957),B=i(785893);function j({children:e,headingLevel:t,textWeight:i="normal",size:s}){(0,o.useEffect)(()=>{(0,r.Z)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let a="100"===s?"200":s,l="500"===s||"600"===s?"400":s;return(0,B.jsx)(n.qd,{accessibilityLevel:t,size:a,children:(0,B.jsx)(n.xv,{inline:!0,size:l,weight:i,children:e})})}function P({boardPickerSuggestedBoards:e,clientTrackingParams:t,headingLevel:i=3,imageSignature:s,index:a,item:d,pinId:c,saveSessionId:u,surfaceOriginViewParameter:h,useLegoLayout:_}){(0,o.useEffect)(()=>{(0,r.Z)("BoardHeader","/app/www/common/PinBetterSave/BoardHeader.tsx")},[]);let{logContextEvent:g}=(0,l.u)();return(0,w.Z)(()=>{"shortlist"===d.category&&g({aux_data:{board_picker_surface_origin:h,board_picker_suggested_boards:e,image_signature:s,pin_id:c,save_session_id:u},event_type:13,clientTrackingParams:t,view_type:21,view_parameter:3988})}),(0,B.jsx)(n.xu,{marginTop:a>0?2:1,paddingX:_?4:3,paddingY:1,children:(0,B.jsx)(j,{headingLevel:i,size:_?"100":"200",children:d.title})})}var A=i(249459),k=i(409726);function C({accessibilityLabelText:e,board:t,boardPickerSuggestedBoards:i,buttonText:s,clientTrackingParams:a,displayAlreadySavedMsg:d,imageSignature:c,isSectionOpen:h,onButtonClick:_,onClick:g,pinId:p,saveSessionId:b,shouldOpenSections:x=!0,showSaveToProfile:m,showFlyoutSaveButton:f=!0,surfaceOriginViewParameter:y,useLegoLayout:v}){(0,o.useEffect)(()=>{(0,r.Z)("BoardRow","/app/www/common/PinBetterSave/BoardRow.tsx")},[]);let{logContextEvent:S}=(0,l.u)(),w=(0,u.Z)(),[j,P]=(0,o.useState)(!1),C=(0,o.useRef)(null),z=!!t.section_count&&t.section_count>0,{images:L,image_cover_url:T}=t||{},I=!T?.includes("custom")&&L&&L["75x75"]&&L["75x75"][L["75x75"].length-1].url||T;(0,o.useEffect)(()=>{"boardless"===t.type&&S({aux_data:{board_picker_surface_origin:y,board_picker_suggested_boards:i,image_signature:c,pin_id:p,save_session_id:b},clientTrackingParams:a,event_type:13,view_parameter:3990,view_type:21})},[]);let R=()=>{g(t)};return(0,B.jsx)(n.xu,{"data-test-id":z?"boardWithSection":"boardWithoutSection",role:"listitem",children:(0,B.jsx)(n.iP,{ref:C,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onMouseEnter:()=>{P(!0)},onMouseLeave:()=>{P(!1)},onTap:R,children:(0,B.jsxs)(n.xu,{alignItems:"center",color:j?"secondary":"default","data-test-id":`board-row-${t.name||""}`,display:"flex",height:v?64:52,marginBottom:+!v,marginEnd:v?2:3,marginStart:v?2:3,marginTop:+!v,padding:2*!!v,rounding:300,children:[(0,B.jsxs)(n.xu,{"aria-hidden":"true",flex:"none",height:v?48:36,marginBottom:+!v,marginEnd:v?2:3,marginStart:2*!v,marginTop:+!v,overflow:"hidden",width:v?48:36,children:[m&&"boardless"===t.type&&(0,B.jsx)(n.zd,{height:"100%",rounding:200,width:"100%",children:(0,B.jsx)(n.xu,{alignItems:"center",color:j?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,B.jsx)(n.xu,{children:(0,B.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"clock-history",size:24})})})}),I&&!x&&(0,B.jsx)(n.zd,{height:v?48:36,rounding:200,wash:!0,width:v?48:36,children:(0,B.jsx)(n.Ee,{alt:"",fit:"cover",naturalHeight:v?48:36,naturalWidth:v?48:36,src:I})}),I&&x?(0,B.jsx)(n.zd,{height:v?48:36,rounding:200,wash:!0,width:v?48:36,children:(0,B.jsx)(n.Ee,{alt:"",fit:"cover",naturalHeight:v?48:36,naturalWidth:v?48:36,src:I})}):(0,B.jsx)(n.zd,{height:v?48:36,rounding:200,width:v?48:36,children:(0,B.jsx)(n.xu,{color:x?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,B.jsxs)(n.xu,{flex:"grow",marginStart:+!v,overflow:"hidden",paddingY:1,children:[(0,B.jsx)(n.xe,{lineClamp:1,overflow:"breakAll",weight:x||!x?"bold":"normal",children:t.name}),d&&(0,B.jsx)(n.xu,{marginTop:1,children:(0,B.jsx)(n.xe,{align:"start",color:"default",size:"100",children:w._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),(0,B.jsxs)(n.kC,{alignItems:"center",gap:2,children:[(0===t.section_count||!x)&&f&&(0,B.jsx)(n.xu,{"data-test-id":"board-row-save-button-container",flex:"none",opacity:100*!!j,children:(0,B.jsx)(n.zx,{accessibilityLabel:e||w._('save', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"primary","data-test-id":"board-row-save-button",onClick:({event:e})=>{R(),_&&_(),e.stopPropagation()},tabIndex:-1,text:s||w._('Save', 'save button', 'save button')})}),t&&!h?(0,B.jsx)(n.xu,{marginEnd:2*!v,children:(0,B.jsx)(k.Z,{board:t,showCollaborativeIcon:!!t.is_collaborative,showPrivateIcon:t.privacy===A.Z.BoardPrivacy.SECRET,showProtectedIcon:t.privacy===A.Z.BoardPrivacy.PROTECTED,showSectionsIcon:z&&x,useLegoLayout:v})}):null]})]})})})}var z=i(200619),L=i(149119);function T(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I extends o.Component{constructor(...e){super(...e),T(this,"state",{hovered:!1}),T(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),T(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),T(this,"handleTouch",()=>{let{board:e,onClick:t,section:i}=this.props;t(i,e)}),T(this,"handleButtonClick",({event:e})=>{let{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),T(this,"tapAreaRef",(0,o.createRef)())}focus(){let e=this.tapAreaRef.current;e&&e.focus()}render(){let{hovered:e}=this.state,{buttonText:t,section:i,showSectionSaveButton:r,useLegoLayout:o}=this.props;return(0,B.jsx)(n.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,B.jsxs)(n.xu,{alignItems:"center",color:e?"secondary":"default",dangerouslySetInlineStyle:{__style:o?{}:{marginLeft:53,marginRight:11}},"data-test-id":`section-row-${i.title||""}`,display:"flex",height:o?64:52,marginEnd:2*!!o,marginStart:2*!!o,marginTop:+!o,padding:2*!!o,role:"listitem",rounding:300,children:[o&&!!i.preview_pins?.length&&(0,B.jsx)(L.Z,{image_url:i.preview_pins[0].image_square_url??"",naturalHeight:i.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:i.preview_pins[0].image_square_size_pixels?.width??1}),(0,B.jsx)(n.xu,{flex:"grow",marginStart:4*!o,paddingY:1,children:(0,B.jsx)(n.xe,{lineClamp:1,weight:o?"bold":"normal",children:i.title})}),e&&r&&(0,B.jsx)(n.xu,{flex:"none",marginEnd:2*!o,children:(0,B.jsx)(n.zx,{accessibilityLabel:"save button",color:"primary",onClick:this.handleButtonClick,text:t||this.props.i18n._('Save', 'save button', 'save button')})})]})})}componentDidMount(){(0,r.Z)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")}}function R(e){(0,o.useEffect)(()=>{(0,r.Z)("SectionRow","/app/www/common/PinBetterSave/SectionRow.tsx")},[]);let t=(0,u.Z)();return(0,B.jsx)(I,{...e,i18n:t})}function E(e){(0,o.useEffect)(()=>{(0,r.Z)("BoardSections","/app/www/common/PinBetterSave/BoardSections.tsx")},[]);let t=(0,u.Z)(),{board:i,buttonText:s,onClick:a,onButtonClick:l,showSectionSaveButton:d,useLegoLayout:h}=e,_=(0,z.Z)(),g=(0,c.Z)(),p=(0,y.lJ)(g,_),b=(0,x.Z)({name:"BoardSectionsRepinResource",options:{board_id:i.id,orbac_subject_id:p},noCache:!0}),m=b&&b.data||[];return(0,B.jsxs)(n.xu,{children:[!b.isLoaded&&(0,B.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,B.jsx)(n.xH,{accessibilityLabel:t._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),b.isLoaded&&(0,B.jsxs)(n.xu,{children:[h&&(0,B.jsx)(n.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,B.jsx)(j,{headingLevel:3,size:"200",children:t._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),m.map(e=>(0,B.jsx)(R,{board:i,buttonText:s,onButtonClick:l,onClick:a,section:e,showSectionSaveButton:d,useLegoLayout:h},e.id))]})]})}function F({onClick:e,title:t,showIcon:i}){(0,o.useEffect)(()=>{(0,r.Z)("BoardSuggestionRow","/app/www/common/PinBetterSave/BoardSuggestionRow.tsx")},[]);let s=(0,u.Z)(),[a,l]=(0,o.useState)(!1);return(0,B.jsx)(n.iP,{dataTestId:"board-suggestion-row-button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:()=>{e({title:t})},children:(0,B.jsxs)(n.xu,{alignItems:"center",color:a?"secondary":"default",display:"flex",height:i?64:52,marginBottom:1,marginEnd:3,marginStart:3,role:"listitem",rounding:300,children:[(0,B.jsx)(n.xu,{flex:"none",height:i?48:36,marginBottom:1,marginEnd:3,marginStart:i?1:2,marginTop:1,overflow:"hidden",rounding:i?200:100,width:i?48:36,children:(0,B.jsx)(n.xu,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,B.jsx)(n.JO,{accessibilityLabel:"",color:"default",icon:"plus",size:20})})}),(0,B.jsx)(n.xu,{flex:"grow",paddingY:1,children:(0,B.jsx)(n.xe,{lineClamp:1,weight:"bold",children:t})}),a&&(0,B.jsx)(n.xu,{marginEnd:2,children:(0,B.jsx)(n.zx,{accessibilityLabel:"create button",color:"primary",text:s._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function Z(e){(0,o.useEffect)(()=>{(0,r.Z)("BoardSuggestions","/app/www/common/PinBetterSave/BoardSuggestions.tsx")},[]);let t=(0,u.Z)(),{suggestionsResource:i,onClick:s,pinBuilderSuggestions:a,inWebRepinFlowExp:l}=e,d=a||i&&i.data||[],c=(0,B.jsxs)(o.Fragment,{children:[l&&(0,B.jsx)(n.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,B.jsx)(j,{headingLevel:3,size:"100",children:t._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),d.map((e,t)=>(0,B.jsx)(F,{onClick:s,showIcon:l,title:e.title},t))]});return(0,B.jsx)(o.Fragment,{children:d?c:(0,B.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,B.jsx)(n.xH,{accessibilityLabel:t._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function O({isBoardCreate:e,onCreateBoardClick:t,useLegoLayout:i}){(0,o.useEffect)(()=>{(0,r.Z)("CreateBoardButton","/app/www/common/PinBetterSave/CreateBoardButton.tsx")},[]);let s=(0,u.Z)(),[a,l]=(0,o.useState)(!1),[d,c]=(0,o.useState)(!1);return(0,B.jsx)(n.xu,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:200,children:(0,B.jsx)(n.iP,{dataTestId:e?"create-board-button":"create-section-button",onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:t,rounding:200,children:(0,B.jsxs)(n.xu,{alignItems:"center",color:a?"secondary":"default",dangerouslySetInlineStyle:{__style:{...d?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{}}},display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,B.jsx)(n.xu,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:4*!i,rounding:200*!!i,children:(0,B.jsx)(n.JO,{accessibilityLabel:"",color:i?"default":"error",icon:i?"plus":"circle-plus",size:i?20:28})}),e?(0,B.jsx)(n.xe,{align:"center",lineClamp:1,weight:"bold",children:s._('Create board', ' - ', ' -- ')}):(0,B.jsx)(n.xe,{align:"center",lineClamp:1,weight:"bold",children:s._('Create section', ' - ', ' -- ')})]})})})}T(I,"defaultProps",{showSectionSaveButton:!0});var H=i(266637);function D(e){(0,o.useEffect)(()=>{(0,r.Z)("FocusableSearchField","/app/www/save/board/FocusableSearchField.tsx")},[]);let{accessibilityClearButtonLabel:t,accessibilityLabel:i,focused:s,id:a,onBlur:l,onChange:d,onFocus:c,placeholder:u,value:h,size:_="lg"}=e,g=(0,o.useRef)(null);return(0,o.useEffect)(()=>{if(s){let e=g.current;window.requestAnimationFrame(()=>{let t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[s]),(0,B.jsx)(n.xu,{ref:g,children:(0,B.jsx)(n.Um,{accessibilityClearButtonLabel:t,accessibilityLabel:i,id:a,onBlur:l,onChange:d,onFocus:c,placeholder:u,size:_,value:h})})}function N(e,t,i){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let J="allBoards",M="shortlist",W=`
.BoardsSlideLeft {
  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRight {
  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideLeftRTL {
  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRightRTL {
  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

@keyframes boardFlyoutSlideLeft {
  from {
    margin-left: 0%;
  }

  to {
    margin-left: -100%;
  }
}

@keyframes boardFlyoutSlideRight {
  from {
    margin-left: -100%;
  }

  to {
    margin-left: 0%;
  }
}

@keyframes boardFlyoutSlideLeftRTL {
  from {
    margin-right: -100%;
  }

  to {
    margin-right: 0%;
  }
}

@keyframes boardFlyoutSlideRightRTL {
  from {
    margin-right: 0%;
  }

  to {
    margin-right: -100%;
  }
}
`;class U extends o.PureComponent{constructor(...e){super(...e),N(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,a.Z)()}),N(this,"handleScroll",()=>{let{_container:e}=this,{logContextEvent:t}=this.props;t({event_type:110,component:13282,view_type:21})}),N(this,"refHandler",e=>{this.removeEventListeners(),e&&e.addEventListener("scroll",this.handleScroll,{once:!0}),this._container=e}),N(this,"getItems",e=>{let{boardResource:t,showSaveToProfile:i,checkExperiment:r}=this.props;if(!t?.data)return[];let{all_boards:o}=t.data,s=o.length>=3,a=i&&o.length&&r("web_curation_board_picker_reorder_profile_option").anyEnabled,n=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:this.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],l=this.getAllBoards().map((e,t)=>this.mapBoards(e,J,t)),d=this.getShortlist().map((e,t)=>this.mapBoards(e,M,t)),{searchQuery:c}=this.state;return c.length>=m.Z?[...(0,H.j)(l,c)]:[...s||!i||a?[]:[{type:"header",title:this.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')},...n],...s&&s&&i&&!a?n:[],...s&&d?.length?[{category:M,type:"header",title:e?this.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):this.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')},...d]:[],...o.length>0?[{type:"header",title:!s&&i?this.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):this.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')},...l,...a?n:[]]:[]]}),N(this,"mapBoards",(e,t,i)=>{let{selectedBoardId:r,selectedBoardCategory:o}=this.state,s=e.id===r&&t===o;return{...e,category:t,isOpen:s,gridIndex:i}}),N(this,"handleBack",()=>{let{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),N(this,"handleSectionClick",(e,t)=>{let{clientTrackingParams:i,imageSignature:r,logContextEvent:o,onItemChosen:s,pinId:a,surfaceOriginViewParameter:n,surface:l}=this.props,{saveSessionId:d,searchQuery:c}=this.state;o({event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:3133,aux_data:{board_id:t.id,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:r,is_profile_save:!1,pin_id:a,save_session_id:d,search_query:c,section_id:e.id,source:l}}),s({boardId:t.id,url:e.slug?`${t.url}${e.slug}/`:t.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:t.image_cover_url,ownerUsername:t.owner&&t.owner.username||"",boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())})}),N(this,"getPinBuilderSuggestions",async()=>{let{clientTrackingParams:e,imageSignature:t,logContextEvent:i,pinId:r,surfaceOriginViewParameter:o}=this.props,{saveSessionId:s}=this.state;if(r){let a=await (0,d.Z)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:r}});if(a.resource_response.data){let n=a.resource_response.data.map(e=>({title:e.title??"",metadata:JSON.parse(e?.metadata??"{}")}))||[];this.setState({boardSuggestions:n}),i({aux_data:{board_picker_surface_origin:o,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:t,pin_id:r,save_session_id:s},component:13282,clientTrackingParams:e,event_type:13,view_parameter:3992,view_type:21})}}}),N(this,"getAllBoards",()=>{let{boardResource:e,advertiser_id:t}=this.props;return(e?.data?.all_boards||[]).filter(e=>!t||"secret"!==e.privacy)}),N(this,"getShortlist",()=>{let{suggestedBoardsShortListResource:e,displayShortlistMostRecentBoard:t,boardResource:i}=this.props,r=i?.data?.boards_shortlist||[];return t?r:e?.data||[]}),N(this,"getBoards",e=>e===J?this.getAllBoards():e===M?this.getShortlist():[]),N(this,"getSuggestedBoardsIds",()=>{let{showSaveToProfile:e}=this.props,t=(e?this.getShortlist().slice(0,2):this.getShortlist()).map(e=>e.id);return e&&t.unshift("PROFILE_PINS"),t}),N(this,"getTopChoiceBoardsAuxData",()=>{let{showSaveToProfile:e}=this.props;return(e?this.getShortlist().slice(0,2):[...this.getShortlist()]).map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score}))}),N(this,"getBoardTitleSuggestionsAuxData",()=>{let{boardSuggestions:e}=this.state;return e.map(e=>({board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}))}),N(this,"handleBoardWithSectionsClick",e=>{let{clientTrackingParams:t,logContextEvent:i,pinId:r,setBoardWithSection:o,surfaceOriginViewParameter:s}=this.props,{saveSessionId:a,searchQuery:n,selectedBoardId:l,selectedBoardCategory:d}=this.state,c=this.getBoards(e.category).find(({id:t})=>t===e.id),u=l===e.id&&d===e.category;i({event_type:13,clientTrackingParams:t,component:13282,element:36,object_id_str:e.id,view_type:275,aux_data:{board_id:e.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,is_profile_save:!1,pin_id:r,save_session_id:a,search_query:n}}),c&&o&&o(c),this.setState({isSectionOpen:!0,selectedBoardId:u?"":e.id,selectedBoardCategory:u?"":e.category})}),N(this,"handleBoardClick",({board:e,toggleSections:t})=>{let{clientTrackingParams:i,imageSignature:r,logContextEvent:o,onItemChosen:s,pinId:a,surfaceOriginViewParameter:n,surface:l}=this.props,{saveSessionId:d,searchQuery:c}=this.state;this.setState({searchBoxFocused:!1}),t?(o({event_type:101,component:13282,element:36,clientTrackingParams:i,object_id_str:e.id,view_type:91,view_parameter:e.category===M?3988:3989,aux_data:{board_id:e.id,board_component:e.category===M?3988:3989,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:r,is_profile_save:!1,pin_id:a,save_session_id:d,search_query:c}}),this.handleBoardWithSectionsClick({category:e.category,gridIndex:e.gridIndex,id:e.id})):(o("boardless"===e.type?{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:3990,aux_data:{board_id:e.id,board_component:3990,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:r,is_profile_save:!0,pin_id:a,save_session_id:d,search_query:c}}:{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:e.category===M?3988:3989,aux_data:{board_id:e.id,board_component:e.category===M?3988:3989,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:r,is_profile_save:"boardless"===e.type,pin_id:a,save_session_id:d,search_query:c,source:l}}),s({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url,privacy:e.privacy,boardPickerSuggestedBoards:JSON.stringify(this.getTopChoiceBoardsAuxData())}))}),N(this,"handleSearchQueryUpdate",e=>{this.setState(t=>({...t,searchQuery:e}))}),N(this,"handleCreateBoardClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:r,onBoardCreate:o,pinId:s,surfaceOriginViewParameter:a,surface:n}=this.props,{saveSessionId:l,searchQuery:d}=this.state;r({event_type:101,clientTrackingParams:t,component:13282,element:249,view_type:91,view_parameter:e?87:3132,aux_data:{board_component:e?87:3132,board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:l,search_query:d,source:n??v.Z.BOARD_PICKER}}),o({title:d})}),N(this,"handleBoardSuggestionClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:r,onBoardCreate:o,pinId:s,surfaceOriginViewParameter:a}=this.props,{saveSessionId:n}=this.state;r({event_type:101,clientTrackingParams:t,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:a,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:s,save_session_id:n}}),o(e)})}componentWillUnmount(){this.removeEventListeners()}componentDidMount(){let{clientTrackingParams:e,logContextEvent:t,imageSignature:i,pinId:r,setBoardWithSection:o,surfaceOriginViewParameter:s}=this.props,{saveSessionId:a}=this.state;o&&o(null),t({event_type:13,component:13282,clientTrackingParams:e,element:10960,aux_data:{board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),image_signature:i,pin_id:r,save_session_id:a}})}componentDidUpdate(e){let{saveSessionId:t}=this.state,{clientTrackingParams:i}=this.props;!e.suggestedBoardsShortListResource?.isLoaded&&this.props.suggestedBoardsShortListResource?.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:i,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:t}})}removeEventListeners(){let{_container:e}=this;e&&e.removeEventListener("scroll",this.handleScroll)}render(){let{accessibilityLabelText:e,boardResource:t,buttonText:i,changeBoardModal:r,clientTrackingParams:s,customItem:a,headerText:l,hideAlreadySavedMsg:d,imageSignature:c,onButtonClick:u,paneHeight:g,paneWidth:p,pinAlreadySavedBoard:b,pinId:x,requestContext:m,sectionText:f,showSaveToProfile:y,showSearchField:v,showCreateBoardButton:w,showFlyoutSaveButton:A,showSections:k,showSectionSaveButton:z,suggestedBoardsShortListResource:L,surfaceOriginViewParameter:T,useStoryboardStyle:I,useLegoLayout:R,boardFlyoutStyle:F}=this.props,{boardSuggestions:H,isSectionOpen:N,saveSessionId:M,searchBoxFocused:U,searchQuery:$}=this.state;if(!t)return null;let{isLoaded:q,error:Y}=t,Q=[];(q&&!Y||L&&L.data&&!L.error)&&(Q=this.getItems(!!R));let X=Q.filter(e=>e&&e.category===J).length,K=X>3;K||0!==H.length||this.getPinBuilderSuggestions();let V=I?200:322,G=I?214:334,ee=g||290,et=JSON.stringify(this.getTopChoiceBoardsAuxData()),ei=m.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",er="";null!==N&&(er=m.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");let eo=e=>(0,B.jsxs)(o.Fragment,{children:[!R&&(0,B.jsx)(n.iz,{}),(0,B.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},elevation:R&&X>=3&&Q.length>1?"shadowFloating":void 0,height:R?80:52,overflow:"hidden",children:(0,B.jsx)(O,{isBoardCreate:e,onCreateBoardClick:({event:t})=>{t.stopPropagation(),this.handleCreateBoardClick(e)},useLegoLayout:R})})]});return(0,B.jsxs)(n.xu,{color:"default","data-test-id":"board-picker-flyout",height:I||r?"100%":R?498:439,overflow:"hidden",rounding:200,width:R&&!r?"100%":p,zIndex:S.lI,children:[(0,B.jsx)(h.Z,{unsafeCSS:W}),q?null:(0,B.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:R&&!r?360:p,children:(0,B.jsx)(n.xH,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,B.jsx)(n.kC,{direction:"row",children:q&&(0,B.jsx)("div",{className:N?ei:er,children:(0,B.jsx)(n.xu,{position:"relative",children:(0,B.jsxs)(n.xu,{direction:"row",display:"flex",width:R&&!r?720:(p??0)*2,zIndex:new n.Ry(0),children:[(0,B.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:R&&!r?360:p,children:[R&&!r&&(0,B.jsx)(n.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,B.jsx)(j,{headingLevel:2,size:"300",textWeight:"bold",children:l||(y?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text'))})}),(v??!r)&&(0,B.jsxs)(n.xu,{"data-test-id":"search-boards-field-container",height:R?64:"auto",padding:F?.searchFieldStyle?.padding??3*!R,paddingX:F?.searchFieldStyle?.paddingX??(R?4:3),paddingY:F?.searchFieldStyle?.paddingY,children:[(0,B.jsx)(D,{accessibilityClearButtonLabel:this.props.i18n._('Clear board search text', 'dropdown.searchField.clearButtonLabel', 'clear button label for search field in board picker'),accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:U,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:F?.searchFieldStyle?.size??"lg",value:$}),(0,B.jsx)(n.xu,{"aria-live":"assertive",display:"visuallyHidden",children:X?(0,_.Wc)(this.props.i18n.ngettext('Found a board', 'Found {{boardCount}} boards', X, 'PinBetterSave.BoardFlyout.BoardFoundsDropdown', 'Text to indicate how many boards were found in the board autocomplete. boardCount: the number of boards created by the user.'),{boardCount:X.toString()}):this.props.i18n._('No boards found', 'PinBetterSave.BoardFlyout.noBoardFoundsDropdown', 'Text to indicate no boards were found in the board autocomplete')})]}),(0,B.jsxs)(n.xu,{ref:this.refHandler,maxHeight:R?ee:V,minHeight:R?290:V,overflow:"scrollY",role:"list",children:[L&&!L.isLoaded?(0,B.jsx)(n.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,B.jsx)(n.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,B.jsx)(n.xH,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,a,Q.map((t,r)=>"header"===t.type?(0,B.jsx)(P,{boardPickerSuggestedBoards:et,clientTrackingParams:s,headingLevel:2,imageSignature:c,index:r,item:t,pinId:x,saveSessionId:M,surfaceOriginViewParameter:T,useLegoLayout:R},`${t.title}`):(0,B.jsx)(n.xu,{children:(0,B.jsx)(C,{accessibilityLabelText:e,board:t,boardPickerSuggestedBoards:et,buttonText:i,clientTrackingParams:s,displayAlreadySavedMsg:b&&b.id===t.id&&!d,imageSignature:c,onButtonClick:u,onClick:e=>{this.handleBoardClick({board:e,toggleSections:k&&!!e.section_count})},pinId:x,saveSessionId:M,shouldOpenSections:k,showFlyoutSaveButton:A,showSaveToProfile:y,surfaceOriginViewParameter:T,useLegoLayout:R})},`${t.category}-${t.id}`)),!K&&H.length>0&&(0,B.jsx)(Z,{inWebRepinFlowExp:R,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:H})]}),w&&eo(!0)]}),N&&(0,B.jsxs)(n.xu,{direction:"column",display:"flex",marginBottom:2*!!R,width:R&&!r?360:p,children:[(0,B.jsxs)(n.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,B.jsx)(n.sg,{span:2,children:(0,B.jsx)(n.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,B.jsx)(n.hU,{accessibilityLabel:"Back button",icon:"chevron-left",iconColor:"default",onClick:this.handleBack,size:"sm"})})}),(0,B.jsx)(n.sg,{span:8,children:(0,B.jsx)(n.kC,{alignItems:"center",height:R?64:52,justifyContent:"center",children:(0,B.jsx)(j,{headingLevel:2,size:"300",textWeight:"bold",children:f||(R?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header'))})})}),(0,B.jsx)(n.sg,{span:2,children:(0,B.jsx)(n.xu,{})})]}),!R&&(0,B.jsx)(n.iz,{}),(0,B.jsx)(n.xu,{maxHeight:R?ee:G,minHeight:R?354:G,overflow:"scrollY",children:Q?(0,B.jsx)(o.Fragment,{children:Q&&Q.map(e=>"header"===e.type?null:(0,B.jsx)(n.xu,{role:"list",children:e.isOpen&&(0,B.jsxs)(o.Fragment,{children:[R&&(0,B.jsx)(n.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,B.jsx)(j,{headingLevel:3,size:"100",children:this.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,B.jsx)(C,{board:e,boardPickerSuggestedBoards:et,buttonText:i,displayAlreadySavedMsg:b&&b.id===e.id,isSectionOpen:!0,onButtonClick:u,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:M,shouldOpenSections:!1,showFlyoutSaveButton:A,useLegoLayout:R}),(0,B.jsx)(E,{board:e,buttonText:i,onButtonClick:u,onClick:this.handleSectionClick,showSectionSaveButton:z,useLegoLayout:R})]})},`${e.category}-${e.id}`))}):null}),w&&!r&&eo(!1)]})]})})})})]})}}function $(e){let{logContextEvent:t}=(0,l.u)(),i=(0,u.Z)(),{checkExperiment:r}=(0,g.Z)();return(0,B.jsx)(U,{...e,checkExperiment:r,i18n:i,logContextEvent:t,requestContext:(0,p.B)()})}function q(e,t,i){let{advertiser:r}=e,o={};if(i&&i.user&&i.user.username&&i.id!==(t.isAuth?t.id:void 0)&&(o.orbacActingAs=i,o.username=i.user.username),t&&r){let i=e.advertiser;if(t.isAuth&&i.is_impersonation)return{hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id,...o};if(t.isAuth&&i.owner_user_id!==t.id)return{hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id,...o};if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,...o}}function Y(e){let{advertiser_id:t,hasMUA:i,boardFilter:r="all"}=e,{username:o}=e,s={field_set_key:"board_picker",filter:i?"protected":r,...o?{username:o}:Object.freeze({}),...t?{advertiser_id:t}:{}};return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(s={...s,username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:r}),s}function Q(e,t){return(i,r)=>i((0,b.jB)("BoardPickerBoardsResource",Y(q(r(),e,t))))}function X(e){(0,o.useEffect)(()=>{(0,r.Z)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let t=(0,c.Z)(),i=(0,s.v9)(i=>q(i,t,e.orbacActingAs)),a={...e,...i},n=(0,x.Z)({name:"BoardPickerBoardsResource",options:Y(a)});return(0,B.jsx)($,{...a,boardResource:n})}function K(e){(0,o.useEffect)(()=>{(0,r.Z)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let t=(0,f.Z)(),i=(0,c.Z)(),s=(0,y.lJ)(i,t);return(0,B.jsx)(X,{...e,orbacActingAs:s?t:void 0})}function V(e){(0,o.useEffect)(()=>{(0,r.Z)("BoardFlyout","/app/www/common/PinBetterSave/BoardFlyout.tsx")},[]);let t=(0,x.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),{data:i}=(0,x.Z)({name:"ApiResource",options:{url:`/v3/pins/${e.pinId}/`,field_sets:["pin.pinned_to_board()"]},noCache:!0});return(0,B.jsx)($,{...e,pinAlreadySavedBoard:i?.pinned_to_board,suggestedBoardsShortListResource:t})}N(U,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},409726:function(e,t,i){i.d(t,{Z:()=>c});var r=i(686659),o=i(667294),s=i(391995),a=i(927251),n=i(307345),l=i(785893);let d=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,l.jsx)(s.xu,{marginEnd:2*!!e,children:(0,l.jsx)(n.Z,{type:i})}):(0,l.jsx)(n.Z,{type:i}),c=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:c,showSectionsIcon:u,useLegoLayout:h})=>{(0,o.useEffect)(()=>{(0,r.Z)("BoardPickerRowIconList","/app/www/common/PinBetterSave/BoardPickerRowIconList.tsx")},[]);let _=e?.collaborating_users?.length||0;return t||i||c||u?(0,l.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!h,children:[i&&(0,l.jsx)(d,{collaborator_count:_,type:"secret",useLegoLayout:h}),c&&(0,l.jsx)(d,{collaborator_count:_,type:"protected",useLegoLayout:h}),t&&(h?(0,l.jsx)(a.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,l.jsx)(n.Z,{type:"group"})),u&&(0,l.jsx)(n.Z,{type:"sections"})]}):null}},149119:function(e,t,i){i.d(t,{Z:()=>n});var r=i(686659),o=i(667294),s=i(391995),a=i(785893);let n=({image_url:e,naturalHeight:t,naturalWidth:i})=>((0,o.useEffect)(()=>{(0,r.Z)("RepinSectionImage","/app/www/common/PinBetterSave/RepinSectionImage.tsx")},[]),(0,a.jsx)(s.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,a.jsx)(s.zd,{height:48,rounding:200,wash:!0,width:48,children:(0,a.jsx)(s.Ee,{alt:"",naturalHeight:t,naturalWidth:i,src:e})})}))},927251:function(e,t,i){i.d(t,{Z:()=>d});var r=i(686659),o=i(667294),s=i(319226),a=i(935059),n=i(785893);function l(e){let t=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:i,ownerOnly:d}){(0,o.useEffect)(()=>{(0,r.Z)("CollaboratorsFacepile","/app/www/profile/ProfileBoardCard/ProfileBoardCardFooter/CollaboratorsFacepile.tsx")},[]);let c=(0,a.Z)(),u=d?[l(e?.owner)]:(function(e,t,i){let{collaborated_by_me:r,collaborating_users:o,owner:s}=e??{},a=o??[],n=[s];if(r||i){let e=a.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=a.splice(e,1)[0];n.push(t)}else n.push(t)}return[...n,...[...a].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0)]})(e,c,t).map(l);return(0,n.jsx)(s.HE,{collaborators:u,size:i?"xs":"sm"})}},307345:function(e,t,i){i.d(t,{Z:()=>a});var r=i(391995),o=i(24246),s=i(785893);let a=function({type:e}){let t=(0,o.Z)(),i={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"shield-check"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-right"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-down"}}[e],a="sections"===e||"sectionsInline"===e;return(0,s.jsx)(r.xu,{marginStart:+!!a,children:(0,s.jsx)(r.xu,{marginStart:2*!!a,children:"sections"===e||"sectionsInline"===e?(0,s.jsx)(r.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,s.jsx)(r.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},427475:function(e,t,i){i.d(t,{Z:()=>c});var r=i(581722),o=i(782677),s=i(27399),a=i(43113),n=i(647908),l=i(233597),d=i(660322);function c(){let e=(0,r.I0)(),t=(0,r.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:r}){let c=await s.Z.create("BoardResource",i).callCreate(),u=c.resource_response.data,h=r?(0,o.Fv)(u,r):void 0;e((0,d.XM)("BoardResource",i,c,h)),e((0,a.fO)({event_type:20})),u.owner?.id&&e((0,l.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=t.BoardsResource||{},g=t.BoardsFeedResource||{};return Object.keys(_).forEach(t=>{(0,n.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(g).forEach(t=>{(0,n.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22145-dd15137500bd5354.mjs.map