(self.modernJsonp=self.modernJsonp||[]).push([["68396"],{768171:function(e,t,o){var l,r,i,n,a;o.r(t),o.d(t,{default:()=>d});let s={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"FollowersControllerQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"user",variableName:"userId"}],concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"FollowersControllerQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetUserHandlerQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetUserHandler",abstractKey:null}],storageKey:null}]},params:{id:"134b0b580aa92245148296845cace9afb35dc06c14786cdd346a49001d84a14b",metadata:{},name:"FollowersControllerQuery",operationKind:"query",text:null}};s.hash="a23b0f7439754a2c42bb445168b9e510";let d=s},680616:function(e,t,o){o.d(t,{Fy:()=>i,ZP:()=>n,_G:()=>r});var l=o(627973);let r=e=>l.Fd[e]??l.U5.MORE_IDEAS,i=e=>l.lJ[e]??0,n="/collage-creation-tool"},627973:function(e,t,o){o.d(t,{AQ:()=>y,Fd:()=>x,Gb:()=>C,Je:()=>f,Nc:()=>s,R_:()=>A,U5:()=>g,V5:()=>v,Xu:()=>a,Z7:()=>m,_4:()=>P,bP:()=>u,fw:()=>p,hb:()=>w,jE:()=>h,jz:()=>_,lJ:()=>b,lk:()=>j,m2:()=>n,pI:()=>c,qb:()=>d,w5:()=>E,yW:()=>i});var l=o(391995),r=o(289935);let i=170,n=4,a=5,s=232,d=539,c=9/16,u=236,_=94,p=400,f={__style:{fontWeight:500}},h=new l.H3([r.b7]),m=new l.H3([h]),g={MORE_IDEAS:"MORE_IDEAS",DRAFTS:"DRAFTS",SEARCH:"SEARCH",YOUR_BOARDS:"YOUR_BOARDS",BRAND_KIT:"BRAND_KIT"},x={0:"MORE_IDEAS",1:"YOUR_BOARDS",2:"DRAFTS",3:"SEARCH",4:"BRAND_KIT"},b={MORE_IDEAS:0,YOUR_BOARDS:1,DRAFTS:2,SEARCH:3,BRAND_KIT:4},w=420,y=264,P="#ffffff",v=5e3,C={PIN:1,TEXT:2,IMAGE:3},A={0:"left",1:"center",2:"right"},E={left:0,center:1,right:2},j={DRAWING:4}},351679:function(e,t,o){o.d(t,{Z:()=>r});var l=o(47755);async function r(e){return(0,l.Z)({url:"/v3/shuffles/{shuffle}/",urlParams:{shuffle:e},method:"DELETE"})}},619546:function(e,t,o){o.d(t,{Z:()=>a});var l=o(667294),r=o(57887),i=o(661376);let n={url:"/v3/users/me/shuffles/",data:{is_draft:!0,transform_to_pins:!1,fields:["shuffle.id","shuffle.images","shuffle.updated_at"]}};function a(){let{data:e,fetchMore:t,isFetching:o,refresh:a,isLoaded:s}=(0,i.Z)({name:"ApiResource",options:n}),d=(0,r.w1)();return{fetchMore:t,isLoaded:s,invalidateDrafts:(0,l.useCallback)(()=>{d("ApiResource",n)},[d]),isFetching:o,shuffles:e,refresh:a}}},548777:function(e,t,o){o.d(t,{m:()=>c,r:()=>u});var l=o(667294),r=o(213491),i=o(647636),n=o(571808),a=o(774838),s=o(785893);let{Provider:d,get:c}=(0,r.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,a.B)(),{experience:o}=(0,n.Z)(1000069),[r,c]=(0,l.useState)(!0),[u,_]=(0,l.useState)(!1),[p,f]=(0,l.useState)(null),[h,m]=(0,l.useState)(null),g=(0,i.oS)(1000069);(0,l.useEffect)(()=>{if(!t)return void c(!1);o&&(!o||o?.experience_id===500417&&o?.display_data.hide_footer)?g.viewExperience(1000069,500417):c(!1),_(!0)},[o]);let x=(0,l.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:u,hidePinRepFooter:r,setUseCaseFeedOriginalPinId:m,setUseCaseFeedRepinId:f,useCaseFeedOriginalPinId:h,useCaseFeedRepinId:p}),[u,r,m,f,h,p]);return(0,s.jsx)(d,{value:x,children:e})}},982091:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),r=o(667294),i=o(370383),n=o(59355),a=o(935059),s=o(920343),d=o(171039),c=o(785893);function u(e){let t;(0,r.useEffect)(()=>{(0,l.Z)("ProfileDeciderContainer","/app/common/react/components/profile/ProfileDecider/ProfileDeciderContainer.tsx")},[]);let o=(0,d.Z)(),u=(0,a.Z)(),_=(0,s.Z)({user:o.data,viewer:u});return(u.isAuth&&_&&(t=u.id),(0,n.Q)({object_id_str:t,view_type:4,view_parameter:_?3106:3107}),o&&o.data)?(0,c.jsx)(i.Z,{}):null}},582857:function(e,t,o){o.d(t,{Z:()=>j});var l=o(686659),r=o(667294),i=o(581722),n=o(312048),a=o(391995),s=o(363061),d=o(611649),c=o(257680),u=o(230201),_=o(943152),p=o(935059),f=o(24246),h=o(501010),m=o(660322),g=o(200619),x=o(601871),b=o(938967),w=o(233165),y=o(494843),P=o(27753),v=o(113463),C=o(92481),A=o(869552),E=o(785893);function j({currentTab:e}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileCreateButtonController","/app/common/react/components/profile/ProfileHeader/ProfileCreateButtonController.tsx")},[]);let t=(0,f.Z)(),[o,j]=(0,r.useState)(!1),T=(0,n.s0)(),z=(0,n.TH)(),Z=(0,i.I0)(),S=(0,p.Z)(),{checkExperiment:B}=(0,h.Z)(),R=(0,g.Z)(),I=(0,x.lJ)(S,R),k=(0,_.Z)(),{logContextEvent:D}=(0,u.u)(),H=(0,d.Z)(!0),O=B("web_curation_board_create_entry_points").anyEnabled,L=e=>{if(k)return void k();let t=I&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${I}`:"";Z((0,m.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),T(`${e.url||""}${t}`,{state:{newBoard:!0}})};return(0,E.jsxs)(r.Fragment,{children:[(0,E.jsx)(A.Z,{onCreateBoard:()=>{if(k)return void k();D({component:13056,element:249,event_type:101,view_parameter:3106,view_type:4,aux_data:{source:y.Z.PROFILE}}),j(!0)},onCreateCollage:()=>{if(k)return void k();D({component:13056,element:13844,event_type:101,view_parameter:3106,view_type:4}),T("/collage-creation-tool/")},onCreatePin:()=>{if(k)return void k();D({component:13056,element:10643,event_type:101,view_parameter:3106,view_type:4}),T("/pin-builder/")},onCreateStoryPin:()=>{if(k)return void k();D({aux_data:{entry_type:"profile_plus_button"},component:13056,element:10949,event_type:101,view_parameter:3106,view_type:4}),T((0,s.Z)(H),{state:{entry_type:"profile_plus_button"}})},onOpen:()=>{let e=S.isAuth&&z.pathname.startsWith(`/${S.username}/`)&&!1===S.isPartner&&!z.pathname.includes(C.qV)&&B("web_retrieval_hub_profile_split_").anyEnabled,t=e&&[C.sz.enabled_with_unorganized_feed,C.sz.enabled_with_log_fix].includes(B("web_retrieval_hub_profile_split_").group);e&&D({event_type:101,view_type:4,view_parameter:t?3106:4047,component:14461,element:1208})},surface:e===v.un.RETRIEVAL_HUB_PINS?"profilePins":"profileBoards",children:({active:o,openFlyout:l,accessibilityControls:r,accessibilityExpanded:i})=>O?(0,E.jsx)(a.zx,{accessibilityControls:r,accessibilityExpanded:i,accessibilityHaspopup:!0,accessibilityLabel:t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),color:"primary",onClick:l,selected:o,size:"lg",text:t._('Create', 'profileHeader.actionBar.createButton', 'Text for button to open Create menu')}):(0,E.jsx)(b.Z,{accessibilityControls:r,accessibilityExpanded:i,accessibilityLabel:e===v.un.RETRIEVAL_HUB_PINS?t._('Create a Pin', 'profileHeader.actionBar.createButtonPin', 'Accessibility label for button to open Create menu'):t._('Create a Pin or a board', 'profileHeader.actionBar.createButton', 'Accessibility label for button to open Create menu'),icon:"plus",onClick:l,selected:o})}),o&&(B("dweb_board_create_glowup").anyEnabled?(0,E.jsx)(P.Z,{boardCreateSource:"profile",onBoardCreate:L,onClose:()=>j(!1)}):(0,E.jsx)(w.Z,{boardCreateSource:"profile",hasSuggestedBoardNameExperience:!0,onBoardCreate:L,onClose:()=>j(!1),shouldShowAddCollaborators:!0}))]})}},770218:function(e,t,o){o.d(t,{Z:()=>y});var l=o(686659),r=o(667294),i=o(312048),n=o(391995),a=o(27399),s=o(230201),d=o(935059),c=o(24246),u=o(501010),_=o(661376),p=o(200619),f=o(601871),h=o(465076),m=o(378512),g=o(92481),x=o(329577),b=o(785893);let w={alphabetical:10430,last_pinned_to:10431,last_activity:10431,last_pin_added:10431,custom:10434};function y({user:e,setVisibilityControlsModalOpen:t}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileHeaderOrganizeButton","/app/common/react/components/profile/ProfileHeader/ProfileHeaderOrganizeButton.tsx")},[]);let o=(0,x.WG)(),{logContextEvent:y}=(0,s.u)(),P=(0,c.Z)(),v=(0,d.Z)(),C=(0,p.Z)(),A=(0,f.Ms)(v,C),{checkExperiment:E}=(0,u.Z)(),j=(0,i.TH)(),{data:T}=(0,_.Z)({name:"UserMetadataResource",options:{user:{id:A}}}),z=o?.profileBoardView,Z=o?.boardSortOrder.get(A||"")??"",S=o?.profilePinDensity,B=(0,m.Z)({hasCustomOrder:!!e.has_custom_board_sorting_order,isOwnProfile:!0,mostRecentBoardSortOrder:T?.most_recent_board_sort_order,updatedBoardOrder:Z});(0,r.useEffect)(()=>{if(T&&!z){let{profile_board_rep_view_type:e}=T;o?.setProfileBoardView(e&&"list"!==e?e:"wide")}},[T,z]),(0,r.useEffect)(()=>{if(T&&!S){let{board_pin_rep_view_type:e}=T;o?.setProfilePinDensity(e??"regular")}},[T,S]);let R=e=>()=>{let t=v.isAuth&&!1===v.isPartner&&j.pathname.startsWith(`/${v.username}/`)&&!j.pathname.includes(g.qV)&&E("web_retrieval_hub_profile_split_").anyEnabled,l=t&&[g.sz.enabled_with_unorganized_feed,g.sz.enabled_with_log_fix].includes(E("web_retrieval_hub_profile_split_").group);t?y({event_type:101,component:14461,element:10612,view_parameter:l?3106:4047,view_type:4}):y({event_type:101,component:13149,element:w[e]}),a.Z.create("UserMetadataResource",{most_recent_board_sort_order:e,orbac_subject_id:(0,f.lJ)(v,C)}).callUpdate(),o?.updateBoardSortOrder((0,f.Ms)(v,C),e)},I=[{label:P._('A to Z', 'profileHeader.actionBar.organizeFlyout.aToZ', 'Organize menu option to sort boards alphabetically'),isSelected:"alphabetical"===B,clickHandler:R("alphabetical")},{label:P._('Custom', 'profileHeader.actionBar.organizeFlyout.dragAndDrop', 'Organize menu option to sort boards by drag-and-drop'),isSelected:"custom"===B,clickHandler:R("custom")}];I.push({label:P._('Last Pin Added', 'profileHeader.actionBar.organizeFlyout.lastPinAdded', 'Organize menu option to sort boards by last pin added'),isSelected:"last_pinned_to"===B,clickHandler:R("last_pinned_to")});let k=[{label:P._('Sort by', 'profileHeader.actionBar.organizeFlyout.sortBoardsBy', 'Category heading on Organize menu on user profile'),items:I},t?{label:P._('Profile layout', 'profileHeader.actionBar.organizeFlyout.layout', 'Category heading on Organize menu on user profile'),items:[{label:P._('Edit board visibility', 'profileHeader.actionBar.organizeFlyout.manageVisibility', 'Organize menu option to control visibility of boards'),clickHandler:()=>{t(!0),y({event_type:101,view_type:215,view_parameter:3106,component:13996,element:12786})}}]}:null].map(e=>e).filter(Boolean);return(0,b.jsx)(n.xu,{"data-test-id":"profile-organize-button",children:(0,b.jsx)(h.Z,{icon:"filter-horizontal",label:P._('Organize', 'profileHeader.actionBar.organize', 'Accessibility label for button to open organization and view tools flyout'),children:({handleClose:e})=>k.map(({items:t,label:o})=>(0,b.jsx)(n.Lt.Section,{label:o,children:t.map(({clickHandler:t,isSelected:o,label:l})=>(0,b.jsx)(n.Lt.Item,{onSelect:()=>{e(),t()},option:{label:l,value:l},selected:o?{label:l,value:l}:null},l))},o))})})}},370383:function(e,t,o){o.d(t,{Z:()=>ew});var l=o(686659),r=o(667294),i=o(391995),n=o(581722),a=o(312048),s=o(548777),d=o(576629),c=o(233317),u=o(24246),_=o(216975),p=o(785893);function f({boardlessPins:e,organizeIdeasButton:t,openBoardlessModal:o,user:n}){(0,r.useEffect)(()=>{(0,l.Z)("SelfProfileBoardlessPins","/app/common/react/components/profile/ProfileBoards/BoardlessPins/SelfProfileBoardlessPins.tsx")},[]);let a=(0,u.Z)(),s=e?.slice(0,6),{quick_saves_pin_count:d}=n;return(0,p.jsx)(i.xu,{"data-test-id":"self-profile-boardless-pins-section",display:"flex",height:228,justifyContent:"start",marginEnd:"auto",marginStart:"auto",maxWidth:"fit-content",overflow:"hidden",position:"relative",rounding:400,children:(0,p.jsxs)(i.iP,{onTap:o,children:[s?.map((e,t)=>(0,p.jsx)(i.xu,{display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:5===t?(e=>{let{title:t,images:o}=e,l=o&&o["236x"];return(0,p.jsxs)(i.xu,{"data-test-id":"self-profile-boardless-pins-count-div",display:"inlineBlock",height:228,marginEnd:0,overflow:"hidden",position:"relative",width:142,children:[l?.url&&(0,p.jsx)(i.Ee,{alt:t??"Boardless pin count",color:"lightGray",fit:"cover",naturalHeight:l?.height??0,naturalWidth:l?.width??0,src:l.url}),(0,p.jsx)(i.xu,{color:"washDark",display:"flex",height:"100%",opacity:80,position:"absolute",right:!0,top:!0,width:"100%",children:(0,p.jsx)(i.xu,{"data-test-id":"self-profile-boardless-pins-count",margin:"auto",children:(0,p.jsx)(i.xe,{color:"inverse",weight:"bold",children:(0,_.nk)(a._("+{{pinCount}}","SelfProfileHeader.boardless.pins.count","Count of boardless pins"),{pinCount:d})})})})]})})(e):(e=>{let{title:t,images:o}=e,l=o&&o["236x"];return(0,p.jsx)(r.Fragment,{children:l&&l.url&&(0,p.jsx)(i.Ee,{alt:t??"Boardless pin",color:"lightGray",fit:"cover",naturalHeight:l.height??0,naturalWidth:l.width??0,src:l.url})})})(e)},`boardless-pin-${e.id}`)),(0,p.jsx)(i.xu,{bottom:!0,display:"flex",left:!0,position:"absolute",right:!0,top:!0,children:(0,p.jsx)(i.xu,{margin:"auto",children:t})})]})})}var h=o(230201),m=o(261954),g=o(309947),x=o(501010),b=o(426161),w=o(285676),y=o(647636),P=o(986174);function v({boardThumbs:e}){let t=(0,u.Z)();return(0,p.jsx)(i.xu,{"aria-label":t._('Collage of images', 'profile.boardlessPinsUpsell.imageCollage', 'Collage of images on upsell'),role:"img",children:(0,p.jsx)(i.zd,{height:110,rounding:400,width:110,children:(0,p.jsx)(i.gM,{columns:2,cover:!0,gutter:1,height:110,renderImage:({index:t,width:o,height:l})=>{let r=e[0],n=e.slice(1),a=0===t?r:n[t-1];return(0,p.jsx)(i.zd,{height:l,width:o,children:a.url&&(0,p.jsx)(i.Ee,{alt:"",color:"#EFEFEF",fit:"cover",naturalHeight:a.height??1,naturalWidth:a.width??1,src:a.url})})},width:110})})})}function C(){(0,r.useEffect)(()=>{(0,l.Z)("BoardlessPinsUpsell","/app/www/profile/ProfileBoards/BoardlessPins/BoardlessPinsUpsell.tsx")},[]);let e=(0,u.Z)(),t=(0,P.JI)();return(0,p.jsx)(y.a3,{eligibleIds:[503446],placementId:19,children:({complete:o,dismiss:l,experience:{display_data:r}})=>{let{button_text:n,images:a,subtitle:s,title:d}=r,c=a.map(e=>e["170x"]);return(0,p.jsx)(i.kC,{justifyContent:"center",children:(0,p.jsx)(i.xu,{maxWidth:960,paddingY:4,children:(0,p.jsx)(i.XA,{dismissButton:{accessibilityLabel:e._('Dismiss', 'profile.boardlessPinsUpsell.dismissButton', 'Button to dismiss upsell'),onDismiss:l},imageData:{component:(0,p.jsx)(v,{boardThumbs:c})},message:s,primaryAction:{label:n,accessibilityLabel:e._('Create board', 'profile.boardlessPinsUpsell.createButton', 'Button to create new board from upsell'),onClick:()=>{t(!0),o()}},title:d})})})}})}var A=o(92481),E=o(228612),j=o(217616),T=o(882390);function z({boardlessPinsNormalized:e,boardlessPinsResource:t,hasBoards:o,hasBoardSuggestions:n,isOwnProfile:_,isRetrievalHub:y,user:v}){(0,r.useEffect)(()=>{(0,l.Z)("BoardlessPinsFeed","/app/common/react/components/profile/ProfileBoards/BoardlessPins/BoardlessPinsFeed.tsx")},[]);let z=(0,u.Z)(),Z=(0,P.JI)(),S=(0,P.Fj)(),{hasSimplifiedPinGridExpLoaded:B}=(0,s.m)(),{logContextEvent:R}=(0,h.u)(),I=(0,a.TH)(),{experimentalGutterBoints:k}=(0,g.Z)(),{enabled:D}=(0,j.Z)(),{checkExperiment:H}=(0,x.Z)(),O=(0,E.S6)(),L=I.pathname.includes(`/${A.qV}/`),M=(!y||y&&!L)&&_&&n,F=y&&[A.sz.enabled_with_unorganized_feed,A.sz.enabled_with_log_fix].includes(H("web_retrieval_hub_profile_split_").group),N=_&&e.length>=5&&!o,{data:G=[],fetchMore:U,isAtEnd:V}=t||{},W=()=>{R({event_type:101,view_type:4,view_parameter:F?3106:4047,component:14461,element:10612})},$=(0,p.jsx)(i.zx,{color:y?"tertiary":void 0,onClick:()=>{R({event_type:15237,element:10384}),Z(!0),y&&W()},size:y?"lg":void 0,text:z._('Organize', 'profileBoard.unorganizedIdeas.organizeButton', 'Button for organizing boardless Pins')});return(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)(i.xu,{padding:0,children:[(!L||o&&L)&&(M||e.length>0)&&(0,p.jsx)(i.xu,{marginBottom:_&&y&&!L?0:7,marginTop:5,children:D?(0,p.jsx)(T.Z,{}):(0,p.jsx)(i.iz,{})}),o&&!L&&M&&(0,p.jsx)(c.Z,{hasBoards:!0,parentComponent:14461}),N&&(0,p.jsx)(C,{}),!o&&!L&&M&&(0,p.jsx)(c.Z,{parentComponent:14461}),!L&&e.length>0&&(0,p.jsx)(r.Fragment,{children:_&&(!y||!L)&&(0,p.jsxs)(i.xu,{alignItems:"center","data-test-id":"unorganized-ideas-heading-container",display:"flex",justifyContent:"between",marginBottom:5,marginEnd:k,marginStart:k,marginTop:6,paddingX:2,children:[(0,p.jsx)(i.qd,{size:"400",children:z._('Unorganized ideas', 'profileBoard.unorganizedIdeas.heading', 'Heading for unorganized ideas.')}),!y&&$]})}),y&&!L&&(0,p.jsx)(f,{boardlessPins:G,openBoardlessModal:()=>{W(),Z(!0)},organizeIdeasButton:$,user:v}),B&&(!y||L)&&(0,p.jsx)(b.Z,{isAtEndOfFeed:!!V,itemCount:e.length,children:(0,p.jsx)(m.default,{columnWidth:void 0,isGridCentered:!1,items:e,layout:"basic",loadItems:U,renderItem:({data:e,itemIdx:t})=>{let o=_?{type:"none"}:{type:"inline"},l=O(e.id);return(0,p.jsx)(w.r,{pinId:e.id,pinKey:l?{type:"Legacy",data:l}:null,saveButtonOptions:o,slotIndex:t,surface:"BoardlessPins",viewParameter:_?3106:3107,viewType:4})},serverRender:!0,virtualize:!1})})]}),!!e&&U&&e.length>0&&S&&(0,p.jsx)(d.Z,{boardlessPinsNormalized:e,fetchMore:U,hasBoards:o,onDismiss:e=>{Z(!1),R({event_type:123,view_type:631,element:12284,aux_data:{step:e}})},userId:v.id})]})}var Z=o(257680),S=o(249459),B=o(104999),R=o(935059),I=o(28692),k=o(830031),D=o(484243),H=o(774838),O=o(660322),L=o(661376),M=o(112658),F=o(893957),N=o(200619),G=o(601871),U=o(233165),V=o(27753),W=o(504727);function $({type:e}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileBoardsGroupHeader","/app/www/profile/ProfileBoards/ProfileBoardsGroupHeader.tsx")},[]);let t=(0,u.Z)(),{experimentalGutterBoints:o}=(0,g.Z)();return(0,p.jsx)(i.xu,{marginEnd:o,marginStart:o,paddingX:2,children:(0,p.jsxs)(i.kC,{direction:"column",gap:1,children:[(0,p.jsxs)(i.qd,{size:"400",children:[((e,t)=>{switch(e){case"protected":return t._('Protected boards', ' - ', ' -- ');case"secret":return t._('Secret boards', ' - ', ' -- ');case"archived":return t._('Archived boards', 'title for archived boards section on a profile', 'title for archived boards section on a profile');default:return""}})(e,t)," ",(0,p.jsx)(i.JO,{accessibilityLabel:"",color:"default",icon:(e=>{if("archived"!==e&&"protected"!==e)return"lock"})(e),inline:!0,size:12})]}),(0,p.jsx)(i.xv,{inline:!0,size:"200",children:((e,t)=>{switch(e){case"protected":return t._('Protected boards are not shown on your profile page publicly but anyone with the URL can view them.', ' - ', ' -- ');case"secret":return t._('Only you and people you invite can see these boards. ', ' - ', ' -- ');default:return""}})(e,t)}),"secret"===e&&(0,p.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:(0,p.jsx)(i.rU,{display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=profile",underline:"hover",children:t._('Learn more', ' - ', ' -- ')})})]})})}var J=o(798385),K=o(329577),Q=o(9065);let Y=(0,Q.Z)(()=>Promise.all([o.e("19868"),o.e("95711")]).then(o.bind(o,724201)),void 0,e=>724201,"app-www-profile-ProfileBoards-ProfileBoards",e=>["19868","95711"]),q=(0,Q.Z)(()=>Promise.all([o.e("19868"),o.e("95711"),o.e("79492")]).then(o.bind(o,440471)),void 0,e=>440471,"app-www-profile-ProfileBoards-ProfileBoardsList",e=>["19868","95711","79492"]);function X({allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:n,group:a,isOverview:s,isOwnProfile:d,onBoardChange:c,onBoardGroupChange:u,onLoadMore:_,profileBoardView:f,showCreatorProfile:h}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileBoardGroup","/app/www/profile/ProfileBoards/ProfileBoardGroup.tsx")},[]);let m=(0,K.WG)(),{checkExperiment:g}=(0,x.Z)(),b=(0,R.Z)(),w=(0,N.Z)(),y=(0,J.Z)(),{selfProfileBoardFilter:P}=m??{selfProfileBoardFilter:void 0},v=(0,G.Ms)(b,w),C=y[v??""]?.is_gco_account,A=d&&C&&g("dweb_presence_safe_refactor_board_reordering").anyEnabled,E={allPinsStory:e,openCreateBoardModal:t,boardIds:o,boardOrder:n,group:a,isOverview:s,isOwnProfile:d,layout:f,onBoardArchiveChange:u,onBoardDelete:c,onBoardLeave:u,onBoardPrivacyChange:u,onBoardReorder:c,onBoardUpdate:c,onLoadMore:_},j=A?(0,p.jsx)(q,{...E}):(0,p.jsx)(Y,{...E,showCreatorProfile:h});return"unlabeled"===a?j:(0,p.jsx)(i.xu,{marginBottom:6,marginTop:6,overflow:"hidden",children:(0,p.jsxs)(i.kC,{direction:"column",gap:1,children:[("archived"!==a||P!==K.ET.ARCHIVED)&&(0,p.jsx)($,{type:a}),j]})})}var ee=o(158502),et=o(331534),eo=o(761134),el=o(160587),er=o(830949);function ei(e,t,o){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let en=(0,Q.Z)(()=>o.e("76696").then(o.bind(o,428038)),void 0,e=>428038,"app-common-react-components-profile-ProfileBoards-RecentlyDeletedBoards",e=>["76696"]);function ea({isAtEndOfFeed:e}){return(0,I.Z)({isAtEndOfFeed:e,includeBackgroundImages:!0}),null}class es extends r.PureComponent{constructor(...e){super(...e),ei(this,"state",{boardsResourceAnnotationAdded:!1,isCreateBoardModalOpen:!1}),ei(this,"feedIsStale",!1),ei(this,"handleBoardChanged",()=>{this.feedIsStale=!0}),ei(this,"handleBoardGroupChange",()=>this.props.boardsResource.refresh()),ei(this,"openCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!0})}),ei(this,"closeCreateBoardModal",()=>{this.setState({isCreateBoardModalOpen:!1})})}componentDidUpdate(e){let{boardsResource:t}=this.props;t.isLoaded&&(e.boardsResource.data||[]).length>(t.data||[]).length&&window.scroll(0,0)}static getDerivedStateFromProps(e,t){let{boardsResource:o,pwtSurfaceContext:l}=e,{boardsResourceAnnotationAdded:r}=t;return o.isLoaded&&l&&!r?(l.addAnnotation("profileBoards.boardsResourceLoaded"),(0,D.Z)("profileBoards.boardsResourceLoaded"),{boardsResourceAnnotationAdded:!0}):null}componentWillUnmount(){let{invalidateFeeds:e,invalidateRetrievalHubFeed:t,isRetrievalHub:o}=this.props;this.feedIsStale&&e(),o&&t()}renderAllBoardsGroups(e){let{boardOrder:t,boardlessPinsNormalized:o,boardsResource:l,filterStories:r,isOwnProfile:n,isOverview:a,mixPublicSecret:s,profileBoardView:d,user:c,isRetrievalHub:u,isBoardCreateExperiment:_,isProfilePreviewPage:f,selfProfileBoardFilter:h}=this.props,{fetchMore:m,isAtEnd:g,isLoaded:x}=l,{is_partner:b,show_creator_profile:w}=c,y=!r&&l.data&&l.data.length>0&&"all_pins"===l.data[0].story_type?l.data[0]:null,P=(l.data?.length||0)>0&&g&&"ARCHIVED"!==h&&_?this.openCreateBoardModal:null,v=y&&1===(l.data||[]).length;if((l.data||[]).length>0&&0===e.length&&!v)return(0,p.jsx)(i.xu,{padding:6,children:(0,p.jsx)(i.xH,{accessibilityLabel:this.props.i18n._('Boards', 'profileBoards.spinner', 'List of boards on the users profile page'),show:!0})});let C=(o||[]).length>0;if(u&&!f&&0===e.length)return(0,p.jsx)(eo.Z,{filter:h,surface:"boards"});if(0===e.length&&!v&&!C)return(0,p.jsx)(et.Z,{fullName:c.full_name,isOwnProfile:n,isPartnerProfile:b});let A=e.reduce((e,{id:t,profileGroup:o})=>{let l;return l="public"===o||s&&"secret"===o||"ARCHIVED"===h&&"archived"===o?{unlabeled:e.unlabeled.concat([t])}:{[o]:e[o].concat([t])},{...e,...l}},{unlabeled:[],protected:[],secret:[],archived:[]}),E=[];["protected","secret","archived"].forEach(e=>{A[e].length>0&&E.push(e)});let j=r?d:"square",T=()=>{!x||a||g||m()},z=[];return z.push("unlabeled"),n&&!a&&z.push(...E),C&&v?null:(0,p.jsx)(i.xu,{overflow:"hidden",children:z.map(e=>(0,p.jsx)(X,{allPinsStory:"unlabeled"===e&&y?.type==="story"?y:null,boardIds:["archived","protected","secret","unlabeled"].includes(e)?A[e]:[],boardOrder:t,group:e,isOverview:!!a,isOwnProfile:n,onBoardChange:this.handleBoardChanged,onBoardGroupChange:this.handleBoardGroupChange,onLoadMore:T,openCreateBoardModal:P,profileBoardView:j,showCreatorProfile:!!w},e))})}render(){let{boardKeys:e,i18n:t,isBoardlessProfileEnabled:o,isOwnProfile:l,isOverview:r,handleBoardCreate:n,boardlessPinsNormalized:a,boardlessPinsResource:s,boardsResource:d,selfProfileBoardFilter:c,showRecentlyDeletedBoards:u,user:_,isProfilePreviewPage:f,isRetrievalHub:h=!1,retrievalHubExpGroup:m}=this.props,{data:g,isFetching:b,isLoaded:w,isAtEnd:y}=d,{isLoaded:P,isAtEnd:v}=s||{},C=!!g&&g.length>0&&"all_pins"===g[0].story_type,E=!!g&&g.length>0&&("wishlist_shop_your_products_story"===g[0].story_type||g[1]?.story_type==="wishlist_shop_your_products_story"),j=!!g&&((C||E)&&g.length>1||!C&&g.length>0),T=o?P&&w:w,Z=(a||[]).length>0&&s?.data||_.has_pin_clusters,{checkExperiment:B}=(0,x.Z)(),R="SECRET"===c?S.Z.BoardPrivacy.SECRET:void 0;return(0,p.jsx)(M.Z,{component:209,view:4,viewParameter:l?3106:3107,children:(0,p.jsxs)(i.xu,{marginBottom:12,children:[w&&this.renderAllBoardsGroups(r?e.slice(0,6):e),this.state.isCreateBoardModalOpen&&(B("dweb_board_create_glowup").anyEnabled?(0,p.jsx)(V.Z,{boardCreateSource:"profile",initialValues:{privacy:R},onBoardCreate:n,onClose:this.closeCreateBoardModal}):(0,p.jsx)(U.Z,{boardCreateSource:"profile",hasSuggestedBoardNameExperience:!0,onBoardCreate:n,onClose:this.closeCreateBoardModal,privacy:R,shouldShowAddCollaborators:!0})),(0,p.jsx)(i.xu,{padding:6*!!b,children:(0,p.jsx)(i.xH,{accessibilityLabel:t._('Boards', 'List of boards on the users profile page', 'List of boards on the users profile page'),show:b})}),T&&(0,p.jsx)(ea,{isAtEndOfFeed:!!(o?v&&y:y)}),Z&&(0,p.jsx)(z,{boardlessPinsNormalized:a,boardlessPinsResource:s,hasBoards:j,hasBoardSuggestions:!!_.has_pin_clusters,isOwnProfile:l,isRetrievalHub:m!==A.sz.enabled_with_unorganized_feed&&h,user:_}),u&&!f&&(0,p.jsx)(en,{refreshBoardsFeed:()=>d.refresh()})]})})}}function ed(e){(0,r.useEffect)(()=>{(0,l.Z)("ProfileBoards","/app/common/react/components/profile/ProfileBoards/ProfileBoards.tsx")},[]);let t=(0,u.Z)(),{id:o}=e.user,i=(0,R.Z)(),s=(0,a.TH)(),d=(0,a.s0)(),c=i.isAuth?i.username:"",_=(0,N.Z)(),f=(0,G.lJ)(i,_),h=(0,K.WG)(),{checkExperiment:m}=(0,x.Z)(),g=(0,B.Z)(),{isRetrievalHub:b=!1,user:{is_partner:w},isOwnProfile:y}=e,{selfProfileBoardFilter:P}=h??{selfProfileBoardFilter:void 0},v=!1===w&&y&&s.pathname.includes(`/${c}/${A.qV}`)&&m("web_retrieval_hub_profile_split_").anyEnabled,C=!1===w&&y?m("web_retrieval_hub_profile_split_").group:void 0,E=y&&!v&&m("web_curation_board_create_entry_points").anyEnabled;P&&g({event_type:101,view_type:4,view_parameter:b&&[A.sz.enabled_with_unorganized_feed,A.sz.enabled_with_log_fix].includes(C||"")?3106:4047,component:14461,element:14264,aux_data:{profile_filter:P}});let j=e.isOverview||e.inActivityView?"xxWide":e.isOwnProfile&&h?.profileBoardView||"wide",{boardlessPinsEnabled:T}=(0,W.Xt)(o),z=K.UQ[P??"NONE"],S={name:"BoardsResource",key:"boardsResource",options:{...e,sort:e.boardOrder,field_set_key:"profile_grid_item",username:c,isRetrievalHub:!0,redux_normalize_feed:!0,filter_types:z,privacyFilter:v?"public":"all"}},I={name:ee.O.name,options:ee.O.options({...e,filterAllPins:b&&!v,privacyFilter:v?"public":"all"},f)},D=(0,L.Z)(b&&P?S:I),M=(0,L.Z)(T?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:o}}:null),U=(0,n.v9)(({feeds:e})=>e[`boardless-pins:${o}`])||[],V=(0,n.v9)(t=>{let{username:o,boardOrder:l}=e;return(((e,t)=>{let o=`profileBoards:${(0,er.Z)(t.username,t.boardOrder,t.filter)}`;return e.feeds[o]})(t,{username:o,boardOrder:l,filter:z!==K.UQ.NONE?z.toString():void 0})||[]).reduce((e,t)=>{let o="board"===t.type,l="onProfile"in t&&t.onProfile,r=!v||!("profileGroup"in t)||"public"===t.profileGroup;return e.concat(o&&l&&r?[t]:[])},[])}),$=(0,n.I0)();return(0,F.Z)(()=>{g({event_type:13,view_parameter:e.isOwnProfile?3106:3107,view_type:4,component:209})}),(0,p.jsx)(es,{...e,boardKeys:V,boardlessPinsNormalized:U,boardlessPinsResource:M,boardsResource:D,handleBoardCreate:e=>{let t=f&&(0,Z.Z)(e.privacy)?`?orbac_subject_id=${f}`:"";$((0,O.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),d(`${e.url||""}${t}`,{state:{newBoard:!0}})},i18n:t,invalidateFeeds:()=>$((0,el.K8)(c)),invalidatePinBetterSaveResource:()=>$((0,O.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"})),invalidateRetrievalHubFeed:()=>$((0,O.jB)("BoardsResource",ee.O.options({...e,filterAllPins:b&&!v}))),isBoardCreateExperiment:E,isBoardlessProfileEnabled:T,isProfilePreviewPage:v,isSelfPrivateProfile:b,profileBoardView:j,pwtSurfaceContext:(0,k.A)(),requestContext:(0,H.B)(),retrievalHubExpGroup:C,selfProfileBoardFilter:P,showRecentlyDeletedBoards:y})}ei(es,"defaultProps",{boardKeys:[]});var ec=o(582857),eu=o(770218),e_=o(378512),ep=o(113463),ef=o(920343),eh=o(171039);let em=(0,r.lazy)(()=>o.e("89638").then(o.bind(o,763994)));function eg({username:e}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileBoardsPage","/app/common/react/components/profile/ProfileBoards/ProfileBoardsPage.tsx")},[]);let t=(0,H.B)(),{checkExperiment:o}=(0,x.Z)(),n=(0,R.Z)(),a=(0,N.Z)(),s=(0,r.useRef)(null),[,d]=(0,r.useState)(!1);(0,r.useLayoutEffect)(()=>{d(!0)},[]);let[c,u]=(0,r.useState)(!1),_=(0,K.WG)()?.boardSortOrder.get(e||"")??"",{data:f}=(0,eh.Z)(),{data:h}=(0,L.Z)({name:"UserMetadataResource",options:{user:{id:e}}});if(!f||!h)return null;let{most_recent_board_sort_order:m}=h,{has_custom_board_sorting_order:g=!1}=f,b=(0,ef.Z)({user:f,viewer:n}),w=(0,G.q6)(n,f.id,a),y=n.isAuth&&void 0!==n.groupBoardCount&&n.groupBoardCount>0,P=(0,e_.Z)({hasCustomOrder:g,hasGroupBoard:y,isOwnProfile:b||w,mostRecentBoardSortOrder:m||void 0,updatedBoardOrder:_,requestContext:t}),v=!1===f.is_partner&&b&&o("web_retrieval_hub_profile_split_").anyEnabled,C=!v&&(b||w);return(0,p.jsxs)(i.kC,{direction:"column",gap:{row:0,column:2},children:[C&&(0,p.jsx)(i.xu,{paddingX:4,children:(0,p.jsxs)(i.kC,{justifyContent:"between",children:[(b||w)&&(0,p.jsx)(i.xu,{ref:s,children:(0,p.jsx)(eu.Z,{setVisibilityControlsModalOpen:u,user:f})}),(b||w)&&(0,p.jsx)(ec.Z,{currentTab:ep.un.SAVED})]})}),(0,p.jsx)(ed,{boardOrder:P,filterStories:!1,isOwnProfile:b||w,isRetrievalHub:v,mixPublicSecret:b||w,user:f,username:f.username}),c&&(0,p.jsx)(r.Suspense,{children:(0,p.jsx)(em,{setVisibilityControlsModalOpen:u})})]})}var ex=o(329894),eb=o(520803);function ew(){(0,r.useEffect)(()=>{(0,l.Z)("ProfileSavedContainer","/app/common/react/components/profile/ProfileSaved/ProfileSavedContainer.tsx")},[]);let{data:e}=(0,eh.Z)(),t=(0,eb.Z)();return(0,ex.S)(t.params.username,e?.id,13669),(0,p.jsx)(eg,{username:t.params.username})}},169166:function(e,t,o){o.d(t,{Z:()=>l});let l=(0,o(667294).createContext)(null)},506807:function(e,t,o){o.d(t,{Z:()=>l});let l=(0,o(667294).createContext)(null)},495839:function(e,t,o){o.d(t,{Z:()=>I});var l=o(686659),r=o(667294),i=o(970414),n=o(687412),a=o(774303),s=o(705460),d=o(830031),c=o(267398),u=o(381571),_=o(217472),p=o(780657),f=o(139876),h=o(87980),m=o(240083),g=o(296264),x=o(484243),b=o(774254),w=o(479901),y=o(774838),P=o(178355),v=o(767415),C=o(785893);let A=["initial_app_load","client_route_push"],E=(0,a.XV)("PwtSurface"),j="NavigationComplete",T="VisuallyComplete",z=()=>{(0,u._T)()},Z=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let o=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:l,pwtStaticContext:r,annotateExperiments:i},annotations:a,binaryAnnotations:d,constraintMap:_,startTime:p,imageTimings:f,spans:m,traceId:g}=e;(0,b.Z)(`Report_PWT_Complete_${(0,n.KJ)(l)}`,p,o);let x=(0,c.W)({annotateExperiments:[...i??[]],annotations:a,binaryAnnotations:d,constraintMap:_,endTime:o,imageTimings:f,metricId:l,pwtMeasures:(0,w.zU)(),pwtStaticContext:r,startTime:p,traceId:g,spans:m});try{var t=String(x.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let o=t.name.replace(".jpg","").split("/");return{[o[o.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let o=t.src.replace(".jpg","").split("/"),l=o[o.length-1];if(e[l]){let o=(0,h.rZ)(t)?.width||1,r=e[l].downloadSize;return{fileName:l,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:l,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let o=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),l=o[o.length-1];if(e[l]&&t instanceof HTMLDivElement){let o=(0,h.rZ)(t)?.width||1,r=e[l].downloadSize;return{fileName:l,renderedSize:o,downloadedSize:r,ratio:r/o}}return{fileName:l,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:o,fileName:l,downloadedSize:r}=e;e.ratio>1.05&&(0,s.A9)(`checkImageRatio.${t}`,{count:Math.round(10*o)/10,tags:{fileName:`${r}_${l}`}})})}catch(e){(0,s.H)("image_ratio_check_error",{error:e})}return(0,u._T)(),{...e,result:x,status:"DONE"}}return E(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},S=(e,t)=>{let{constraint:o,time:l}=t,r=(0,n.KJ)(e.metricConfig.metricId);return g.Z?e.metricConfig.constraints.find(e=>e===o)?e.constraintMap[o]?(E(`constraint "${o}" is already complete.`),(0,s.H)("duplicated_constraint_complete",{constraint:o,action:r}),e):(E(`marking constraint "${o}" as complete ${l||performance.now()}`),l?(0,x.Z)(`constraint_${o}_is_complete`,l):(0,x.Z)(`constraint_${o}_is_complete`),Z({...e,constraintMap:{...e.constraintMap,[o]:l||g.Z.now()}})):(E(`marked constraint "${o}" is not a required constraint.`),e):((0,s.H)("missing_window_performance",{action:r}),e)},B=(e,t)=>{if(E("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:o,startTime:l,isSampled:r,disablePWTLogging:i}=t;if(i||"TIMING"!==e.status||l===e.startTime||z(),!o)return{status:"DISABLED",metricConfig:null};let a=(0,n.KJ)(o.metricId);if("TIMING"===e.status&&e.startTime===l&&e.constraintMap[j])return(0,s.H)("duplicated_init_route_action",{action:a}),e;if(!i){let e=(0,P.H)();(0,s.A9)(`handler.${a}`,{tags:{handler:e}});let t=void 0!==o.metricId.isAuthenticated&&{tags:{isAuth:o.metricId.isAuthenticated}}||void 0;"Other"===o.pwtStaticContext.browserName&&!1===o.metricId.isAuthenticated&&"initial_app_load"===o.metricId.navigationType?((0,s.A9)(`TIMING.${a}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,s.A9)(`TIMING.sampled.${a}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,s.A9)(`TIMING.${a}`),(0,s.A9)(`TIMING.sampled.${a}`,{sampleRate:.03})),(0,_.C)({resultLog:`TIMING.${a}`,annotateExperiments:o.annotateExperiments||[],getExperimentGroup:o.pwtStaticContext.getExperimentGroup,options:t})}return S({traceId:(0,u.vc)()||(0,u.ZP)("initial_app_load"===o.metricId.navigationType,o.pwtStaticContext.getServerData()?.trace_id),status:"TIMING",metricConfig:o,startTime:l,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:j,disablePWTLogging:i})})(e,t.payload);if("TIMING"!==e.status)return E(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":z();let o={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:o};case"ANNOTATE":let{name:l}=t.payload;if(!g.Z)return e;let r=g.Z.now();return E(`adding annotation {${l}: ${r}}`),{...e,annotations:{...e.annotations,...{[l]:r}}};case"BINARY_ANNOTATE":let{name:i,value:a,annotationType:d}=t.payload;return E(`adding binary annotation {${i}: ${a}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[i]:{value:a,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return S(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!g.Z){let t=(0,n.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}E(`removing constraint "${t}"`);let o=e.metricConfig.constraints.filter(e=>e!==t),{[t]:l,...r}=e.constraintMap;return Z({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:o}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!g.Z){let t=(0,n.KJ)(e.metricConfig.metricId);(0,s.H)("missing_window_performance",{action:t})}E(`updating pwt segment to "${c}"`);let p={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:p}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:o}}=t;if(0===o.length)return z(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let l=Math.max(...o.map(e=>e.responseEnd||0));return S({...e,imageTimings:o},{constraint:T,time:l})}case"ADD_SUBSPAN":let{startTime:f}=e,{payload:{name:h,startTime:x,endTime:b,annotations:w,binaryAnnotations:y,parentId:v}}=t;return{...e,spans:[...e.spans,{name:h,id:(0,m.Z)(),startTime:x||f,endTime:b,annotationMap:{...w},binaryAnnotationMap:{...y},parentId:v}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,m.Z)(),startTime:g.Z?g.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let C=e.spans.findIndex(e=>e.name===t.payload.name);return C>-1?(e.spans[C].endTime=g.Z?g.Z.now():0,t.payload.annotations&&(e.spans[C].annotationMap={...e.spans[C].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[C].binaryAnnotationMap={...e.spans[C].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let A=(0,n.KJ)(e.metricConfig.metricId);return(0,s.H)("invalid_pwt_surface_action",{action:A}),e}},R=new Set;function I({children:e,...t}){(0,r.useEffect)(()=>{(0,l.Z)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let o=(0,p.Z)(),a=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(o),c=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],u=[...t.annotateExperiments??[],...c],{context:_}=(({surface:e,constraints:t,segment:o,measureGridVisuallyComplete:l,annotateExperiments:n,customEnabledNavigationTypes:a,navigationInfo:{clientNavigation:s,navigationType:d},sampleRate:c})=>{let u=(0,r.useRef)("NOT_SET"),_=(0,f.Z)(),{getState:p,dispatch:h}=((e,t)=>{let o=(0,r.useRef)(t);return{getState:()=>o.current,dispatch:t=>{o.current=e(o.current,t)}}})(B,{status:"DISABLED",metricConfig:null}),m=(0,y.B)();if(u.current!==s&&(u.current=s,_)){let{isAuthenticated:r}=_,i=e&&d&&(a||A).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:r,segment:o},annotateExperiments:n,constraints:[j,...t||[],...l?[T]:[]],pwtStaticContext:_}:null;(0,v.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:r}});let u=!R.has(s);h({type:"INIT_ROUTE",payload:{metricConfig:i,startTime:s?s.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&R.add(s)}let x=p();if((0,r.useEffect)(()=>()=>{R.delete(s)},[s]),(0,r.useEffect)(()=>{let e=e=>{h({type:"ABORT",reason:e})};i.Z.onSessionPause(e);let t=window.innerHeight,o=window.innerWidth,l=()=>{let e=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-o),i=window.innerHeight!==t,n=window.innerWidth!==o,a={handler:(0,P.H)(),deviceType:_?.deviceType??"unknown",isAuthenticated:_?.isAuthenticated??"unknown",platform:m.userAgent.platform??"unknown"};if((0,v.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...a,heightChanged:i,widthChanged:n}}),i&&(0,v.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:a}),n&&(0,v.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:a}),window.removeEventListener("resize",l),_?.deviceType==="phone"&&(!n&&i&&e<=150||!i&&!n)||_?.deviceType==="desktop"&&!i&&!n)return void(0,v.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...a,heightChanged:i,widthChanged:n}});h({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",l),()=>{let t=p();E("handling unmount",t),"TIMING"===t.status&&z(),i.Z.removePauseListener(e),window.removeEventListener("resize",l)}},[]),"TIMING"!==x.status||!x.constraintMap[j])return{state:x,context:null};let{startTime:b,metricConfig:w}=x;return{state:x,context:{abort:e=>h({type:"ABORT",reason:e}),addAnnotation:e=>h({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,o)=>h({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:o}}),addSubspan:(e,t,o,l={},r={},i=null)=>h({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:o,annotations:l,binaryAnnotations:r,parentId:i}}),getId:()=>b,getMetricId:()=>w.metricId,markConstraintComplete:e=>h({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:g.Z?g.Z.now():0}}),removeConstraint:e=>h({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>h({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:w.constraints.includes(T)?e=>h({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},o={},l=null)=>h({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:l}}),stopSubspan:(e,t={},o={},l=null)=>h({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:o,parentId:l}})}}})({...t,annotateExperiments:u,navigationInfo:{navigationType:a,clientNavigation:o}}),h=(0,d.A)(),m=!!h;return(0,r.useEffect)(()=>{if(m){let e=h?.getMetricId(),t=e?(0,n.KJ)(e):null;(0,s.H)("nested_pwt_surface",{action:t})}},[m]),(0,C.jsx)(d.S,{value:_,children:e})}},830031:function(e,t,o){o.d(t,{A:()=>r,S:()=>l});let{Provider:l,getMaybe:r}=(0,o(213491).Z)("pwtSurfaceContext")},780657:function(e,t,o){o.d(t,{Z:()=>i});var l=o(667294),r=o(169166);function i(){return(0,l.use)(r.Z)}},139876:function(e,t,o){o.d(t,{Z:()=>i});var l=o(667294),r=o(506807);function i(){return(0,l.use)(r.Z)}},381500:function(e,t,o){function l(e){return e===window?window.innerHeight:e.clientHeight}function r(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function i(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function n(e){return e===window?r():e.scrollTop}o.d(t,{MX:()=>n,S$:()=>r,Uy:()=>l,aZ:()=>i})},439048:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),r=o(667294),i=o(391995),n=o(24246),a=o(774838),s=o(113759),d=o(785893);let c=({onClick:e,showShadow:t,size:o="lg",onMouseEnter:l})=>{let a=(0,n.Z)();return(0,d.jsx)(r.Fragment,{children:(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{animation:t?"showShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards":"hideShadow 1s cubic-bezier(0.165, 0.84, 0.44, 1) forwards"}},onMouseEnter:l,rounding:"circle",children:(0,d.jsx)(i.hU,{accessibilityLabel:a._('Back', 'backButton.accessibilityLabel', 'Accessibility label for the button to navigate back to the previous page'),bgColor:"default",dataTestId:"back-icon-button",icon:"arrow-left",iconColor:"default",onClick:e,size:o})},"back-button-icon")})};function u({handleScroll:e,left:t=-12,marginTop:o,onClick:n,showShadow:u,onMouseEnter:_,size:p="xl"}){(0,r.useEffect)(()=>{(0,l.Z)("BackButton","/app/packages/ui/BackButton.tsx")},[]);let{closeupWithinMasonryEnabled:f}=(0,s.x4)(),{isRTL:h}=(0,a.B)();return(0,r.useEffect)(()=>e?(window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)):()=>{},[e]),(0,d.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...h?{right:0}:{left:f?0:t}}},"data-test-id":"back-button",display:"flex",position:"relative",children:(0,d.jsx)(c,{marginTop:o,onClick:n,onMouseEnter:_,showShadow:u,size:p})})}},17658:function(e,t,o){o.d(t,{Z:()=>r});var l=o(667294);function r(e,t){let o=(0,l.useRef)([]),[r,i]=(0,l.useState)(),[n,a]=(0,l.useReducer)(r??(()=>t),t),s=(0,l.useCallback)(t=>{r?a(t):(o.current.length||e().then(e=>{i(()=>e.default)}),o.current=[...o.current,t])},[e,r]);return(0,l.useEffect)(()=>{r&&(o.current.forEach(a),o.current=[])},[r]),[n,s]}},614400:function(e,t,o){o.d(t,{Z:()=>l});function l(e=0){return new Promise(t=>setTimeout(t,e))}},959327:function(e,t,o){o.d(t,{Z:()=>r,j:()=>l});let l=800,r=369},264267:function(e,t,o){o.d(t,{pb:()=>b,nf:()=>w,lV:()=>y});var l=o(667294),r=o(581722),i=o(441143),n=o.n(i),a=o(27399),s=o(213491),d=o(47755),c=o(57887),u=o(360033),_=o(730056);let p={feature_map:Object.freeze({})},f=(e,t)=>{let o={...(0,_.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,u.ZP)(e,o)?e:o},h=(e,t)=>{if(e=e||p,"FETCH_COMPLETE"===t.type){let{payload:{resource:o,options:l={}}}=t,{data:r}=t.payload.response.resource_response;if("AggregatedCommentReplyFeedResource"===o||"ApiResource"===o&&l.url===`/v3/aggregated_comments/${l.data?.aggregated_comment}/replies/`||"ApiResource"===o&&l.url===`/v3/aggregated_pin_data/${l.data?.aggregated_pin_data}/comments/`||"DidItCommentsResource"===o){let t=(r||[]).reduce((t,o)=>(t[o.id]=f(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsResource"===o&&r&&r.length>0){let t=r.filter(e=>"aggregatedcomment"===e.type).reduce((t,o)=>(t[o.id]=f(e[o.id],o),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===o&&r&&r.length>0){let t=r.map(e=>e.aggregated_comment).reduce((t,o)=>(o&&(t[o.id]=f(e[o.id],o)),t),{}),o=r.map(e=>e.creator_reply).reduce((t,o)=>(o&&o.id&&(t[o.id]=f(e[o.id],o)),t),{});return{...e,...t,...o}}if("ApiResource"===o&&"/v3/aggregated_comments/features/"===l.url&&r&&Object.keys(r).length>0)return{...e,feature_map:r}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:o}}=t;return o.id?{...e,[o.id]:o}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:o}}=t,l={...e};return delete l[o],l}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:o}}=t;return Object.fromEntries(Object.entries(e??{}).filter(e=>e[1].user?.id!==o))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:o}}=t;return{...e,[o.id]:f(e?.[o.id],o)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e?.[o.id],r=l?.reaction_counts[1]||0,i={1:o.reaction_by_me?r+1:r-1},n={...l,reaction_by_me:o.reaction_by_me,reaction_counts:i};return{...e,[o.id]:n}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:o}}=t,l=e?.[o.id],r=l?.helpful_count||0,i=o.marked_helpful_by_me?r+1:r-1,n={...l,marked_helpful_by_me:o.marked_helpful_by_me,helpful_count:i};return{...e,[o.id]:n}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:o}}=t,l={...e?.[o.aggregated_comment_id],highlighted_by_pin_owner:o.is_highlighted};return{...e,[o.aggregated_comment_id]:l}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:o}}}=t;return{...e,feature_map:{...e?.feature_map,...o}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:o,id:l}}=t,r=e?.[l];if(!r)return e;let i={...r,comment_count:r.comment_count+o};return{...e,[l]:i}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:o,tagged_users:l}}=t,r={...e?.[o],tagged_users:l};return{...e,[o]:r}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:o,translatedText:l}}=t,r={...e?.[o],translatedText:l};return{...e,[o]:r}}return e};var m=o(785893);let{Provider:g,get:x}=(0,s.Z)("AggregatedComments");function b({children:e}){let t=(0,r.v9)(({resources:e})=>e?.UnifiedCommentsResource),o=p;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),l=t?.reduce((e,t)=>(e[t.id]=f(o[t.id],t),e),{});o={...o,...l}});let[i,n]=(0,l.useReducer)(h,o),a=e=>{n({type:"FETCH_COMPLETE",payload:e})};(0,c.Z8)("AggregatedCommentReplyFeedResource",a),(0,c.my)("AggregatedCommentReplyFeedResource",a),(0,c.Z8)("ApiResource",a),(0,c.my)("ApiResource",a),(0,c.Z8)("DidItCommentsResource",a),(0,c.my)("DidItCommentsResource",a),(0,c.Z8)("UnifiedCommentsPreviewResource",a),(0,c.my)("UnifiedCommentsPreviewResource",a),(0,c.Z8)("UnifiedCommentsResource",a),(0,c.my)("UnifiedCommentsResource",a);let s=(0,l.useMemo)(()=>({aggregatedComments:i,dispatch:n}),[i,n]);return(0,m.jsx)(g,{value:s,children:e})}function w(){let{dispatch:e}=x();return(0,l.useMemo)(()=>({aggregatedCommentCreated(t,o){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:o}})},aggregatedCommentDeleted:(t,o)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:o}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:o,detailedReasons:l})=>e?(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/flag/",urlParams:{aggregated_comment:t},method:"PUT",data:{reason:o,detailed_reasons:l}}):(0,d.Z)({url:"/v3/did_it/{user_did_it_data}/flag/",urlParams:{user_did_it_data:t},method:"PUT",data:{reason:o,detailed_reasons:l}}),deleteCommentMention:async t=>{let{resource_response:o}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/mentions/",urlParams:{aggregated_comment:t},method:"DELETE"}),l=o.data;l?.id&&e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:l.id,tagged_users:l.tagged_users??[]}})},translateAggregatedComment:async t=>{try{let{resource_response:o}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/translate/",urlParams:{aggregated_comment:t},method:"GET"}),l=o.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:l}})}catch(o){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:o,orbacSubjectId:l})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:o?"DELETE":"POST",data:l?{orbac_subject_id:l}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!o}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:o,isHighlighted:l})=>{n()(t,"Could not find comment"),n()(o,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:o,highlight:!l}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:o,is_highlighted:!l}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:o,orbacSubjectId:l})=>{(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/react/",urlParams:{aggregated_comment:t},method:o?"DELETE":"POST",data:{reaction_type:1,...l?{orbac_subject_id:l}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!o}}})},updateAggregatedComment:async({commentId:t,force:o,orbacSubjectId:l,tags:r,text:i})=>{let{resource_response:n}=await a.Z.create("AggregatedCommentResource",{commentId:t,force:o,tags:r,text:i,...l?{orbacSubjectId:l}:{}}).callUpdate({showError:!1}),{tagged_users:s}=n.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:s.map(e=>({...e})),tags:JSON.parse(r),text:i}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:o,passcode:l,userConfirmPasscode:r})=>{let{resource_response:i}=await (0,d.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:t,feature_map:JSON.stringify(o),passcode:l,user_confirm_skip_passcode:r??!1}});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:i.data??Object.freeze({})}}})},updateCommentCount:(t,o)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:o,id:t}})}}),[e])}function y(){let{aggregatedComments:e}=x();return e}},488661:function(e,t,o){o.d(t,{HW:()=>a,MS:()=>u,i3:()=>_});var l=o(667294),r=o(213491),i=o(510755),n=o(785893);let a=i.fe+1,s={educationId:null,paddingRight:0,zIndex:a};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:o}=t.payload;return{...e,educationId:o};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:l}=t.payload;return{...e,paddingRight:l};case"FOOTER_SET_Z_INDEX":let{zIndex:r}=t.payload;return{...e,zIndex:r};default:return e}}let{Provider:c,get:u}=(0,r.Z)("footerContext");function _({children:e}){let[t,o]=(0,l.useReducer)(d,s),r=(0,l.useCallback)(e=>o({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),i=(0,l.useCallback)(e=>o({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),a=(0,l.useCallback)(e=>o({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,l.useMemo)(()=>({...t,setEducationId:i,setPaddingRight:r,setZIndex:a}),[t,i,r,a]);return(0,n.jsx)(c,{value:u,children:e})}},872003:function(e,t,o){o.d(t,{G:()=>_,Kl:()=>p,vo:()=>u});var l=o(667294),r=o(213491),i=o(57887),n=o(17658),a=o(785893);let s=()=>o.e("65333").then(o.bind(o,557189)),{Provider:d,get:c}=(0,r.Z)("NativeEngagements");function u({children:e}){let[t,o]=(0,n.Z)(s,[]);(0,i.Z8)("NativeInteractionsResource",e=>{o({type:"FETCH_COMPLETE",payload:e})}),(0,i.my)("NativeInteractionsResource",e=>{o({type:"FETCH_MORE_COMPLETE",payload:e})});let r=(0,l.useMemo)(()=>({dispatch:o,nativeEngagements:t}),[o,t]);return(0,a.jsx)(d,{value:r,children:e})}function _(){let{dispatch:e}=c();return(0,l.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function p(){let{nativeEngagements:e}=c();return e}},430583:function(e,t,o){o.d(t,{Z:()=>n,b:()=>i});var l=o(173874);let r=[l.isBusinessAccountConvertPage,l.isBusinessInvitePage,l.isCreatePinPage,l.isLoginPage,l.isOAuthPage,l.isAppFactoryOAuthPage,l.isAgeAppealPage,l.isPinToBoardPage,l.isStoryboardPage,l.isCommerceIntegrationsConnectPage];function i(e,t){return(t?r:[...r,l.isCollageCreationPage]).every(t=>!t(e))}function n(e){return r.every(t=>!t(e))}},883097:function(e,t,o){o.d(t,{US:()=>m,X2:()=>x,mW:()=>g});var l=o(667294),r=o(27399),i=o(104999),n=o(213491),a=o(702763),s=o(57887),d=o(17658),c=o(785893);let u=()=>o.e("14197").then(o.bind(o,974429));function _(e,t,o=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:o}}}function p(e){return r.Z.create("InterestFollowResource",{interest_id:e,interest_list:a.X})}let{Provider:f,get:h}=(0,n.Z)("Topics");function m({children:e}){let[t,o]=(0,d.Z)(u,{}),r=e=>{o({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,s.Z8)("InterestFollowingResource",r),(0,s.Z8)("InterestResource",r);let i=(0,l.useMemo)(()=>({dispatch:o,topics:t}),[o,t]);return(0,c.jsx)(f,{value:i,children:e})}function g(){let{dispatch:e}=h(),t=(0,i.Z)();return(0,l.useMemo)(()=>({follow:async(o,l=!1)=>{e(_(o,!0,l));try{await p(o).callCreate({showError:!1}),t({event_type:601,object_id_str:o})}catch(t){e(_(o,!1,l))}},unfollow:async o=>{e(_(o,!1));try{await p(o).callDelete({showError:!1}),t({event_type:602,object_id_str:o})}catch(t){e(_(o,!0))}}}),[e,t])}function x(){let{topics:e}=h();return e}},217616:function(e,t,o){o.d(t,{Z:()=>a});var l=o(312048),r=o(935059),i=o(173874),n=o(430583);function a(){let e=(0,r.Z)(),t=(0,l.TH)();return{enabled:(0,n.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,i.isEmailUnsubscribePage)(t)}}},882390:function(e,t,o){o.d(t,{Z:()=>a});var l=o(686659),r=o(667294),i=o(500602),n=o(785893);let a=()=>((0,r.useEffect)(()=>{(0,l.Z)("VerticalNavDivider","/app/www/VerticalNav/shared/VerticalNavDivider.tsx")},[]),(0,n.jsx)("hr",{"data-gestalt-valid-html":"Divider",style:{display:"block",borderTop:`1px solid ${i.bd}`,margin:0,borderBottom:"none",borderLeft:"none",borderRight:"none"}}))},691198:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),r=o(667294),i=o(391995),n=o(935059),a=o(24246),s=o(507006),d=o(216975),c=o(785893);function u({count:e,onClick:t,variant:o,size:u="300"}){(0,r.useEffect)(()=>{(0,l.Z)("FollowersDisplay","/app/www/followersAuthDesktop/FollowersDisplay.tsx")},[]);let _=(0,a.Z)(),{isAuth:p}=(0,n.Z)(),f=e<=0,h={followers:(0,d.nk)(_.ngettext('{{count}} follower', '{{count}} followers', e, 'label for n followers', 'label for n followers'),{count:(0,c.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"following-count")}),following:(0,d.nk)(_.ngettext('{{count}} following', '{{count}} following', e, 'label for n following users', 'label for n following users'),{count:(0,c.jsx)(s.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e||0},"follower-count")})};return p?(0,c.jsx)(i.xu,{"data-test-id":`profile-${o}-count`,display:"inlineBlock",children:(0,c.jsx)(i.iP,{disabled:f,onTap:({event:e})=>t(o,e),children:(0,c.jsx)(i.xe,{inline:!0,overflow:"noWrap",size:u,weight:f?"normal":"bold",children:h[o]})})}):(0,c.jsx)(i.xe,{inline:!0,children:h[o]})}},89776:function(e,t,o){o.d(t,{Z:()=>tK});var l=o(686659),r=o(667294),i=o(581722),n=o(312048),a=o(391995),s=o(619546),d=o(627973),c=o(710987),u=o(351679),_=o(230201),p=o(24246),f=o(774838),h=o(785893);function m({shuffle:e,onClick:t,refreshDrafts:o}){(0,r.useEffect)(()=>{(0,l.Z)("CollageDraftCard","/app/common/react/components/profile/ProfileCollages/Drafts/CollageDraftCard.tsx")},[]);let{isRTL:i}=(0,f.B)(),{logContextEvent:n}=(0,_.u)(),[s,m]=(0,r.useState)(!1),g=(0,p.Z)(),[x,b]=(0,r.useState)(!1),[w,y]=(0,r.useState)(!1),P=(0,r.useRef)(null),{id:v,images:C}=e,A=C&&(C["736x"]?.url||C["474x"]?.url||C["236x"]?.url||C.orig?.url),E={deleteDraft:g._('Delete draft', 'collageDraftCard.dropdown.delete', 'Text for the delete draft button')},j=()=>{m(!1)},T=async()=>{v&&(j(),await (0,u.Z)(v),o())};return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(a.xu,{onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),y(!1)},position:"relative",rounding:d.fw,width:"100%",children:[(0,h.jsx)(a.zd,{height:"100%",rounding:400,wash:!0,width:"100%",children:(0,h.jsx)(a.Ee,{alt:g._('Collage draft image', 'collageDraftCard.image', 'Collage draft image alt text'),naturalHeight:279,naturalWidth:157,src:A??void 0})}),x&&(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgb(51 51 51 / 0.8)"}},height:"100%",left:!0,opacity:60,position:"absolute",rounding:d.fw,top:!0,width:"100%"}),(0,h.jsxs)(a.xu,{bottom:!0,display:"flex",left:i,margin:2,position:"absolute",right:!i,children:[(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(a.hU,{accessibilityLabel:g._('Edit button', 'collageDraftCard.edit', 'Icon indicating that a collage draft is editable'),bgColor:"default",icon:"pencil",iconColor:"default",onClick:()=>{n({event_type:101,element:16321,view_parameter:4136,view_type:635,aux_data:{collage_draft_id:v}}),t()},size:"md",tabIndex:-1})}),(0,h.jsxs)(a.xu,{children:[(0,h.jsx)(a.hU,{ref:P,accessibilityExpanded:w,accessibilityHaspopup:!0,accessibilityLabel:E.deleteDraft,bgColor:"default",icon:"ellipsis",iconColor:"default",onClick:()=>y(e=>!e),selected:w,size:"md"}),w&&(0,h.jsx)(a.Lt,{anchor:P.current,id:`collage-draft-card-dropdown-${v}`,onDismiss:()=>y(!1),children:(0,h.jsx)(a.Lt.Item,{onSelect:()=>m(!0),option:{value:E.deleteDraft,label:E.deleteDraft}})})]})]})]})]}),s&&(0,h.jsx)(c.Z,{handleDelete:T,onDismiss:j})]})}var g=o(680616),x=o(276559);function b({isDrafts:e}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileCollagesEmptyState","/app/common/react/components/profile/ProfileCollages/ProfileCollagesEmptyState.tsx")},[]);let t=(0,p.Z)(),{logContextEvent:o}=(0,_.u)(),i=e?t._('You don\'t have any drafts', 'profile.collages.emptyState.title', 'Title for empty state in profile collages tab'):t._('You don\'t have any published collages', 'profile.collages.emptyState.title', 'Title for empty state in profile collages tab');return(0,h.jsx)(a.xu,{margin:"auto",children:(0,h.jsx)(a.xu,{padding:4,children:(0,h.jsx)(a.kC,{direction:"column",children:(0,h.jsx)(x.Z,{containerSize:320,description:t._('Snip-and-paste the best parts of your favorite Pins to create something completely new.', 'collageBuilder.profile.collages.emptyState.message', 'Message for empty state in profile collages tab'),illustrationSize:186,message:i,name:"collage",primaryAction:(0,h.jsx)(a.ZP,{color:"secondary",href:g.ZP,onClick:()=>{o({event_type:101,component:15085,element:13844,view_type:215})},size:"md",text:t._('Create collage', 'collageBuilder.profile.collages.emptyState.button', 'Button text for empty state in profile collages tab')})})})})})}var w=o(216975);function y({draftsCount:e,draftsResource:t,scrollableDivRef:o}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileDraftCollages","/app/common/react/components/profile/ProfileCollages/Drafts/ProfileDraftCollages.tsx")},[]);let{isFetching:i,refresh:s,shuffles:d,fetchMore:c}=t,u=(0,p.Z)(),_=(0,n.s0)(),f=(0,w.Wc)(u._('Drafts ({{ value }})', 'profile.collagesTab.draftsCount', 'Title for the Collages Drafts Feed. It shows the number of drafts. value: Number of collage drafts.'),{value:e.toString()}),g=d&&d?.length>0;return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsx)(a.qd,{size:"400",children:f})}),(0,h.jsx)(a.kC,{alignItems:"start",height:"100%",justifyContent:"start",width:"100%",wrap:!0,children:d?(0,h.jsx)(r.Fragment,{children:g?(0,h.jsx)(a.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:c,minCols:2,renderItem:({data:e})=>(0,h.jsx)(m,{onClick:()=>{var t;t=e.id??"",_(`/collage-creation-tool/?draftId=${t}`)},refreshDrafts:s,shuffle:e}),scrollContainer:()=>o.current||window}):(0,h.jsx)(b,{isDrafts:!0})}):(0,h.jsx)(a.xu,{margin:"auto",children:(0,h.jsx)(a.xH,{show:i})})})]})}var P=o(285676);function v({publishedCount:e,publishedCollagesResource:t,scrollableDivRef:o}){(0,r.useEffect)(()=>{(0,l.Z)("ProfilePublishedCollages","/app/common/react/components/profile/ProfileCollages/Published/ProfilePublishedCollages.tsx")},[]);let{fetchMore:i,isFetching:n,isRefreshing:s,publishedCollages:d}=t,c=(0,p.Z)(),u=(0,w.Wc)(c._('Published ({{ value }})', 'profile.collagesTab.publishedCount', 'Title for the Collages Published Feed. It shows the number of published collages. value: Number of published collages.'),{value:e.toString()}),_=d&&d?.length>0;return(0,h.jsx)(r.Fragment,{children:!d||s?(0,h.jsx)(a.xu,{margin:"auto",children:(0,h.jsx)(a.xH,{show:n})}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{marginBottom:4,children:(0,h.jsx)(a.qd,{size:"400",children:u})}),(0,h.jsx)(a.kC,{alignItems:"start",height:"100%",justifyContent:"start",width:"100%",wrap:!0,children:(0,h.jsx)(r.Fragment,{children:_?(0,h.jsx)(a.Rk,{columnWidth:157,gutterWidth:16,items:d||[],layout:"flexible",loadItems:i,minCols:2,renderItem:({data:e,itemIdx:t})=>"pin"!==e.type?null:(0,h.jsx)(a.xu,{marginBottom:2,marginEnd:4,width:157,children:(0,h.jsx)(P.r,{pinId:e.id,pinKey:{type:"Legacy",data:e},slotIndex:t,surface:"PublishedCollages",viewType:1})},e.id),scrollContainer:()=>o.current||window}):(0,h.jsx)(b,{})})})]})})}var C=o(75361),A=o(329577);function E({user:e}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileCollagesPage","/app/common/react/components/profile/ProfileCollages/ProfileCollagesPage.tsx")},[]);let t=(0,s.Z)(),o=(0,C.Z)(),{shuffles:i,refresh:n}=t,{publishedCollages:d}=o,c=(0,r.useRef)(null),u=(0,r.useRef)(null),{collagesFilter:_}=(0,A.WG)()??{collagesFilter:"ALL"},{collage_published_count:p=0,collage_draft_count:f=0}=e||{};return(0,r.useEffect)(()=>{void 0===i&&n()},[i]),(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(a.xu,{height:"100%",marginEnd:"auto",marginStart:"auto",paddingY:4,width:"95%",children:i&&d?(0,h.jsxs)(r.Fragment,{children:["PUBLISHED"!==_&&(0,h.jsx)(a.xu,{ref:c,children:(0,h.jsx)(y,{draftsCount:f,draftsResource:t,scrollableDivRef:c})}),"DRAFTS"!==_&&(0,h.jsx)(a.xu,{ref:u,marginTop:12*("ALL"===_),children:(0,h.jsx)(v,{publishedCollagesResource:o,publishedCount:p,scrollableDivRef:u})})]}):(0,h.jsx)(a.xH,{show:!0})})})}var j=o(982091),T=o(104999),z=o(943152),Z=o(935059),S=o(264267),B=o(118376),R=o(872003),I=o(18964),k=o(698681),D=o(9392),H=o(407504),O=o(647636),L=o(59111),M=o(501010),F=o(381500),N=o(510755),G=o(113463),U=o(92481);let V=`
.ProfileTabsFullName-enter {
  opacity: 0;
}

.ProfileTabsFullName-enter-active {
  opacity: 1;
  transition: opacity 300ms ease-in-out;
}

.ProfileTabsFullName-exit {
  opacity: 1;
}

.ProfileTabsFullName-exit-active {
  opacity: 0;
  transition: opacity 300ms ease-in-out;
}
`;function W({headerHeight:e,isOwnProfile:t,selectedTab:o,user:i}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileTabs","/app/www/profile/ProfileHeader/ProfileTabs.tsx")},[]);let{logContextEvent:s}=(0,_.u)(),d=(0,p.Z)(),c=(0,n.s0)(),u=(0,n.TH)(),{checkExperiment:f}=(0,M.Z)(),m=(0,r.useRef)(null),g=(0,r.useRef)(null),{eligible_profile_tabs:x=[],id:b,username:w}=i??{},y=new a.H3([new a.Ry(N.fe)]),P=u.pathname.includes(`/${U.qV}`),v=!1===i.is_partner&&t&&f("web_retrieval_hub_profile_split_").anyEnabled,C=v&&f("web_collage_creation").anyEnabled,A=v&&[U.sz.enabled_with_unorganized_feed,U.sz.enabled_with_log_fix].includes(f("web_retrieval_hub_profile_split_").group),[E,j]=(0,r.useState)(0),[T,z]=(0,r.useState)(!0),Z=(0,r.useRef)(null),S=()=>{j((0,F.S$)())},B=(0,r.useCallback)(e=>{e===G.un.RETRIEVAL_HUB_BOARDS?s({event_type:101,component:14461,element:A?void 0:10612,view_type:4,view_parameter:A?3106:4047}):e===G.un.RETRIEVAL_HUB_PINS?s({event_type:101,component:A?13668:14460,element:A?void 0:10612,view_type:4,view_parameter:A?3106:4047}):s({event_type:101,component:e in G.D1?G.D1[e]:void 0,object_id_str:b,view_type:4,view_parameter:t?3106:3107})},[A,t,s,b]);(0,r.useEffect)(()=>(window.addEventListener("scroll",S),()=>{window.removeEventListener("scroll",S)}));let R=(0,r.useMemo)(()=>({1:{tab:G.un.CREATED,text:d._('Created', 'profileHeader.tabs.created', 'Label for Created tab on profile header'),ref:m},0:{tab:G.un.SAVED,text:d._('Saved', 'profileHeader.tabs.saved', 'Label for Saved tab on profile header')},3:{tab:G.un.TRIED,text:d._('Tried', 'profileHeader.tabs.tried', 'Label for Tried tab on profile header')}}),[m,d]),I=(0,r.useCallback)(({isDefault:e=!1,ref:t,tab:l,text:r})=>({href:`/${w}/${l}/`,id:`${l}-profile-tab`,isActive:o===l,isDefault:e,onClick:()=>B(l),ref:t,text:r}),[o,B,w]),k=(0,r.useMemo)(()=>{let e=[];return v&&P?(e.push(I({...R[1],tab:G.un.PREVIEW_PROFILE_CREATED})),e.push(I({...R[0],tab:G.un.PREVIEW_PROFILE_SAVED}))):v?(e.push(I({ref:g,tab:G.un.RETRIEVAL_HUB_PINS,text:d._('Pins', 'profileHeader.tabs.selfProfilePins', 'Label for Pins tab on self profile header')})),e.push(I({ref:m,tab:G.un.RETRIEVAL_HUB_BOARDS,text:d._('Boards', 'profileHeader.tabs.selfProfileBoards', 'Label for Boards tab on self profile header')})),C&&e.push(I({tab:G.un.COLLAGES,text:d._('Collages', 'profileHeader.tabs.collages', 'Label for Collages tab on self profile header')}))):x.forEach(t=>{let{is_default:o,tab_type:l}=t,r=void 0!==l&&l in R?R[l]:null;r&&e.push(I({...r,isDefault:o}))}),e},[x,I,d,C,P,v,R]),D=(0,r.useMemo)(()=>k.some(e=>e.id===`${G.un.CREATED}-profile-tab`&&e.isActive),[k]),W=(0,r.useMemo)(()=>{let e=k.findIndex(({isActive:e})=>e);return -1!==e?e:Math.max(k.findIndex(({isDefault:e})=>e),0)},[k]);return k.length<2?(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(L.Z,{unsafeCSS:V}),(0,h.jsx)(H.Z,{classNames:"ProfileTabsFullName",in:!!e&&E>e,nodeRef:Z,timeout:300,unmountOnExit:!0,children:(0,h.jsx)(a.xu,{ref:Z,children:(0,h.jsx)(a.qd,{size:"400",children:i.full_name})})})]}):(0,h.jsxs)(a.xu,{children:[(0,h.jsx)(a.mQ,{activeTabIndex:W,onChange:({event:e,activeTabIndex:t})=>{let o=k[t];!o.isActive&&(o.onClick&&o.onClick(),"button"in e&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&(e.preventDefault(),c(o.href)))},tabs:k.map(({href:e,id:t,ref:o,text:l,isActive:r})=>r?{id:t,ref:o,text:l,href:""}:{href:e,id:t,ref:o,text:l})}),t&&D&&m.current&&(0,h.jsx)(a.mh,{zIndex:y,children:(0,h.jsx)(O.Qp,{anchor:m.current,experienceIds:[505363],idealDirection:"down",placementId:1000464,positionRelativeToAnchor:!1,showCaret:!0})}),v&&o===G.un.RETRIEVAL_HUB_BOARDS&&T&&(0,h.jsx)(O.a3,{eligibleIds:[U.Lz],placementId:19,children:(0,h.jsx)(a.mh,{zIndex:y,children:(0,h.jsx)(a.pl,{accessibilityLabel:d._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),anchor:g.current,id:"self-profile-educational-tooltip",idealDirection:"down",message:d._('Introducing a new way to view all of your Pins', 'profileHeader.tooltip.selfProfileEducationalTooltip', 'Educational tooltip for the self profile tabs'),onDismiss:()=>z(!1)})})})]})}var $=o(920343),J=o(962875);function K({headerHeight:e,selectedTab:t,user:o}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileHeaderActionBar","/app/www/profile/ProfileHeader/ProfileHeaderActionBar.tsx")},[]);let i=(0,Z.Z)(),n=(0,$.Z)({user:o,viewer:i}),a=(0,D.G)(o),s=t===G.un.PREVIEW_PROFILE?G.un.PREVIEW_PROFILE_SAVED:t,d=a?k.TL:0;return(0,h.jsx)(I.Z,{buttonsLeft:[],buttonsRight:[],headerHeight:e,offset:d,shouldStick:!0,stickyZIndex:J.Zu,children:(0,h.jsx)(W,{headerHeight:e,isOwnProfile:n,selectedTab:s,user:o})})}var Q=o(739405),Y=o(810356),q=o(470205),X=o(80769),ee=o(909575),et=o(710001),eo=o(247387),el=o(385114),er=o(200619),ei=o(601871),en=o(959327),ea=o(114024),es=o(667389),ed=o(271875),ec=o(894307),eu=o(993697),e_=o(791349),ep=o(14179),ef=o(819005),eh=o(52258),em=o(935763),eg=o(431465),ex=o(304264),eb=o(509400),ew=o(765661),ey=o(151308),eP=o(831431),ev=o(38581),eC=o(9065);let eA=(0,eC.Z)(()=>Promise.resolve().then(o.bind(o,938359)),void 0,e=>938359,"app-www-profile-ProfileHeader-ViewerCount",e=>[]),eE=(0,eC.Z)(()=>Promise.all([o.e("37251"),o.e("80294")]).then(o.bind(o,439782)),{fallback:(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"-60px"}},height:en.Z,position:"relative"})},e=>439782,"ProfileCover",e=>["37251","80294"]),ej=(0,eC.Z)(()=>o.e("12531").then(o.bind(o,93762)),{ssr:!1},e=>93762,void 0,void 0),eT=(0,eC.Z)(()=>o.e("18787").then(o.bind(o,831311)),{ssr:!1},e=>831311,void 0,void 0),ez="none",eZ="messageUpsell",eS="shareUpsell";function eB({onClickReportProfile:e,onCreatePincodeClick:t,onToggleBlock:o,onToggleFollow:i,setHeaderHeight:n,user:s}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileHeaderAuthDesktop","/app/www/profile/ProfileHeader/ProfileHeaderAuthDesktop.tsx")},[]);let{logContextEvent:d}=(0,_.u)(),c=(0,p.Z)(),u=(0,Z.Z)(),f=(0,r.useRef)(null),m=(0,r.useRef)(null),[g,x]=(0,r.useState)(ez),[b,w]=(0,r.useState)(!1),y=(0,er.Z)(),P=(0,z.Z)(),v=(0,$.Z)({user:s,viewer:u}),C=(0,r.useRef)(null);!function(e,t){let o=null,l=null,i=null,n=null,a=()=>{if(!o)return;let t=o.clientHeight,r=o.clientWidth;(l!==t||i!==r)&&(l=t,i=r,e(o)),n=window.requestAnimationFrame(a)};(0,r.useEffect)(()=>{var r;return t.current&&(r=t.current,o&&o===r||(o=r,l=r.clientHeight,i=r.clientWidth,e(o),a())),()=>{o=null,n&&window.cancelAnimationFrame(n)}},[t])}(e=>{n?.(e.clientHeight)},f);let{is_primary_website_verified:A,full_name:E,impressum_url:j,is_private_profile:T,is_verified_merchant:S,username:B,instagram_data:R,verified_identity:I,website_url:k,amazon_data:D}=s??{},{amazon_storefront_url:H,amazon_storefront_name:L,amazon_account_linking_status:F,amazon_linking_consent_status:N}=D||{},G=(0,Y.Z)({linkingStatus:F,consentStatus:N})&&H&&L,U=v||(0,ei.N1)(u,s,y),{checkExperiment:V}=(0,M.Z)(),W=!(0,ei.N1)(u,s,y),{dropdownOpen:J,setObjectAttachment:K}=(0,ed.Z)(),[Q,en]=(0,r.useState)(!1),eC=(0,ey.Z)(s),eB=u.isLimitedLogin,eR=(0,X.j3)()&&!!j,eI=I?.verified||S,ek=(0,et.l)(s),eD="";eD=v?c._('Your profile is private. Only approved followers can view your profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.self', 'Text on private profile icon tooltip.'):c._('This profile is private. Only approved followers can view their profile, Pins, boards, followers and following lists.', 'privateProfileHeaderAuthDesktop.privateIcon.tooltip.external', 'Text on private profile icon tooltip.');let eH=k?.length||0,eO=j?.length||0,eL=eg.U-eH-eO,eM=s?.about?(0,h.jsx)(eg.Z,{maxLength:eL,setShowMessageFlyout:w,user:s}):null,eF=eR?(0,h.jsx)(a.rU,{display:"inlineBlock",href:j||"",underline:"hover",children:(0,h.jsx)(ee.Z,{inline:!0,weight:"bold"})}):null,eN=k?(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(a.xv,{inline:!0,weight:"bold",children:(0,h.jsxs)(a.rU,{display:"inlineBlock",href:k,onClick:()=>{d({event_type:101,component:13056,element:12890,view_type:4,view_parameter:v?3106:3107,aux_data:{website_link:k}})},rel:"nofollow",target:"blank",underline:"hover",children:[A&&!eI&&(0,h.jsx)(ep.Z,{})," ",(0,ew.Z)(k)]})})}):null;return!T||v||s?.explicitly_followed_by_me?(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(a.xu,{ref:f,"data-test-id":"profile-header",display:"flex",justifyContent:"center",marginBottom:8,children:(0,h.jsx)(a.xu,{marginTop:eC?void 0:3,maxWidth:eC?656:488,width:"100%",children:(0,h.jsxs)(a.kC,{alignItems:"center",direction:"column",gap:{row:0,column:2},justifyContent:"center",children:[(0,h.jsxs)(a.xu,{width:eC?656:void 0,children:[eC&&!eB&&(0,h.jsx)(eE,{user:s}),(0,h.jsxs)(a.kC,{alignItems:"stretch",justifyContent:"center",children:[(0,h.jsx)(e_.Z,{ref:C,onTouch:t,user:s,viewer:u}),(0,h.jsx)(O.N,{anchors:{3020:C.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})]}),(0,h.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,h.jsxs)(a.qd,{accessibilityLevel:1,align:"center",size:"700",children:[(0,h.jsx)(a.xu,{"data-test-id":"profile-name",display:"inlineBlock",children:E}),eI&&(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",marginStart:2,children:(0,h.jsx)(es.Z,{isVerifiedIdentity:!!I?.verified,isVerifiedMerchant:S,size:"lg"})}),S&&(0,h.jsx)(es.O,{children:(0,h.jsx)(a.xv,{align:"center",color:"default",size:"200",children:c._('Verified Merchant', 'profileHeader.verifiedMerchantText', 'Text showing that user is a verified merchant')})}),T&&T&&(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(a.xu,{display:"inlineBlock",marginTop:4,paddingX:2,children:(0,h.jsx)(a.u,{link:(0,h.jsx)(a.xv,{color:"inverse",size:"100",weight:"bold",children:(0,h.jsx)(a.rU,{href:eo.Pm9,target:"blank",children:c._('Learn more', 'privateProfileHeaderAuthDesktop.privateIcon.learnMoreLink', 'Tooltip link to access more info about private profiles')})}),text:eD,zIndex:new a.Ry(10),children:(0,h.jsx)(a.xu,{"data-test-id":"profile-lock-icon",children:(0,h.jsx)(a.JO,{accessibilityLabel:c._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",size:24})})})}),!v&&(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"3px"}},display:"inlineBlock",children:(0,h.jsx)(eb.Z,{onClickReportProfile:e,onToggleBlock:o,showUnblockOption:!0,user:s})})]})]}),!!s?.is_inspirational_merchant&&(0,h.jsx)(q.Z,{name:"InspirationalBadges",children:(0,h.jsx)(eh.Z,{isOwnProfile:v,userId:s.id})}),eN||eF||eM?(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{textAlign:"center"}},marginTop:2,children:(0,h.jsx)(el.Z,{inline:!0,items:[eN,eF,null,eM]})}):void 0,(0,h.jsx)(eP.Z,{amazonStorefrontName:G?L:void 0,amazonStorefrontUrl:G?H:void 0,color:"subtle",instagramUsername:R?.username,pronounsText:ek,textSize:"200",username:B})]}),(0,h.jsx)(ef.Z,{user:s}),eC&&s?.profile_views!==-1&&(0,h.jsx)(eA,{user:s}),W&&(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,h.jsxs)(a.kC,{gap:{row:7,column:0},children:[!T&&(0,h.jsx)(ev.Z,{user:s}),(0,h.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(ex.Z,{setShowMessageFlyout:w,showMessageFlyout:b,user:s}),Q&&(0,h.jsx)(ea.Z,{onCancel:()=>{en(!1)},onConfirm:()=>{en(!1)},onToggleBlock:o,user:s}),s?.blocked_by_me?(0,h.jsx)(a.zx,{onClick:()=>{en(!0)},size:"lg",text:c._('Unblock', 'profileHeader.unblockButton', 'Button on a user profile to unblock that user')}):(0,h.jsx)(ec.Z,{button:({followText:e,onClick:t})=>(0,h.jsx)(a.xu,{"data-test-id":s?.explicitly_followed_by_me?"user-unfollow-button":"user-follow-button",children:(0,h.jsx)(a.Fm,{color:"primary",onClick:t,selected:s?.explicitly_followed_by_me??!1,size:"lg",text:e})}),fullName:E,id:s?.id??"",imageUrl:s?.image_large_url??"",isOwnProfile:!1,onUserFollow:i,profileUrl:`/${s?.username??""}/`,userFollowed:s?.explicitly_followed_by_me})]}),!T&&(0,h.jsx)(eu.Z,{userId:s?.id??"",children:({showSendMessageFlyout:t})=>(0,h.jsx)(eb.Z,{onClickReportProfile:e,onToggleBlock:o,showSendMessageFlyout:t,user:s})})]})}),s&&u&&g===eZ&&(0,h.jsx)(ej,{followee:s,follower:u,onDismiss:()=>x(ez),viewParameter:3107,viewType:4}),s&&u&&u.isAuth&&u.id&&g===eS&&(0,h.jsx)(eT,{followee:s,follower:u,onClickShareLink:()=>{x(ez),K({type:"follow_invite",id:u.id}),J()},onDismiss:()=>x(ez),viewParameter:3107,viewType:4}),U&&(0,h.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"8px"}},children:(0,h.jsxs)(a.kC,{gap:{row:2,column:0},children:[(0,h.jsx)(ev.Z,{labelVariant:(()=>{let e=V("ce_dweb_profile_share_button").group;return"enabled_share_profile"===e?"shareProfile":"enabled_icon_share_profile"===e||"enabled_icon_share_edit_profile"===e?"iconShareProfile":"share"})(),useGestaltButton:!0,user:s}),v&&(0,h.jsx)(a.xu,{"data-test-id":"edit-button",children:(0,h.jsxs)(a.kC,{gap:{row:2,column:0},children:[(0,h.jsx)(a.ZP,{ref:m,href:"/settings#profile",iconStart:"enabled_icon_share_edit_profile"===V("ce_dweb_profile_share_button").group?"pencil":void 0,onClick:({event:e})=>{if(P){e.stopPropagation(),P();return}d({event_type:101,element:94})},size:"lg",text:c._('Edit profile', 'profileHeader.editProfileButton', 'Button on a user profile to edit profile')}),(0,h.jsx)(O.N,{anchors:{3019:m.current},idealDirection:"down",onAnchorTouch:"complete",placementId:19,scrollToDismiss:!0})]})})]})})]})})})}):(0,h.jsx)(em.Z,{handleFollowSuccessFromInvite:()=>{x(s?.explicitly_following_me?eZ:eS)},onClickReportProfile:e,onToggleBlock:o,onToggleFollow:i,user:s,viewParameter:v?3106:3107,viewType:4})}var eR=o(565168);let eI=()=>{(0,r.useEffect)(()=>{(0,l.Z)("ProfileCollagesDraftsButton","/app/common/react/components/profile/ProfileCollages/ProfileCollagesFilters/ProfileCollagesDraftsButton.tsx")},[]);let e=(0,A.WG)(),{logContextEvent:t}=(0,_.u)(),o=(0,p.Z)(),{collagesFilter:i,setCollagesFilter:n}=e??{collagesFilter:"ALL",setCollagesFilter:()=>{}};return(0,h.jsx)(a.Fm,{onClick:()=>{"DRAFTS"===i?n("ALL"):(n("DRAFTS"),t({event_type:101,view_type:4,view_parameter:3106,component:15085,element:14264,aux_data:{profile_filter:"in_progress"}}))},selected:"DRAFTS"===i,text:o._('Drafts', 'profileCollages.filters.drafts', 'Drafts filter')})},ek=()=>{(0,r.useEffect)(()=>{(0,l.Z)("ProfileCollagesPublishedFilter","/app/common/react/components/profile/ProfileCollages/ProfileCollagesFilters/ProfileCollagesPublishedFilter.tsx")},[]);let e=(0,A.WG)(),{logContextEvent:t}=(0,_.u)(),o=(0,p.Z)(),{collagesFilter:i,setCollagesFilter:n}=e??{collagesFilter:"ALL",setCollagesFilter:()=>{}};return(0,h.jsx)(a.xu,{marginStart:2,children:(0,h.jsx)(a.Fm,{onClick:()=>{"PUBLISHED"===i?n("ALL"):(n("PUBLISHED"),t({event_type:101,view_type:4,view_parameter:3106,component:15085,element:14264,aux_data:{profile_filter:"created_by_you"}}))},selected:"PUBLISHED"===i,text:o._('Published', 'profileCollages.filters.published', 'Published filter')})})};var eD=o(582857),eH=o(770218),eO=o(417681),eL=o(866986),eM=o(249459),eF=o(319226),eN=o(661376),eG=o(893957),eU=o(691198);let eV=(0,eC.Z)(()=>o.e("6332").then(o.bind(o,113229)),void 0,e=>113229,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),eW=(0,eC.Z)(()=>Promise.all([o.e("25418"),o.e("56595"),o.e("94898")]).then(o.bind(o,923459)),void 0,e=>923459,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","56595","94898"]),e$=(0,r.lazy)(()=>o.e("89638").then(o.bind(o,763994))),eJ=new a.H3([J.c6]);function eK(e){(0,r.useEffect)(()=>{(0,l.Z)("SelfProfileHeader","/app/www/profile/ProfileHeader/SelfProfileHeader/SelfProfileHeader.tsx")},[]);let{tab:t,user:o}=e,i=(0,p.Z)(),s=(0,n.s0)(),{logContextEvent:d}=(0,_.u)(),c=(0,A.WG)(),[u,f]=(0,r.useState)(null),[m,g]=(0,r.useState)(!1),[x,b]=(0,r.useState)(!1),{checkExperiment:w}=(0,M.Z)(),y=w("web_curation_board_create_entry_points").anyEnabled,P=w("ce_dweb_profile_share_saved_ideas").anyEnabled,v=w("web_curation_collages_profile_filters").anyEnabled,C=w("web_curation_collages_create_button").anyEnabled,{selfProfileBoardFilter:E,setSelfProfileBoardFilter:j,selfProfilePinFilter:T,setSelfProfilePinFilter:z}=c??{selfProfileBoardFilter:null,selfProfilePinFilter:A.JH.NONE,setSelfProfileBoardFilter:()=>{}},Z=e=>{e===E?j(void 0):j(e)},[S,B]=(0,r.useState)(!1),R=[U.sz.enabled_with_unorganized_feed,U.sz.enabled_with_log_fix].includes(w("web_retrieval_hub_profile_split_").group),k=t===G.un.SAVED?G.un.RETRIEVAL_HUB_BOARDS:t;(0,eG.Z)(()=>{k===G.un.RETRIEVAL_HUB_PINS?d({event_type:13,view_type:4,view_parameter:R?3106:4047,component:R?13668:14460}):k===G.un.RETRIEVAL_HUB_BOARDS&&d({event_type:13,view_type:4,view_parameter:4047,component:14461})});let{about:D,archived_board_count:H=0,secret_board_count:O=0,image_xlarge_url:L,full_name:F="",follower_count:N=0,following_count:V=0,avatar_color_index:$,username:J,interest_following_count:K=0}=o,Q=(0,eN.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!0,page_size:eM.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:!0,username:J}}),Y=V-(K??0),q=()=>{f(null)},X=()=>{d({event_type:101,view_type:4,view_parameter:R?3106:4047,component:13056,element:12601})},ee=`/${J}/${U.qV}/`,et=e=>{f(e),d({event_type:101,view_type:4,view_parameter:R?3106:4047,component:13056,element:"followers"===e?42:41})},eo=[],er=[];if(k===G.un.RETRIEVAL_HUB_PINS){let e=[];o.pin_count&&(e=[(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.Fm,{dataTestId:"favorites_pins_button",iconStart:"star-fill",onClick:function(){if(z)switch(d({event_type:101,view_type:4,view_parameter:R?3106:4047,component:R?13668:14460,element:14264,aux_data:{profile_filter:A.JH.FAVORITED}}),T){case A.JH.CREATED_BY_ME:z(A.JH.FAVORITED_AND_CREATED);break;case A.JH.FAVORITED:z(A.JH.NONE);break;case A.JH.FAVORITED_AND_CREATED:z(A.JH.CREATED_BY_ME);break;case A.JH.NONE:z(A.JH.FAVORITED);break;default:z(A.JH.NONE)}},selected:T===A.JH.FAVORITED||T===A.JH.FAVORITED_AND_CREATED,text:i._('Favorites', 'SelfProfileHeader.favorites', 'Favorites filter for the self profile header section')})},1),(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.Fm,{dataTestId:"created_by_you_button",onClick:function(){if(z)switch(d({event_type:101,view_type:4,view_parameter:R?3106:4047,component:R?13668:14460,element:14264,aux_data:{profile_filter:A.JH.CREATED_BY_ME}}),T){case A.JH.CREATED_BY_ME:z(A.JH.NONE);break;case A.JH.FAVORITED:z(A.JH.FAVORITED_AND_CREATED);break;case A.JH.FAVORITED_AND_CREATED:z(A.JH.FAVORITED);break;case A.JH.NONE:z(A.JH.CREATED_BY_ME);break;default:z(A.JH.NONE)}},selected:T===A.JH.CREATED_BY_ME||T===A.JH.FAVORITED_AND_CREATED,text:i._('Created by you', 'SelfProfileHeader.createdbyyou', 'Created by you filter for the self profile header section')})},2)]),eo=[(0,h.jsx)(eL.Z,{},0),...e],er=y?[(0,h.jsx)(eD.Z,{currentTab:k},0)]:[(0,h.jsx)(eO.Z,{},0)]}else k===G.un.COLLAGES?(eo=v?[(0,h.jsx)(ek,{},0),(0,h.jsx)(eI,{},1)]:[],C&&(er=[(0,h.jsx)(eD.Z,{currentTab:k},0)])):(eo=[(0,h.jsx)(eH.Z,{setVisibilityControlsModalOpen:B,user:o},0),(0,h.jsx)(a.xu,{children:(0,h.jsx)(a.Fm,{onClick:()=>Z(A.ET.GROUP),selected:E===A.ET.GROUP,text:i._('Group', 'SelfProfileHeader.group', 'Group filter for the self profile header section')})},1)],O>0&&eo.push((0,h.jsx)(a.xu,{children:(0,h.jsx)(a.Fm,{onClick:()=>Z(A.ET.SECRET),selected:E===A.ET.SECRET,text:i._('Secret', 'SelfProfileHeader.secret', 'Secret filter for the self profile header section')})},2)),H>0&&eo.push((0,h.jsx)(a.xu,{children:(0,h.jsx)(a.Fm,{onClick:()=>Z(A.ET.ARCHIVED),selected:E===A.ET.ARCHIVED,text:i._('Archived', 'SelfProfileHeader.archived', 'Archived filter for the self profile header section')})},3)),er=[(0,h.jsx)(eD.Z,{currentTab:k},0)]);let ei=(0,h.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P&&m?"var(--sema-color-background-subtle)":void 0}},display:"flex",height:"100%",justifyContent:"center",padding:4*!!P,rounding:600,width:"100%",children:[(0,h.jsx)(a.xu,{alignItems:"center",display:"flex",height:60,justifyContent:"center",marginEnd:3,rounding:"circle",width:60,children:(0,h.jsx)(eF.qE,{color:$,name:F,size:"lg",src:L})}),(0,h.jsxs)(a.xu,{direction:"column",marginEnd:P?13:6,mdDisplay:"flex",smDisplay:"none",children:[(0,h.jsx)(a.xu,{"data-test-id":"profile-name",maxWidth:500,children:(0,h.jsx)(a.xv,{lineClamp:2,size:"400",weight:"bold",children:F})}),(0,h.jsx)(a.xu,{marginBottom:1,marginTop:1,maxWidth:500,children:(0,h.jsx)(a.xv,{align:"start",lineClamp:2,size:"200",children:D})}),(0,h.jsx)(a.xu,{flex:"grow",children:(0,h.jsx)(el.Z,{items:[N&&N>=0?(0,h.jsx)(eU.Z,{count:N,onClick:(e,t)=>{t.stopPropagation(),t.preventDefault(),et("followers")},size:"200",variant:"followers"}):null,Y>=0?(0,h.jsx)(eU.Z,{count:Y,onClick:(e,t)=>{t.stopPropagation(),t.preventDefault(),et("following")},size:"200",variant:"following"}):null]})})]}),P?(0,h.jsx)(ev.Z,{labelVariant:"shareProfile",updateSharesheetOpenRef:e=>b(e),useGestaltButton:!0,user:o}):(0,h.jsx)(a.zx,{color:"secondary",dataTestId:"selfProfileHeader-view-profile-button",fullWidth:!0,onClick:()=>{X(),s(ee)},size:"md",text:i._('View profile', 'SelfProfileHeader.button', 'Button that redirects to a user public profile')})]});return(0,h.jsx)(a.Le,{top:80,zIndex:eJ,children:(0,h.jsxs)(a.xu,{color:"default",width:"100%",children:[(0,h.jsxs)(a.xu,{alignItems:"center","data-test-id":"self-profile-header",display:"flex",justifyContent:"between",marginEnd:"auto",marginStart:"auto",paddingY:5,width:"85%",wrap:!0,children:[(0,h.jsxs)(a.kC,{justifyContent:"between",width:"100%",children:[(0,h.jsx)(a.kC,{alignItems:"center",height:"inherit",justifyContent:"start",minWidth:300,children:(0,h.jsx)(a.qd,{children:i._('Your saved ideas', 'SelfProfileHeader.title', 'Title for the self profile header section')})}),(0,h.jsx)(a.xu,{margin:P?-4:void 0,children:P?(0,h.jsx)(a.Tg,{href:x?"":ee,onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),onTap:x?()=>{}:X,rounding:600,children:ei}):ei})]}),(0,h.jsx)(a.xu,{marginTop:3,children:(0,h.jsx)(W,{isOwnProfile:!0,selectedTab:k,user:o})})]}),(0,h.jsx)(a.xu,{marginEnd:"auto",marginStart:"auto",width:"85%",children:(0,h.jsx)(I.Z,{buttonsLeft:eo,buttonsRight:er,paddingX:0,shouldStick:!1})}),"followers"===u&&(0,h.jsx)(eW,{onDismiss:q,totalFollowersCount:N}),"following"===u&&(0,h.jsx)(eV,{followersResource:Q,onDismiss:q,totalFollowersCount:Y,user:o,variant:u}),S&&(0,h.jsx)(r.Suspense,{children:(0,h.jsx)(e$,{setVisibilityControlsModalOpen:B})})]})})}let eQ=(0,eC.Z)(()=>Promise.all([o.e("37251"),o.e("64913")]).then(o.bind(o,334337)),void 0,e=>334337,"app-www-profile-ProfileHeader-BusinessProfileHeader-BusinessProfileHeader",e=>["37251","64913"]);function eY(e){(0,r.useEffect)(()=>{(0,l.Z)("UnifiedProfileHeader","/app/www/profile/ProfileHeader/UnifiedProfileHeader.tsx")},[]);let t=(0,Q.HG)(),o=(0,Z.Z)(),{tab:i,user:n,isRetrievalHub:a}=e;return(0,D.G)(n)?(0,h.jsx)(eQ,{...e}):a?(0,h.jsx)(eK,{tab:i,user:n}):o?.isAuth&&t?(0,h.jsx)(eB,{...e}):(0,h.jsx)(eR.Z,{...e})}function eq({avatarUrl:e,contentsRight:t,merchantName:o,text:i,username:n,accessibilityLevel:s}){return(0,r.useEffect)(()=>{(0,l.Z)("MinimalPartnerHeader","/app/www/profile/storefront/MerchantStorefront/common/MinimalPartnerHeader.tsx")},[]),(0,h.jsxs)(a.kC,{alignItems:"stretch",height:80,justifyContent:"between",children:[(0,h.jsx)(a.xu,{column:2,"data-test-id":"minimal-partner-header"}),(0,h.jsxs)(a.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,h.jsx)(a.xu,{marginEnd:2,children:(0,h.jsx)(a.Tg,{href:`/${n}`,rounding:"circle",children:(0,h.jsx)(eF.qE,{name:o,size:"md",src:e})})}),(0,h.jsx)(a.rU,{href:`/${n}/`,underline:"none",children:(0,h.jsx)(a.qd,{accessibilityLevel:s,size:"600",children:i})})]}),(0,h.jsx)(a.xu,{alignItems:"center",column:2,display:"flex",justifyContent:"end",children:t})]})}var eX=o(826681),e0=o(157498);function e1(e,t,o){var l;return(t="symbol"==typeof(l=function(e,t){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,t||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?l:l+"")in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}let e6=(0,r.lazy)(()=>o.e("98251").then(o.bind(o,704282)));class e3 extends r.Component{constructor(...e){super(...e),e1(this,"state",{currentModal:null}),e1(this,"handleClickCreatePincode",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"createPincode"})}),e1(this,"handleClickReportProfile",()=>{let{requireAuth:e}=this.props;if(e)return void e();this.setState({currentModal:"reportProfile"})}),e1(this,"handleHideModal",()=>this.setState({currentModal:null})),e1(this,"handleToggleBlock",()=>{let{isUserBlocked:e,requireAuth:t}=this.props;if(t)return void t();e?this.unblockUser():this.setState({currentModal:"blockUser"})}),e1(this,"unblockUser",()=>{let{unblockUser:e,user:t}=this.props;e(t.id||"")}),e1(this,"handleBlockUser",()=>{let{blockUser:e,user:t}=this.props;e(t.id||""),this.props.showBlockToastMessage(),this.setState({currentModal:null})}),e1(this,"handleToggleFollow",()=>{let e=!this.props.user.explicitly_followed_by_me;this.props.onToggleFollow?.(e)}),e1(this,"handleBlockAndReport",async()=>{let{blockUser:e,user:t}=this.props;t.id&&(await e(t.id),this.setState({currentModal:"reportProfile"}))})}renderModal(){let{currentModal:e}=this.state,{user:t,isUserBlocked:o,unblockUser:l,blockUser:i}=this.props;return(0,h.jsx)(r.Suspense,{children:(0,h.jsx)(e6,{blockUser:i,currentModal:e,handleBlockUser:this.handleBlockUser,handleHideModal:this.handleHideModal,isUserBlocked:o,onBlockAndReport:this.handleBlockAndReport,unblockUser:l,user:t})})}render(){let{minimalPartnerHeader:e,tab:t,user:o,headerHeight:l,ownProfile:i,setHeaderHeight:n,showContent:a,isRetrievalHub:s}=this.props,{currentModal:d}=this.state,c=i||(o.eligible_profile_tabs?.length??0)>1;return e?(0,h.jsx)(eq,{avatarUrl:o.image_medium_url??"",merchantName:o.full_name??"",text:o.full_name??"",username:o.username??""}):(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(eY,{isRetrievalHub:s,onClickReportProfile:this.handleClickReportProfile,onCreatePincodeClick:this.handleClickCreatePincode,onToggleBlock:this.handleToggleBlock,onToggleFollow:this.handleToggleFollow,setHeaderHeight:n,tab:t,user:o}),a&&!s&&c&&(0,h.jsx)(K,{headerHeight:l,selectedTab:t,user:o}),d&&this.renderModal()]})}componentDidMount(){(0,l.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")}}function e9(e){(0,r.useEffect)(()=>{(0,l.Z)("ProfileHeaderContainer","/app/common/react/components/profile/ProfileHeader/ProfileHeaderContainer.tsx")},[]);let t=(0,i.I0)(),o=(0,e0.dM)(),{user:n}=e,a=o?.[n.id??""]||n,s=(0,z.Z)(),{aggregatedCommentsHiddenForUser:d}=(0,S.nf)(),{nativeEngagementsHiddenForUser:c}=(0,R.G)(),[u,_]=(0,r.useState)(null),p=(0,T.Z)(),f=(0,Z.Z)(),m=(0,$.Z)({user:n,viewer:f}),g=(0,B.Z)();return(0,h.jsx)(e3,{...e,blockUser:async o=>{await t((0,eX.Ge)({id:o,blockSource:"profile",blockContext:o,logContextEvent:p})),d(o),c(o),e.onBlockUser?.()},headerHeight:u,isUserBlocked:!!a.blocked_by_me,ownProfile:m,requireAuth:s,setHeaderHeight:_,showBlockToastMessage:g,unblockUser:async e=>await t((0,eX.h2)(e,p)),user:a})}var e4=o(289935);let e2=({navigate:e,placementId:t})=>{(0,r.useEffect)(()=>{(0,l.Z)("ExperienceCommentTurnedOffEducationModal","/app/packages/comment/ExperienceCommentTurnedOffEducationModal.tsx")},[]);let o=(0,p.Z)();return(0,h.jsx)(O.a3,{eligibleIds:[505404],placementId:t,children:({complete:t,dismiss:l})=>(0,h.jsx)(a.mh,{zIndex:e4.b7,children:(0,h.jsx)(a.WB,{accessibilityModalLabel:o._('Comments turned off education modal', 'modalEducation.commentsTurnedOff', 'modal to inform users comments are turned off for their Pins for safety reason'),heading:o._('Comments are turned off', 'modalEducation.commentsTurnedOff.heading', 'title text for modal to inform users comments are turned off for their Pins for safety reason'),onDismiss:()=>{l()},primaryAction:{accessibilityLabel:o._('button dismissing comments turned off education modal', 'modalEducation.commentsTurnedOff.confirmButton.a11yLabel', 'call to action, button to dismiss the modal'),label:o._('Open settings', 'modalEducation.commentsTurnedOff.confirmButton', 'call to action, title on button to go to settings'),onClick:()=>{t(),e("/settings/permissions")}},children:(0,h.jsx)(a.xe,{children:(0,w.nk)(o._('Want to allow comments on your Pins? {{ turnOn }}', 'modalEducation.commentsTurnedOff.description', 'description text for modal to inform users how to turn their comments on. turnOn: text for where to turn on comments'),{turnOn:(0,h.jsx)(a.xe,{inline:!0,weight:"bold",children:o._('Turn them on in social permissions.', 'modalEducation.commentsTurnedOff.description.socialPermissions', 'description text for for modal to inform users where to turn their comments on')})})})})})})};var e5=o(382802),e7=o(924591),e8=o(176714),te=o(112658),tt=o(439048),to=o(577356),tl=o(614400),tr=o(969178),ti=o(289100),tn=o(49254),ta=o(277455);let ts=({tab:e,userData:t})=>{if(t&&e===G.un.DECIDER){let e=t.eligible_profile_tabs?.find(e=>e.is_default);return G.IL[e?.tab_type]||G.un.SAVED}return e};var td=o(986174),tc=o(171039),tu=o(883097);let t_=(0,O.RL)(19,({clickedFollowingButton:e,tab:t},o)=>({clickedFollowingButton:e,profile_ownership:o.profile_ownership,profile_user_id:o.profile_user_id,tab:t}))(function({children:e,clickedFollowingButton:t,minimalPartnerHeader:o,renderError:i,setPlacementExtraContext:s,tab:d,unsetError:c,username:u}){(0,r.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let f=(0,n.s0)(),{logContextEvent:m}=(0,_.u)(),g=(0,p.Z)(),x=(0,Z.Z)(),b=(0,r.useRef)(!1),y=(0,r.useRef)(t),P=(0,ta.R)(),{checkExperiment:v}=(0,M.Z)(),C=(0,to.dI)(),A=(0,e0.dM)(),E=(0,n.TH)(),j=(0,tc.Z)(),{refresh:T}=j,z=A[j.data?.id||""]||j.data,{explicitly_followed_by_me:S,full_name:B,id:R,is_ads_only_profile:I,is_partner:k,is_private_profile:D}=z||{},H=P.id,L=x&&x.isAuth&&z&&x.id===R,F=x.isAuth&&u===x.username,N=D&&!F,G=!N||S,V=ts({tab:d,userData:z}),W=!1===k&&F&&E.pathname.includes(`/${u}/${U.qV}`)&&v("web_retrieval_hub_profile_split_").anyEnabled,$=!1===k&&F&&v("web_retrieval_hub_profile_split_").anyEnabled,J=$&&[U.sz.enabled_with_unorganized_feed,U.sz.enabled_with_log_fix].includes(v("web_retrieval_hub_profile_split_").group),K=e=>{N&&e&&(0,tl.Z)(1e3).then(j.refresh)};if((0,r.useEffect)(()=>{(0,e8.Z)()},[]),(0,r.useEffect)(()=>{i?.apiHandler!=="v3_get_board"||i?.http_status!==404||b.current||!z||j.error?j.error&&404===j.error.httpStatus&&f("/?show_error=true",{replace:!0}):(b.current=!0,e5.Z.showHtmlError((0,w.nk)(g._('But here are some of {{ fullName }}\'s other boards!', ' - ', ' -- '),{fullName:B}).join(""),c(),g._('We couldn\'t find that page.', ' - ', ' -- ')))}),(0,r.useEffect)(()=>{m({event_type:13,view_type:4,aux_data:{pin_id:H}})},[m,H]),(0,r.useEffect)(()=>{if(j.isLoaded){let e={profile_ownership:L?"own":"other",profile_user_id:R||""};t&&t!==y.current&&(e={...e,clickedFollowingButton:!0}),s(e)}},[t,j.isLoaded]),(0,r.useEffect)(()=>{W&&C.showOneToast(({hideToast:e})=>(0,h.jsx)(e7.Z,{dismissButton:{onDismiss:()=>{e(),m({event_type:101,view_type:4,view_parameter:J?3106:4047,component:20,element:75})}},duration:5e3,onHide:e,text:g._('This is how your profile looks to others', 'profilePage.selfProfile.retrievalHub.toast.educational', 'Educational banner to let users known this is how their public profile looks')}))},[W]),!j||!j.isLoaded||!z)return null;let Q=F?3106:3107,Y=(0,h.jsx)(td.aG,{children:(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(O.dr,{placementId:19}),(0,h.jsx)(O.u3,{placementId:19}),(0,h.jsx)(O.nj,{placementId:19}),(0,h.jsx)(O._f,{placementId:19}),(0,h.jsx)(e2,{navigate:f,placementId:19}),W&&(0,h.jsx)(tt.Z,{left:0,onClick:()=>f(-1)}),F&&I&&(0,h.jsx)(a.xu,{"data-test-id":"ad-only-profile-banner",display:"flex",justifyContent:"center",marginBottom:4,children:(0,h.jsx)(a.ci,{iconAccessibilityLabel:"Info",message:g._('Using an ad-only profile will prevent Pinners from discovering your profile page. Your profile page will be hidden in search results on Pinterest and on search engines.', 'profilePage.adOnlyProfile.callout.title', 'Callout message that describes more details about ad-only profiles'),primaryAction:{accessibilityLabel:g._('Learn more about ad-only profiles', 'profilePage.adOnlyProfile.callout.primaryAction.accessibilityLabel', 'Accessibility label'),label:g._('Learn more', 'profilePage.adOnlyProfile.callout.primaryAction.label', 'Button that opens the Ad-Only Profile Help Center article'),href:eo.SNA,target:"blank",role:"link"},title:g._('Your account settings indicate that this is an ad-only profile.', 'profilePage.adOnlyProfile.callout.title', 'Callout title that indicates the current profile is an ad-only profile'),type:"info"})}),(0,h.jsxs)(a.xu,{children:[(0,h.jsx)(q.Z,{name:"ProfileHeaderContainer",children:(0,h.jsx)(tn.c,{children:e=>(0,h.jsx)(e9,{isRetrievalHub:$&&!W,minimalPartnerHeader:o,onBlockUser:T,onToggleFollow:K,showContent:G,tab:V,top:e,user:z})})}),G&&(0,h.jsx)(q.Z,{name:"ProfileContent",children:(0,h.jsx)(a.xu,{children:e})})]})]})});return!z?.is_private_profile&&ti.Z.includes(Number(z?.profile_view?.profile_view_id))?(0,h.jsx)(tr.Z,{onToggleBlock:()=>T(),user:z}):(0,h.jsx)(te.Z,{objectId:R,view:4,viewParameter:Q,children:(0,h.jsx)(r.Fragment,{children:Y})})});function tp(e){(0,r.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/common/react/components/profile/ProfilePage/ProfilePage.tsx")},[]);let t=(0,tu.X2)(),o=t&&Object.keys(t).map(e=>t[e]).filter(e=>e.showTooltip).length>0;return(0,h.jsx)(t_,{...e,clickedFollowingButton:o})}var tf=o(370383),th=o(938605),tm=o(495839),tg=o(23641),tx=o(619481),tb=o(890678),tw=o(550759),ty=o(812573),tP=o(798258),tv=o(816382),tC=o(798385),tA=o(381968),tE=o(374666),tj=o(305375),tT=o(520803);let tz=(0,eC.Z)(()=>Promise.all([o.e("38554"),o.e("89562"),o.e("66215"),o.e("35729")]).then(o.bind(o,678560)),void 0,e=>678560,"app-common-react-components-profile-ProfileHeader-BusinessProfileSection",e=>["38554","89562","66215","35729"]),tZ=(0,eC.Z)(()=>o.e("55610").then(o.bind(o,459515)),void 0,e=>459515,"app-common-react-components-profile-ProfileCreated-ProfileCreatedContainer",e=>["55610"]),tS=(0,eC.Z)(()=>o.e("34220").then(o.bind(o,286638)),void 0,e=>286638,"app-www-pages-duplo-ProfileCreated",e=>["34220"]),tB=(0,eC.Z)(()=>o.e("56595").then(o.bind(o,10885)),void 0,e=>10885,"app-www-ProfileFollowers-ProfileFollowersControllerGraphQL",e=>["56595"]),tR=(0,eC.Z)(()=>o.e("85682").then(o.bind(o,250995)),void 0,e=>250995,"app-www-pages-duplo-ProfileFollowing",e=>["85682"]),tI=(0,eC.Z)(()=>Promise.all([o.e("38554"),o.e("89562")]).then(o.bind(o,417770)),void 0,e=>417770,"app-common-react-components-do-aggregated-pins-did-it-DidItProfileFeed-DidItProfileFeedContainer",e=>["38554","89562"]),tk=(0,eC.Z)(()=>o.e("21720").then(o.bind(o,801084)),void 0,e=>801084,"app-www-pages-duplo-ProfileTried",e=>["21720"]),tD=(0,eC.Z)(()=>Promise.all([o.e("48541"),o.e("56876")]).then(o.bind(o,499979)),void 0,e=>499979,"app-www-pages-duplo-ProfileBoards",e=>["48541","56876"]),tH=(0,eC.Z)(()=>o.e("66215").then(o.bind(o,42763)),void 0,e=>42763,"app-www-profile-ProfileTopics-ProfileTopics",e=>["66215"]),tO=(0,eC.Z)(()=>o.e("70261").then(o.bind(o,121553)),void 0,e=>121553,"app-common-react-components-profile-ProfileStoryPins-ProfileStoryPinsContainer",e=>["70261"]),tL=(0,eC.Z)(()=>o.e("9868").then(o.bind(o,863962)),void 0,e=>863962,"app-common-react-components-profile-ProfileVideoPins-ProfileVideoPinsContainer",e=>["9868"]),tM=()=>{let e=(0,Z.Z)(),t=(0,n.TH)();return e.isAuth&&t.pathname.startsWith(`/${e.username}/`)},tF=()=>{let[,,e,t]=(0,tT.Z)().path.split("/");return e===G.un.PREVIEW_PROFILE&&t?[e,t].join("/"):e},tN=()=>{let{username:e}=(0,tj.Z)(),{isAuthenticated:t}=(0,f.B)(),o=(0,tC.Z)(),l=t&&e&&o[e],r=tF(),i=l&&ts({tab:G.un.DECIDER,userData:l}),n=(()=>{let{isAuthenticated:e}=(0,f.B)(),t=(0,tT.Z)(),o=tM(),l=(0,tC.Z)()[t.params.username??""];return!!l&&function({isAuthenticated:e,isOwnProfile:t,user:o}){if(!o)return!1;let{eligible_profile_tabs:l=[],has_published_pins:r,is_partner:i,story_pin_count:n}=o,a=l.filter(({tab_type:e})=>1===e).length>0;return e&&a&&(i||!t)&&!(!i&&0===n||i&&!r&&0===n)}({isAuthenticated:e,isOwnProfile:o,user:l})})()?G.un.CREATED:G.un.SAVED,a=r||i||n;return{isRouteMachedTab:!!r,key:a,path:tP.kx[a]}};function tG(){let{path:e}=tN();return e===tP.Bj?(0,h.jsx)(tS,{}):(0,h.jsx)(tD,{})}let tU=()=>{let{isAuthenticated:e}=(0,f.B)(),t=(0,Q.HG)();return e&&t};function tV({tab:e,user:t}){let o=tU();switch(e){case"_created":case G.un.PREVIEW_PROFILE_CREATED:return o?(0,h.jsx)(tZ,{}):(0,h.jsx)(tS,{});case"_followers":return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tB,{});case"_following":return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tR,{});case"_saved":case G.un.PREVIEW_PROFILE_SAVED:return o?(0,h.jsx)(tf.Z,{}):(0,h.jsx)(tD,{});case"tried":return o?(0,h.jsx)(tI,{}):(0,h.jsx)(tk,{});case"topics":return(0,h.jsx)(tH,{});case G.un.RETRIEVAL_HUB_PINS:return(0,h.jsx)(th.ZP,{isOwnProfile:!0,surface:"RetrievalHub",user:t,username:t?.username||""});case G.un.RETRIEVAL_HUB_BOARDS:return o?(0,h.jsx)(tf.Z,{}):(0,h.jsx)(tG,{});case"story_pins":return o?(0,h.jsx)(tO,{}):null;case"video_pins":return o?(0,h.jsx)(tL,{}):null;case"_collages":return o?(0,h.jsx)(E,{user:t}):null;default:return o?(0,h.jsx)(j.Z,{}):(0,h.jsx)(tG,{})}}function tW({boardVisibilityDataRef:e}){let t=(0,n.TH)(),o=(0,tT.Z)(),l=tF(),a=(0,i.I0)(),{setSelfProfileBoardFilter:s}=(0,A.WG)()||{setSelfProfileBoardFilter:()=>{}},{username:d}=(0,tj.Z)(),c=(0,i.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,tx.Z)(e);let{data:u}=(0,eN.Z)({name:"UserResource",options:{username:d,field_set_key:"profile"}}),p=tU(),f=(0,ey.Z)(u),m=tM(),g=(0,tC.Z)(),{logContextEvent:x}=(0,_.u)(),b=!m&&d&&g[d]&&g[d].is_ads_only_profile&&g[d].ads_only_profile_site;if((0,r.useEffect)(()=>{s(void 0),b&&(x({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(b))},[b,x,s]),b)return null;if(u?.username&&u.username!==d&&d){let e=(0,tv.Z)(u.username,d,t,p);return(0,h.jsx)(n.Fg,{replace:!0,to:e})}let w=l||ts({tab:G.un.DECIDER,userData:u})||G.un.DECIDER;return(0,h.jsx)(tE.M,{children:(0,h.jsx)(tp,{minimalPartnerHeader:u?.has_catalog&&RegExp(/\?pin=/).test(t.search),renderError:c[t.pathname],tab:w,unsetError:()=>a((0,tA.L)(t.pathname)),username:o.params.username||"",children:(0,h.jsx)(q.Z,{name:"SafeSuspense_ProfilePage_ProfilePageTabContent",children:f&&u?(0,h.jsx)(tz,{businessProfileTab:w,deciderFallback:p?j.Z:tG}):(0,h.jsx)(tV,{tab:w,user:u})})})})}function t$(){let{username:e}=(0,tj.Z)(),{logContextEvent:t}=(0,_.u)(),o=(0,tC.Z)(),{key:l,isRouteMachedTab:i,path:n}=tN(),a=e&&o[e],s=a&&a.is_ads_only_profile&&a.ads_only_profile_site;return(0,r.useEffect)(()=>{s&&(t({event_type:9371,element:13383,aux_data:{aop_origin:"ProfilePage"}}),window.location.replace(s))},[s,t]),(0,h.jsx)(ty.ZP,{headerTab:n,children:(0,h.jsx)(q.Z,{name:"SafeSuspense_ProfilePage_ProfileDefaultTabContent",children:(0,h.jsx)(tV,{tab:i?l:void 0})})})}function tJ(){let e=tU(),t=tM(),o=(0,n.TH)(),l=(0,Z.Z)(),{checkExperiment:i}=(0,M.Z)(),{username:a}=(0,tj.Z)(),{isFetching:s,isLoaded:d}=(0,eN.Z)({name:"UserResource",options:{username:a}}),{ref:c}=(0,tb.Z)(e?{name:"UserResource",options:{field_set_key:"board_visibility",username:a}}:null),u=(e=>{let{username:t}=(0,tj.Z)(),o=(0,tC.Z)(),l=t&&o[t],{path:r}=tN();if(!l||e)return!0;switch(r){case tP.c0:return(l.pin_count??0)>0||(l.board_count??0)>0;case tP.Bj:return l.has_published_pins||(l.story_pin_count??0)>0;default:return!0}})(s||!d),_=l.isAuth&&!1===l.isPartner&&t&&!o.pathname.includes(U.qV)&&i("web_retrieval_hub_profile_split_").anyEnabled&&i("web_retrieval_hub_profile_split_").group===U.sz.enabled_old,p=_?"self_profile":t?u?"own_profile":"own_profile_no_pins":u?"other_profile":"other_profile_no_pins";(0,tg.qS)(p);let f=e?(0,h.jsx)(q.Z,{name:"ProfilePage_ResourceError",children:(0,h.jsx)(r.Suspense,{fallback:(0,h.jsx)(tw.Z,{}),children:(0,h.jsx)(tW,{boardVisibilityDataRef:c})})}):(0,h.jsx)(t$,{});return(0,h.jsx)(tm.Z,{customEnabledNavigationTypes:["client_route_push","client_route_replace","initial_app_load"],measureGridVisuallyComplete:u,surface:p,children:f})}function tK(){(0,r.useEffect)(()=>{(0,l.Z)("ProfilePage","/app/www/pages/ProfilePage.tsx")},[]);let{isAuthenticated:e}=(0,f.B)();return(0,r.useEffect)(()=>{(0,e8.Z)()},[]),e?(0,h.jsx)(tJ,{}):(0,h.jsx)(t$,{})}},378512:function(e,t,o){o.d(t,{Z:()=>l});function l({hasCustomOrder:e,hasGroupBoard:t,isOwnProfile:o,mostRecentBoardSortOrder:l,requestContext:r,updatedBoardOrder:i}){if(!o)return"last_pinned_to";if(i)return i;if(l)return l;let n=r?.experimentsClient.checkExperiment("web_gb_highlight_on_profile_default").anyEnabled;return e?"custom":!e&&t&&n?"group_boards_at_top":"last_pinned_to"}},293618:function(e,t,o){o.d(t,{Z:()=>a});var l=o(686659),r=o(667294),i=o(391995),n=o(785893);function a({accessibilityLabel:e,color:t="default",icon:o,info:a}){return(0,r.useEffect)(()=>{(0,l.Z)("AboutDrawerInfoRow","/app/www/profile/ProfileHeader/AboutDrawerInfoRow.tsx")},[]),(0,n.jsxs)(i.kC,{gap:{row:7,column:0},children:[(0,n.jsx)(i.JO,{accessibilityLabel:e,color:t,icon:o,size:20}),a]})}},791349:function(e,t,o){o.d(t,{Z:()=>u});var l=o(686659),r=o(667294),i=o(391995),n=o(319226),a=o(24246),s=o(920343),d=o(151308),c=o(785893);let u=({onTouch:e,size:t="xl",user:o,viewer:u,ref:_})=>{(0,r.useEffect)(()=>{(0,l.Z)("AvatarWithPincode","/app/www/profile/ProfileHeader/AvatarWithPincode.tsx")},[]);let p=(0,a.Z)(),{image_xlarge_url:f,username:h,avatar_color_index:m}=o??{},g=(0,d.Z)(o),x=(0,s.Z)({viewer:u,user:o})||u.isAuth&&u.isEmployee,b=(0,c.jsx)(n.qE,{color:m,name:h||"",outline:g,size:t,src:f??void 0});return x?(0,c.jsx)(i.iP,{ref:_,accessibilityLabel:p._('Click to open pincode and share profile', 'AvatarWithPincode.pincodeEnabled.accessibilityLabel', 'Accessibility label for clicking on profile picture to open pincode for sharing'),fullWidth:!1,onTap:e,rounding:"circle",children:b}):b}},698681:function(e,t,o){o.d(t,{I_:()=>n,Rf:()=>d,TL:()=>u,V1:()=>i,X9:()=>r,cO:()=>l,fk:()=>s,g:()=>c,wN:()=>_,wc:()=>a});let l=360,r=640,i=1244,n=488,a=275,s=488,d=80,c=211,u=64,_=1},819005:function(e,t,o){o.d(t,{Z:()=>z});var l,r=o(686659),i=o(667294),n=o(167912),a=o(391995),s=o(249459),d=o(470205),c=o(935059),u=o(24246),_=o(661376),p=o(825605),f=o(230201),h=o(774838),m=o(385114),g=o(739405),x=o(691198),b=o(293618),w=o(151308),y=o(938359),P=o(9065),v=o(785893);let C=(0,P.Z)(()=>o.e("6332").then(o.bind(o,113229)),void 0,e=>113229,"app-www-followersAuthDesktop-FollowersModalContainer",e=>["6332"]),A=(0,P.Z)(()=>Promise.all([o.e("25418"),o.e("56595"),o.e("94898")]).then(o.bind(o,923459)),void 0,e=>923459,"app-www-ProfileFollowers-ProfileFollowersModalGraphQL",e=>["25418","56595","94898"]);function E({followersTotalCount:e,followingResource:t,followingTotalCount:o,isAboutDrawerVariant:l,isViewingOwnProfile:n,size:s="300",user:d}){(0,i.useEffect)(()=>{(0,r.Z)("FollowerCountsGraphQL","/app/www/followersAuthDesktop/FollowerCountsGraphQL.tsx")},[]);let c=(0,u.Z)(),_=new URL(window.location.href),p=(()=>{let{isAuthenticated:e}=(0,h.B)(),t=(0,g.HG)();return e&&t})(),{logContextEvent:P}=(0,f.u)(),E=/_(followers|following)\/$/,j=_.pathname.match(E),T=p&&j?.[1]||null,[z,Z]=(0,i.useState)(T),S=()=>{Z(null),T&&window.history.pushState({},"",_.pathname.replace(E,""))},B=e=>{Z(e),n&&P({event_type:101,view_type:4,view_parameter:3106,component:13056,element:"followers"===e?42:41})},R=(0,w.Z)(d);return(0,v.jsxs)(i.Fragment,{children:[l?(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:6},children:[!!e&&e>=0&&(0,v.jsx)(b.Z,{accessibilityLabel:c._('Followers icon', 'profileHeader.followersIcon', 'Icon next to user\'s follower count'),icon:"person-plus",info:(0,v.jsx)(m.Z,{items:[(0,v.jsx)(x.Z,{count:e,onClick:()=>B("followers"),size:s,variant:"followers"},"followersDisplay"),R?(0,v.jsx)(y.default,{user:d}):null]})}),o>=0&&(0,v.jsx)(b.Z,{accessibilityLabel:c._('Following icon', 'profileHeader.followingIcon', 'Icon next to user\'s following count'),icon:"people",info:(0,v.jsx)(x.Z,{count:o,onClick:()=>B("following"),size:s,variant:"following"})})]}):(0,v.jsx)(m.Z,{items:[e&&e>=0?(0,v.jsx)(x.Z,{count:e,onClick:()=>B("followers"),size:s,variant:"followers"}):null,o>=0?(0,v.jsx)(x.Z,{count:o,onClick:()=>B("following"),size:s,variant:"following"}):null]}),"followers"===z&&(0,v.jsx)(A,{onDismiss:S,totalFollowersCount:e}),"following"===z&&(0,v.jsx)(C,{followersResource:t,onDismiss:S,totalFollowersCount:o,user:d,variant:z})]})}var j=o(920343);function T({isAboutDrawerVariant:e=!1,size:t="300",user:r}){let i=(0,c.Z)(),{id:a}=r,d=(void 0!==l||(l=o(768171)).hash&&"a23b0f7439754a2c42bb445168b9e510"!==l.hash&&console.error("The definition of 'FollowersControllerQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),u=(0,n.useLazyLoadQuery)(d,{userId:a}),{following_count:p=0,interest_following_count:f=0}=r,h=u.v3GetUserHandlerQuery?.__typename==="V3GetUserHandler"?u.v3GetUserHandlerQuery.data:null,{followerCount:m,username:g}=h||{},x=(0,j.Z)({user:r,viewer:i}),b=(0,_.Z)({name:"UserFollowingResource",options:{exclude_not_explictly_followed:!!x||void 0,page_size:s.Z.MAX_FETCH_NUM_FOLLOWERS_PER_PAGE,explicit_following:x,username:g}});return h?(0,v.jsx)(E,{followersTotalCount:m,followingResource:b,followingTotalCount:p-(f??0),isAboutDrawerVariant:e,isViewingOwnProfile:x,size:t,user:r}):null}function z(e){(0,i.useEffect)(()=>{(0,r.Z)("FollowersController","/app/www/profile/ProfileHeader/FollowersController.tsx")},[]);let t=(0,u.Z)(),{compactLoader:o=!1,size:l}=e,n=t._('Loading follower counts', 'profile.header.followerController', 'accessibility label for follower counts spinner');return(0,v.jsx)(d.Z,{name:"SafeSuspense_ProfileHeader_FollowersController",children:(0,v.jsx)(p.Z,{fallback:o?(0,v.jsx)(a.xv,{size:l,children:n}):(0,v.jsx)(a.xu,{padding:5,children:(0,v.jsx)(a.xH,{accessibilityLabel:n,show:!0})}),children:(0,v.jsx)(T,{...e})})})}},52258:function(e,t,o){o.d(t,{Z:()=>C});var l=o(686659),r=o(667294),i=o(391995),n=o(27399),a=o(496769),s=o(230201),d=o(24246),c=o(758714),u=o(216975),_=o(488661),p=o(510755),f=o(767415),h=o(785893);let m=new i.H3([new i.Ry(_.HW),new i.Ry(p.fe)]),g="/settings/account-settings/",x=({text:e})=>{let t=(0,r.useRef)(null),[o,l]=(0,r.useState)(!1);return o&&(0,f.nP)("client.profile.inspirational_badge_controls.info_tool_tip.rendered",{sampleRate:1}),(0,h.jsxs)(r.Fragment,{children:[o&&(0,h.jsx)(i.J2,{_deprecatedShowCaret:!0,anchor:t.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>l(!1),positionRelativeToAnchor:!1,size:"sm",children:(0,h.jsx)(i.xu,{padding:3,children:(0,h.jsx)(i.xv,{align:"center",color:"inverse",size:"200",children:e})})}),(0,h.jsx)(i.xu,{height:32,width:32,children:(0,h.jsx)(i.iP,{ref:t,fullHeight:!0,fullWidth:!0,onFocus:()=>l(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:(0,h.jsx)(i.hU,{accessibilityLabel:e,icon:"circle-information",iconColor:"subtle",size:"sm"})})})]})},b=({badgeLabel:e,disabled:t,eligible:o,isChecked:l,setSelectedBadge:r})=>{let n=(0,h.jsx)(i.xu,{display:"inlineBlock",children:(0,h.jsx)(i.__,{htmlFor:`inspirational-badge-${e.id}`,children:(0,h.jsx)(i.xv,{overflow:"noWrap",children:(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:a.QP["0"],color:o?"black":"gray"}},display:"inlineBlock",marginEnd:1,marginStart:1,paddingX:2,paddingY:1,rounding:100,children:e.label})})})});return(0,h.jsxs)(i.kC,{alignItems:"start",direction:"row",children:[(0,h.jsx)(i.xu,{display:"inlineBlock",marginBottom:2,marginEnd:2,children:(0,h.jsx)(i.XZ,{checked:l,disabled:t,id:`inspirational-badge-${e.id}`,name:"badges",onChange:({checked:t})=>r(e.id,t)},e.id)}),e.controlsTooltip?(0,h.jsx)(i.u,{idealDirection:"right",text:e.controlsTooltip,children:n}):n]},e.id)};function w({inspirationalSignal:e,onDismiss:t,onSubmit:o}){(0,r.useEffect)(()=>{(0,l.Z)("InspirationalBadgeControls","/app/www/profile/ProfileHeader/InspirationalBadgeControls.tsx")},[]);let{logContextEvent:n}=(0,s.u)(),_=(0,d.Z)(),p=_._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),w=_._('Contact us', 'InspoBadgeControls.contactUs', 'Contact us link'),y=_._('Brand values', 'InspoBadgeControls.brandValuesLegend', 'Legend text used to describe brand values'),P=_._('Your brand\'s website indicates that your business is aligned with the values listed below', 'InspoBadges.brandValuesTooltip', 'Tooltip describing brand values'),v=_._('Communities', 'InspoBadgeControls.communitiesLegend', 'Legend text used to describe communities'),C=_._('Your brand\'s owner self-identified as a member of these groups. This information is only associated with your business account and isn\'t used to target ads. ', 'InspoBadges.communityTooltip', 'Tooltip describing communities'),A=_._('default color', 'InspoBadgeControls.defaultColor', 'Annotation describing the selected color as the default color'),E=(0,a.eT)(e),j=(0,a.hm)(e),T=(0,a.I)(_,E,e.badge_details),z=(0,a.I)(_,j,e.badge_details),Z=T.filter(e=>a.yQ.includes(e.id)),S=T.filter(e=>a.Dm.includes(e.id)),B=T.map(e=>e.id),R=z.map(e=>e.id),I=e.inspirational_badge_selection?.badgeColor||a.QP["0"],[k,D]=(0,r.useState)(R),[H,O]=(0,r.useState)(!1),[L,M]=(0,r.useState)(I),F=(0,r.useRef)(null),N=!!(0,c.oo)(L),G=N?L.toUpperCase():a.QP["0"],U=G===a.QP["0"]?`${G} (${A})`:G,V=B.filter(e=>!k.includes(e)),W=R.length!==k.length||!k.every(e=>R.includes(e))||L!==I,$=(e,t)=>{D(t?[...k,e]:k.filter(t=>t!==e)),n({event_type:t?9675:9676,component:13911})};return(0,f.nP)("client.profile.inspirational_badge_controls.rendered",{sampleRate:1}),(0,h.jsx)(i.mh,{zIndex:m,children:(0,h.jsx)(i.To,{accessibilityDismissButtonLabel:_._('Close Inspirational Badges sheet', 'InspoBadgeControls.accessibilityDismissButtonLabel', 'Accessibility text for dismissing inspirational badges sheet'),accessibilityLabel:_._('Inspirational Badges customization for business profile', 'InspoBadgeControls.accessibilitySheetLabel', 'Accessibility text for opening inspirational badges sheet'),footer:({onDismissStart:e})=>(0,h.jsxs)(i.kC,{direction:"row",justifyContent:"between",children:[(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",children:_._('Have questions about brand values?', 'InspoBadgeControls.haveQuestions', 'Question preceding a contact us link')}),(0,h.jsx)("br",{}),(0,h.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:(0,h.jsx)(i.rU,{accessibilityLabel:w,display:"inlineBlock",href:"https://help.pinterest.com/en/contact",target:"blank",underline:"hover",children:w})})]}),(0,h.jsx)(i.xu,{children:(0,h.jsxs)(i.hE,{children:[(0,h.jsx)(i.zx,{color:"secondary",onClick:e,text:_._('Cancel', 'InspoBadgeControls.cancel', 'Cancel editing Inspirational badges')}),(0,h.jsx)(i.zx,{color:"primary",disabled:!W,onClick:()=>o({badgeColor:L,badgeOptOut:V}),text:_._('Save', 'InspoBadgeControls.save', 'Save Inspirational badges')})]})})]}),heading:_._('Edit merchant details', 'InspoBadgeControls.title', 'Title for Inspirational Badges customization sheet'),onDismiss:t,size:"sm",children:(0,h.jsx)(i.kC,{direction:"column",gap:{row:0,column:12},children:(0,h.jsxs)(i.kC,{direction:"column",gap:{row:0,column:4},children:[(0,h.jsxs)(i.xu,{children:[(0,h.jsxs)(i.xv,{inline:!0,children:[_._('Pinterest is committed to connecting shoppers and merchants with compatible values.', 'InspoBadgeControls.description', 'Description text for Inspirational Badges customization sheet'),(0,h.jsx)("br",{}),(0,h.jsx)("br",{}),_._('Feature up to three brand values and/or communities on your profile to let people on Pinterest know what your business represents.', 'InspoBadgeControls.description2', 'Description text for Inspirational Badges customization sheet')]}),"",(0,h.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,h.jsx)(i.rU,{accessibilityLabel:p,display:"inlineBlock",href:a._f,onClick:()=>{n({event_type:9677,component:13911})},target:"blank",underline:"hover",children:p})})]}),(0,h.jsxs)(i.kC,{direction:"column",children:[(0,h.jsxs)(i.kC,{alignItems:"center",children:[(0,h.jsx)(i.xv,{inline:!0,overflow:"noWrap",size:"200",children:y}),(0,h.jsx)(x,{text:P})]}),(0,h.jsx)(i.xu,{paddingY:1,children:(0,h.jsx)(i.pg,{legend:y,legendDisplay:"hidden",children:(0,h.jsx)(i.kC,{direction:"column",gap:{row:0,column:3},children:Z.map(e=>{let t=k.includes(e.id),o=k.length>=a.S4&&!t;return(0,h.jsx)(b,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:$},e.id)})})})})]}),S.length>0&&(0,h.jsxs)(i.kC,{direction:"column",children:[(0,h.jsxs)(i.kC,{alignItems:"center",children:[(0,h.jsx)(i.xv,{inline:!0,overflow:"noWrap",size:"200",children:v}),(0,h.jsx)(x,{text:C})]}),(0,h.jsx)(i.xu,{paddingY:1,children:(0,h.jsx)(i.pg,{legend:v,legendDisplay:"hidden",children:(0,h.jsx)(i.kC,{direction:"column",gap:{row:0,column:3},children:S.map(e=>{let t=k.includes(e.id),o=k.length>=a.S4&&!t;return(0,h.jsx)(b,{badgeLabel:e,disabled:o,eligible:!0,isChecked:t,setSelectedBadge:$},e.id)})})})}),(0,h.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",children:(0,u.nk)(_._('To change communities info, visit {{ accountSettingsLink }}', 'InspoBadgeControls.changeCommunities', 'Tell users when they can reapply'),{accountSettingsLink:(0,h.jsx)(i.rU,{display:"inlineBlock",href:g,underline:"hover",children:(0,h.jsx)(i.xv,{color:"subtle",inline:!0,size:"200",weight:"bold",children:_._('account settings', 'InspoBadgeControls.accountSettingsLink', 'Link to account settings')})},g)})})]}),(0,h.jsxs)(i.kC,{direction:"column",children:[(0,h.jsxs)(i.xu,{children:[(0,h.jsx)(i.xu,{marginBottom:4,marginTop:4,children:(0,h.jsx)(i.__,{htmlFor:"color-menu",children:(0,h.jsx)(i.xv,{size:"200",children:_._('Choose your label color', 'InspoBadgeControls.labelColor', 'Label color title')})})}),(0,h.jsx)(i.zx,{accessibilityControls:"color-menu",accessibilityExpanded:H,accessibilityHaspopup:!0,iconEnd:"chevron-down",onClick:()=>{n({event_type:9674,component:13911}),O(!0)},selected:H,size:"lg",text:U})]}),(0,h.jsx)(i.xu,{ref:F}),H&&(0,h.jsx)(i.mh,{children:(0,h.jsx)(i.J2,{anchor:F.current,idealDirection:"down",onDismiss:()=>O(!1),positionRelativeToAnchor:!1,role:"listbox",shouldFocus:!0,size:"flexible",children:(0,h.jsxs)(i.xu,{elevation:"shadowFloating",id:"color-menu",padding:4,rounding:200,width:"100%",children:[(0,h.jsx)(i.kC,{alignItems:"start",gap:{row:4,column:0},children:a.QP.map(e=>(0,h.jsx)(i.xu,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:L===e?"black":e,backgroundColor:e}},height:48,marginBottom:4,rounding:"circle",width:48,children:(0,h.jsx)(i.iP,{fullHeight:!0,fullWidth:!0,onTap:()=>M(e),rounding:400})},e))}),(0,h.jsxs)(i.kC,{alignItems:"start",gap:{row:4,column:0},children:[(0,h.jsx)(i.xu,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:N&&!a.QP.includes(L.toUpperCase())?"black":void 0,backgroundColor:G}},height:48,rounding:"circle",width:48}),(0,h.jsx)(i.nv,{id:"selected-color",onChange:({value:e})=>M(e.slice(0,7)),size:"lg",value:L})]})]})})})]})]})})})})}var y=o(661376),P=o(171039);let v=new i.Ry(10);function C(e){(0,r.useEffect)(()=>{(0,l.Z)("InspirationalBadgesAuthDesktop","/app/www/profile/ProfileHeader/InspirationalBadgesAuthDesktop.tsx")},[]);let{isOwnProfile:t,marginEnd:o=1,marginStart:c=1,userId:u,rounding:_=100,size:p="200"}=e,{logContextEvent:m}=(0,s.u)(),g=(0,d.Z)(),x=g._('Learn more', 'InspoBadges.learnMore', 'Link to article to learn more'),b=g._('New!', 'InspoBadges.newText', 'New! descriptor calling out a New feature'),C=g._('Show shoppers your brand values and which communities you\'re a part of', 'InspoBadges.editTooltipText', 'Edit your badges callout'),A=g._('Add merchant details', 'InspoBadges.toggleEditBadges', 'CTA to add merchant details if a merchant does not have any'),E=function(){let e=(0,P.Z)(),t=e.data?.id;return(0,y.Z)({name:"VerifiedMerchantResource",options:{userId:t}})}(),j=E.data,T=(0,a.Bu)({verifiedMerchant:j}),z=(0,r.useRef)(null),[Z,S]=(0,r.useState)(a.Xe),[B,R]=(0,r.useState)(!1),[I,k]=(0,r.useState)(!0),D=T?(0,a.hm)(Z):[],H=(0,a.I)(g,D,Z.badge_details),O=Z.inspirational_badge_selection?.badgeColor||a.QP["0"];(0,r.useEffect)(()=>{S(j?.inspirational_signal||a.Xe)},[j?.inspirational_signal]),(0,r.useEffect)(()=>{D&&D.length&&m({event_type:9667,view_type:4,component:13910})});let L=()=>{R(!0),k(!1),m({event_type:9671,component:13911})},M=()=>{m({event_type:9668,component:13910})},F=()=>{m({event_type:9670,component:13910})};return T&&(0,f.nP)("client.profile.inspirational_badges.rendered",{sampleRate:1,tags:{is_own_profile:t,num_badges:H.length,badge_color:O,user_id:j?.id}}),T?(0,h.jsxs)(r.Fragment,{children:[(0,h.jsxs)(i.kC,{alignItems:"center",children:[H.map(e=>(0,h.jsx)(i.u,{link:(0,h.jsx)(i.xu,{"data-test-id":"inspirational-badge-tooltip-learn-more",children:(0,h.jsx)(i.rU,{accessibilityLabel:x,href:a.NG,onClick:F,target:"blank",children:(0,h.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:x})})}),text:e.description,zIndex:v,children:(0,h.jsx)(i.xv,{overflow:"noWrap",size:p,children:(0,h.jsx)(i.iP,{onMouseEnter:M,children:(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:(0,a.ym)(O)},"data-test-id":"inspirational-badge",display:"inlineBlock",marginEnd:o,marginStart:c,paddingX:2,paddingY:1,rounding:_,children:e.label})})})},e.label)),t&&(0,h.jsxs)(r.Fragment,{children:[I&&(0,h.jsx)(i.mh,{zIndex:v,children:(0,h.jsx)(i.J2,{_deprecatedShowCaret:!0,anchor:z.current,color:"deprecatedBlue",idealDirection:"up",onDismiss:()=>{k(!1),m({event_type:9673,component:13911})},positionRelativeToAnchor:!1,size:"xs",children:(0,h.jsx)(i.xu,{padding:3,children:(0,h.jsxs)(i.xv,{align:"center",color:"inverse",inline:!0,size:"200",children:[(0,h.jsx)(i.xv,{inline:!0,weight:"bold",children:b})," ",C]})})})}),0===H.length&&(0,h.jsx)(i.xu,{display:"inlineBlock",children:(0,h.jsx)(i.iP,{fullWidth:!0,onTap:L,children:(0,h.jsx)(i.xv,{color:"subtle",children:A})})}),(0,h.jsx)(i.hU,{ref:z,accessibilityLabel:A,icon:"pencil",iconColor:"subtle",onClick:L,size:"sm"})]})]}),B&&(0,h.jsx)(w,{inspirationalSignal:Z,onDismiss:()=>R(!1),onSubmit:({badgeColor:e,badgeOptOut:t})=>{R(!1),n.Z.create("VerifiedMerchantResource",{userId:u,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}).callUpdate().then(()=>E.refresh()),S({...Z,inspirational_badge_selection:{badgeColor:e,badgeOptOut:t}}),m({event_type:9672,component:13911})}})]}):(0,h.jsx)(r.Fragment,{})}},304264:function(e,t,o){o.d(t,{Z:()=>v});var l=o(686659),r=o(667294),i=o(470205),n=o(935059),a=o(391995),s=o(230201),d=o(59355),c=o(24246),u=o(216975),_=o(582641),p=o(27399),f=o(271875),h=o(94950),m=o(785893);function g({children:e,flyoutDirection:t,setShowMessageFlyout:o,showMessageFlyout:i,userId:n}){(0,r.useEffect)(()=>{(0,l.Z)("ProfileMessageController","/app/www/profile/ProfileHeader/ProfileMessageController.tsx")},[]);let{logContextEvent:d}=(0,s.u)(),[c,u]=(0,r.useState)(""),_=(0,r.useRef)(null),{conversationCreate:g,conversationOpen:x}=(0,f.Z)(),b=async()=>{u(""),o(!1),d({event_type:101,element:103,component:13946,view_type:4,view_parameter:3107});let e=p.Z.create("ConversationsResource",{user_ids:[n],text:c}),t=await e.callCreate(),l=t?.resource_response.data;g(l),x(l.id)};return(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(a.xu,{ref:_,children:e({toggleSendMessageFlyout:()=>{o(!i)}})}),i&&(0,m.jsx)(h.Z,{anchor:_.current,idealDirection:t,message:c,onDismiss:()=>o(!1),onMessageChange:u,onMessageSubmit:b})]})}var x=o(962875);function b({isOwnProfile:e,setShowMessageFlyout:t,size:i="lg",showMessageFlyout:n,user:p}){(0,r.useEffect)(()=>{(0,l.Z)("ContactMenuButton","/app/www/profile/ProfileHeader/ContactMenuButton.tsx")},[]);let{logContextEvent:f}=(0,s.u)(),h=(0,c.Z)(),b=(0,r.useRef)(null),[w,y]=(0,r.useState)(!1),[P,v]=(0,r.useState)(),C=(0,_.V)(e,p?.partner?.profile_place||{},h._('Address copied', 'profileHeader.contactButton.toastText', 'Text on toast to show that an address has been copied')),A=()=>{y(!1)},{id:E,partner:j}=p,{contact_email:T="",contact_phone:z="",contact_phone_country:Z="",enable_profile_address:S,enable_profile_message:B,profile_place:R={}}=j??{},I=z?P?.(z,{defaultCallingCode:Z&&"0"!==Z.phone_code?Z.phone_code:void 0}):null;(0,d.Q)({component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107});let k=async()=>{if(y(e=>!e),z&&!P){let e=await o.e("59699").then(o.bind(o,932266));v(()=>e.parsePhoneNumberFromString)}f({event_type:101,component:13673,element:11953,object_id_str:E,view_type:4,view_parameter:3107})},D=e=>{f({event_type:101,component:13674,element:e,object_id_str:E,view_type:48,view_parameter:3107})},H=T||z,O={contact:h._('Contact', 'profileHeader.contactButton', 'Button on a business profile to contact that business'),sectionTitle:h._('Contact options', 'profileHeader.contactButton.contactOptions', 'Button on a business profile to contact that business'),message:h._('Message', 'profileHeader.contactMenu.message', 'Menu option to message the user'),email:(0,u.nk)(h._('Email {{ contactEmail }}', 'profileHeader.contactMenu.email', 'contactEmail: Menu option to send an email to the user'),{contactEmail:T}),call:h._('Call', 'profileHeader.contactMenu.phoneNumber', 'Menu option to call the user')};if(!H&&!B)return null;let L=(0,_.T)(R||{});return(0,m.jsx)(g,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:n,userId:E,children:({toggleSendMessageFlyout:e})=>(0,m.jsxs)(r.Fragment,{children:[(0,m.jsx)(a.xu,{ref:b,children:(0,m.jsx)(a.zx,{onClick:()=>{H?k():e()},selected:w,size:i,text:O.contact})}),w&&(0,m.jsxs)(a.Lt,{anchor:b.current,disableMobileUI:!0,id:"profileHeader_contactMenu",idealDirection:"up",onDismiss:A,zIndex:new a.H3([x.Zu]),children:[(0,m.jsxs)(a.Lt.Section,{label:O.sectionTitle,children:[B&&(0,m.jsx)(a.Lt.Item,{onSelect:()=>{e(),D(11956),A()},option:{label:O.message,value:O.message}}),T&&(0,m.jsx)(a.Lt.Link,{href:`mailto:${T}`,iconEnd:"external-link",onClick:()=>{D(11954),A()},option:{label:O.email.join(""),value:O.email.join("")}}),I||z?(0,m.jsx)(a.Lt.Link,{href:`tel:${I?I.getURI():z}`,iconEnd:"external-link",onClick:({dangerouslyDisableOnNavigation:e})=>{D(11955),e(),A()},option:{label:O.call,value:O.call}}):null]}),S&&(0,m.jsx)(a.Lt.Section,{label:h._('Address', 'profileHeader.contactButton.address', 'Address category for contact options drawer'),children:(0,m.jsx)(a.Lt.Item,{onSelect:C,option:{label:L,value:L}})})]})]})})}var w=o(548983),y=o(920343),P=o(151308);function v(e){(0,r.useEffect)(()=>{(0,l.Z)("ProfileHeaderContactButton","/app/www/profile/ProfileHeader/ProfileHeaderContactButton.tsx")},[]);let{setShowMessageFlyout:t,size:o,showMessageFlyout:a,user:s}=e,d=(0,n.Z)(),c=(0,P.Z)(s),u=(0,y.Z)({user:s,viewer:d}),{blocked_by_me:_,id:p,partner:f={},should_show_messaging:h}=s,{contact_email:x="",contact_phone:v="",enable_profile_message:C}=f||{},A=!_&&!!h&&!!(d.isAuth&&d.should_show_messaging);return A&&(x||v)?(0,m.jsx)(i.Z,{name:"ContactMenuButton",children:(0,m.jsx)(b,{isOwnProfile:u,setShowMessageFlyout:t,showMessageFlyout:a,size:o,user:s})}):A&&(C||!c)?(0,m.jsx)(g,{flyoutDirection:"up",setShowMessageFlyout:t,showMessageFlyout:a,userId:p,children:({toggleSendMessageFlyout:e})=>(0,m.jsx)(w.Z,{onClick:e,size:o,userId:p})}):null}},938359:function(e,t,o){o.r(t),o.d(t,{default:()=>p});var l=o(686659),r=o(667294),i=o(391995),n=o(647636),a=o(935059),s=o(24246),d=o(507006),c=o(216975),u=o(920343),_=o(785893);function p({color:e="default",user:t,inline:o=!1,size:p}){(0,r.useEffect)(()=>{(0,l.Z)("ViewerCount","/app/www/profile/ProfileHeader/ViewerCount.tsx")},[]);let f=(0,s.Z)(),h=(0,r.useRef)(null),m=(0,a.Z)(),g=new i.Ry(2);if(t?.profile_views===-1)return null;let x=t?.profile_views??0,b=x>=1e7?f._('10m+ monthly views', 'viewerCount.overTenMillion', 'Shortform string indicating that a partner profile has over 10,000,000 monthly views'):(0,c.nk)(f._('{{ count }} {{ label }}', 'viewerCount.templateString', 'Template string for a count of the monthly viewers of a partner profile'),{count:(0,_.jsx)(d.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:x||0},"pretty_number"),label:f._('monthly views', 'viewerCount.monthlyViewsLabel', 'Label for count of monthly views of a partner profile')});return(0,_.jsx)(i.xu,{ref:h,children:(0,_.jsxs)(i.xv,{color:e,inline:o,size:p,weight:"normal",children:[b,(0,u.Z)({user:t,viewer:m})&&(0,_.jsx)(n.Qp,{anchor:h.current,customWrapper:({children:e})=>(0,_.jsx)(i.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:g,children:e}),experienceIds:[502925],flyoutSize:"md",idealDirection:"down",onClickComplete:()=>window.open("https://www.pinterest.com/_/_/help/business/article/review-new-and-updated-reporting-metrics#section-15861","_blank"),placementId:19,showCaret:!0,textAlign:"center"})]})})}},582641:function(e,t,o){o.d(t,{T:()=>a,V:()=>s});var l=o(230201),r=o(924591),i=o(577356),n=o(785893);function a(e){let{street:t,extra_street:o,locality:l,region:r,postal_code:i,country:n}=e,a=t||"",s=o||"",d=l||"";return`${a}${s}${(a||s)&&","} ${d}${d&&","} ${r||""} ${i||""} ${n||""}`.trim()}function s(e,t,o){let{logContextEvent:s}=(0,l.u)(),{showToast:d}=(0,i.dI)();return()=>{s({event_type:101,element:12799,view_type:548,view_parameter:e?3106:3107}),navigator.clipboard.writeText(a(t)),d(({hideToast:e})=>(0,n.jsx)(r.Z,{onHide:e,text:o}))}}},381968:function(e,t,o){function l(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function r(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}o.d(t,{L:()=>r,m:()=>l})},38581:function(e,t,o){o.d(t,{Z:()=>f});var l=o(686659),r=o(667294),i=o(391995),n=o(104999),a=o(935059),s=o(24246),d=o(938967),c=o(271875),u=o(920343),_=o(500499),p=o(785893);function f(e){(0,r.useEffect)(()=>{(0,l.Z)("SendProfileButton","/app/www/sending/SendProfileButton.tsx")},[]);let{bgColor:t,dataTestId:o="share-profile-auth",iconColor:f,updateSharesheetOpenRef:h,labelVariant:m="share",size:g="lg",useGestaltButton:x,user:b}=e,w=(0,s.Z)(),[y,P]=(0,r.useState)(!1),v=(0,a.Z)(),C=(0,u.Z)({user:b,viewer:v}),A=(0,n.Z)(),E=v.isAuth&&C&&v.isPrivateProfile,{conversations:{showConversationsDropdown:j},dropdownOpen:T,setObjectAttachment:z}=(0,c.Z)(),Z=w._('Send Profile', 'Accessible label for button to send this profile', 'Accessible label to send this profile button'),S="shareProfile"===m||"iconShareProfile"===m?w._('Share profile', 'sendProfileButton.button.shareProfile', 'Button to share user profile'):w._('Share', 'sendProfileButton.button', 'Button to share user profile');return(0,p.jsx)(_.Z,{flyoutDisplayOptions:{shownWithinProfileHeader:!0},isFlyoutOpen:y,loggingOptions:{component:13675,element:12631,viewType:4},onFlyoutDismiss:()=>{P(!1),h&&h(!1)},onToggleFlyout:()=>{A({event_type:101,component:13675,element:1079,object_id_str:b?.id,view_type:4,view_parameter:C?3106:3107}),E?!j&&b?.id&&(z({type:"follow_invite",id:b.id}),T()):(P(!y),h&&h(!y))},sendObject:{type:"user",description:"",name:b?.full_name,imageUrl:b?.image_large_url??"",url:`/${b?.username??""}/`,id:b?.id??""},children:({handleSendShareFlyoutButtonClick:e})=>(0,p.jsx)(i.xu,{"data-test-id":o,children:x?(0,p.jsx)(i.zx,{accessibilityLabel:Z,iconStart:"iconShareProfile"===m?"share":void 0,onClick:({event:t})=>{t.preventDefault(),t.stopPropagation(),e()},selected:y,size:g,text:S}):(0,p.jsx)(d.Z,{accessibilityLabel:Z,bgColor:t,icon:"share",iconColor:f,onClick:()=>e(),selected:y})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68396-ac47012a36cb7534.mjs.map