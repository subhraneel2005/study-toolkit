(self.modernJsonp=self.modernJsonp||[]).push([["74381"],{17314:function(e,t,r){r.d(t,{Z:()=>d});var n,i,o=r(813653),a=r(831423),s=0,l=0;let d=function(e,t,r){var d=t&&r||0,u=t||Array(16),c=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:i;if(null==c||null==h){var g=e.random||(e.rng||o.Z)();null==c&&(c=n=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==h&&(h=i=(g[6]<<8|g[7])&16383)}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:l+1,f=p-s+(m-l)/1e4;if(f<0&&void 0===e.clockseq&&(h=h+1&16383),(f<0||p>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,l=m,i=h;var _=((0xfffffff&(p+=122192928e5))*1e4+m)%0x100000000;u[d++]=_>>>24&255,u[d++]=_>>>16&255,u[d++]=_>>>8&255,u[d++]=255&_;var y=p/0x100000000*1e4&0xfffffff;u[d++]=y>>>8&255,u[d++]=255&y,u[d++]=y>>>24&15|16,u[d++]=y>>>16&255,u[d++]=h>>>8|128,u[d++]=255&h;for(var E=0;E<6;++E)u[d+E]=c[E];return t||(0,a.Z)(u)}},53713:function(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};n.hash="0e2c441822700a6145ea7cd142c0425b";let i=n},943751:function(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};n.hash="35b139c2e951baaa6624b30e45f913ce";let i=n},413044:function(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};n.hash="8d95294efe15498023c69669c6a41e71";let i=n},954881:function(e,t,r){r.r(t),r.d(t,{default:()=>i});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};n.hash="f459445ee8d1ea0db022e490ef5a2e80";let i=n},256552:function(e,t,r){r.d(t,{Z:()=>l});var n=r(686659),i=r(667294),o=r(391995),a=r(875417),s=r(785893);let l=({animationData:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("HeaderIconLottie","/app/common/react/components/growth/news/NewsHub/HeaderIcon/HeaderIconLottie.tsx")},[]);let{animationContainerRef:t}=(0,a.Z)({animationData:e,loop:!0,autoplay:!0});return(0,i.useMemo)(()=>(0,s.jsx)(o.xu,{ref:t,"data-testid":"lottie-header-icon",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),[t])||null}},400962:function(e,t,r){r.d(t,{aX:()=>h,nK:()=>g,ou:()=>d});var n=r(667294),i=r(312048),o=r(213491),a=r(520803),s=r(785893);let{Provider:l,get:d}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),u=e=>e&&e.pathname?e.pathname+(e.search||""):"";function c(e,t){let r={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&u(e.forward[0].location)===u(r.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:r,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:r};default:return e}}function h(){let{current:e,previous:t}=d();return(0,n.useMemo)(()=>e?t.concat(e):t,[e,t])}function g({children:e}){let t=(0,i.ur)(),r=(0,i.TH)(),o=(0,a.Z)(),[d,u]=(0,n.useReducer)(c,{forward:[],current:{action:t,location:r,match:o},previous:[]}),h=(0,n.useRef)(r),g=(0,n.useRef)(o);return(h.current!==r||g.current!==o)&&(u({type:t,location:r,match:o}),h.current=r,g.current=o),(0,s.jsx)(l,{value:d,children:e})}},569650:function(e,t,r){r.d(t,{Q2:()=>s,Wy:()=>u,Y0:()=>a,_Z:()=>l,fK:()=>d});var n=r(375181),i=r(47755),o=r(995514);let a=(e,t)=>t.some(t=>e&1<<t),s=({lastUpdatedAt:e})=>{let t=(0,o.Z)(),r=new Date(e);return new Date().getTime()-r.getTime()>n.F4&&r.setHours(0,0,0,0),` ${t(r,!0)}`};function l(e,t){return(0,i.Z)({url:"/v3/news_hub/{news_id}/fatigue/{interest_id}/",urlParams:{news_id:e,interest_id:t},method:"POST"})}function d(e,t){return(0,i.Z)({url:"/v3/news_hub/{news_id}/fatigue/{interest_id}/",urlParams:{news_id:e,interest_id:t},method:"DELETE"})}function u(e,t){return(0,i.Z)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[e],should_hide:t}})}},343669:function(e,t,r){r.d(t,{G6:()=>o,i7:()=>a,oi:()=>n,u$:()=>i,un:()=>l,vU:()=>s,w1:()=>d});let n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function o(e){return i(e)===n.SAFARI}function a(e){return i(e)===n.CHROME}function s(e){return i(e)===n.FIREFOX}function l(e){return i(e)===n.EDGE}function d(e){return i(e)===n.IE}},562400:function(e,t,r){r.d(t,{Z:()=>n});function n(e,t,r){let n,i,o,a=!!r?.leading,s=r?.trailing!==!1,l=r?.maxWait?Math.max(r.maxWait,t):void 0,d=null,u=0;function c(t){let r=n;return n=void 0,u=t,r&&(i=e(...r)),i}function h(e){let r=e-(o??0),n=e-u;return void 0===o||r>=t||r<0||void 0!==l&&n>=l}function g(){let e=Date.now();h(e)?(d=null,s&&n)?c(e):n=void 0:d=setTimeout(g,function(e){let r=e-(o??0),n=e-u,i=t-r;return void 0!==l?Math.min(i,l-n):i}(e))}function p(){null!==d&&clearTimeout(d),d=setTimeout(g,t)}function m(...e){let r=Date.now(),s=h(r);if(n=e,o=r,s){if(null===d)return u=r,d=setTimeout(g,t),a?c(r):i;else if(void 0!==l)return p(),c(r)}return null===d&&p(),i}return m.flush=function(){if(null!==d&&n){let e=Date.now();return clearTimeout(d),d=null,c(e)}return i},m.cancel=function(){null!==d&&clearTimeout(d),u=0,n=void 0,o=void 0,d=null},m}},943152:function(e,t,r){r.d(t,{Z:()=>a});var n=r(419025),i=r(24246),o=r(36776);let a=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:r}=(0,o.m)(),a=(0,i.Z)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),r?.setText(t?.loginModalHeader||(0,n.lt)(a))}}},171556:function(e,t,r){r.d(t,{Z:()=>a});var n=r(667294);function i(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class o extends n.Component{constructor(...e){super(...e),i(this,"ref",(0,n.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=o},877904:function(e,t,r){r.d(t,{Z:()=>i});var n=r(767415);function i(e,t){return new Promise((r,i)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)r();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),r()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)r();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),r()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else r()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>r()),t.addEventListener("error",i),document.getElementsByTagName("head")[0].appendChild(t)}})}},875417:function(e,t,r){r.d(t,{Z:()=>i});var n=r(667294);function i(e){let{animationData:t,autoplay:i,initialSegment:o,loop:a,onComplete:s,onConfigReady:l,onDataFailed:d,onDataReady:u,onDestroy:c,onDOMLoaded:h,onEnterFrame:g,onLoadedImages:p,onLoopComplete:m,onSegmentStart:f}=e,[_,y]=(0,n.useState)(null),[E,v]=(0,n.useState)(!1),b=(0,n.useRef)(null),w=(0,n.useRef)(null),T=async()=>{y(await r.e("13000").then(r.t.bind(r,98234,23)))};return(0,n.useEffect)(()=>{T()},[]),(0,n.useEffect)(()=>{if(!w.current||!_||!t||!t.w||!t.h)return;b.current?.destroy();let r={...e,container:w.current};b.current=_.loadAnimation(r),v(!!b.current)},[w,b,t,_,e]),(0,n.useEffect)(()=>{b.current&&(b.current.loop=!!a,a&&b.current.isPaused&&b.current.play())},[a]),(0,n.useEffect)(()=>{b.current&&(b.current.autoplay=!!i)},[i]),(0,n.useEffect)(()=>{if(b.current){if(!o)return void b.current.resetSegments(!1);Array.isArray(o)&&o.length&&((b.current.currentRawFrame<o[0]||b.current.currentRawFrame>o[1])&&(b.current.currentRawFrame=o[0]),b.current.setSegment(o[0],o[1]))}},[o]),(0,n.useEffect)(()=>{if(!b.current||!E)return()=>{};let e=[{name:"complete",handler:s},{name:"loopComplete",handler:m},{name:"enterFrame",handler:g},{name:"segmentStart",handler:f},{name:"config_ready",handler:l},{name:"data_ready",handler:u},{name:"data_failed",handler:d},{name:"loaded_images",handler:p},{name:"DOMLoaded",handler:h},{name:"destroy",handler:c}].filter(e=>null!=e.handler).map(e=>(b.current?.addEventListener(e.name,e.handler),()=>{b.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[E,s,m,g,f,l,u,d,p,h,c]),{animationContainerRef:w,play:()=>{b.current?.play()},stop:()=>{b.current?.stop()},pause:()=>{b.current?.pause()},setSpeed:e=>{b.current?.setSpeed(e)},goToAndStop:(e,t)=>{b.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{b.current?.goToAndPlay(e,t)},setDirection:e=>{b.current?.setDirection(e)},playSegments:(e,t)=>{b.current?.playSegments(e,t)},setSubframe:e=>{b.current?.setSubframe(e)},getDuration:e=>b.current?.getDuration(e),destroy:()=>{b.current?.destroy()},animationLoaded:E,animationItem:b.current}}},175860:function(e,t,r){r.d(t,{bq:()=>n,r1:()=>i,zp:()=>o});let n={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"},i=201,o=new Set([201,203])},566431:function(e,t,r){r.d(t,{Mt:()=>v,NK:()=>f,P6:()=>o,UE:()=>w,ZE:()=>p,Zt:()=>m,_J:()=>d,_S:()=>_,cL:()=>h,iR:()=>y,jL:()=>l,oN:()=>i,oU:()=>b,rM:()=>g,sV:()=>u,sY:()=>c,yp:()=>a});var n=r(764682);let i=5e3,o=5e3/n.gJ,a="Pin page",s=["Uploaded by user"],l=(e,t)=>!!t&&!e,d=e=>!!e&&5!==e,u=e=>["email","messages","deep_linking"].includes(e),c=e=>!!e&&"gif"===e,h=({embedSrc:e,embedSubtype:t,embedType:r})=>!!e&&!c(r)&&"pinstory"!==t,g=({link:e,mobileLink:t,trackedLink:r,utmLink:n})=>!t&&!n&&!r&&!e,p=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),r=t.toLowerCase();return"pin.it"===r||r.endsWith(".pin.it")}catch{return/\bpin\.it\b/i.test(e)}},m=({link:e,mobileLink:t,origImageUrl:r,trackedLink:n,utmLink:i})=>t||i||n||e||r||"",f=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function _(e){for(let t of s)if(e===t)return!1;return!0}function y(e){if(!e)return!1;let{id:t,videos:r}=e;if(t&&r?.id&&r.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:n}=r.video_list;if(e&&E(e)||t&&E(t)||n&&E(n))return!0}let n=e.story_pin_data?.pages?.[0]?.blocks;if(n){for(let e of n)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function E(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function v(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function b({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!v(t)}let w=e=>"button"in e&&1===e.button},890678:function(e,t,r){r.d(t,{Z:()=>o});var n=r(629972),i=r(957547);function o(e){let{enabledRouteRefresh:t,headers:r,name:o,noCache:a,options:s,schema:l}=e??{name:n.fY,options:null},d=!e,{fetchResource:u,ref:c,fetchMore:h,isFetching:g,isLoaded:p,isRefreshing:m,refresh:f}=(0,i.Z)({enabledRouteRefresh:t,headers:r,name:o,noCache:a,options:s,schema:l},d,!1);return d||u(),{ref:c,fetchMore:h,isFetching:g,isLoaded:p,isRefreshing:m,refresh:f}}},381500:function(e,t,r){function n(e){return e===window?window.innerHeight:e.clientHeight}function i(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function o(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function a(e){return e===window?i():e.scrollTop}r.d(t,{MX:()=>a,S$:()=>i,Uy:()=>n,aZ:()=>o})},680589:function(e,t,r){r.d(t,{ZP:()=>i,mP:()=>n});let n="…";function i(e,t=80,r=n,o=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||o)a=e.substring(0,t);else{let r=e.lastIndexOf(" ",t);a=e.substring(0,r)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+r}},112658:function(e,t,r){r.d(t,{Z:()=>y});var n=r(686659),i=r(667294),o=r(391995),a=r(400962),s=r(171556),l=r(774838),d=r(907049),u=r(49932),c=r(141483),h=r(623222),g=r(228612),p=r(785893);function m(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class f extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:r,objectId:n,timeSpentContext:i,view:o,viewParameter:a}=this.props;return{view:o||i?.view,viewParameter:a||i?.viewParameter,component:t||i?.component,element:r,objectId:n||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:r,left:n,right:i,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===r&&0===n&&0===i&&0===o?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new c.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.Z)(e.auxData,this.props.auxData)&&(0,d.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,p.jsx)(h.$,{value:this.getContext(),children:(0,p.jsx)(s.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:r=>(0,p.jsx)(o.xu,{ref:r,height:t??"100%",children:i.Children.only(e)})})})}componentDidMount(){(0,n.Z)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function _(e){let t=(0,a.ou)(),r=(0,h.a)(),n=(0,u.Z)(),o=(0,g.EQ)(),{requestIdentifier:s=""}=(0,l.B)(),d={app_instance_id:s.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(o??{})},[o,n]),n?(0,p.jsx)(f,{...e,auxData:d,timeSpentContext:r,timeSpentManager:n,children:e.children}):e.children}_.displayName="DeprecatedTimeSpent";let y=_},623222:function(e,t,r){r.d(t,{$:()=>n,a:()=>i});let{Provider:n,getMaybe:i}=(0,r(213491).Z)("timeSpentContext")},141483:function(e,t,r){r.d(t,{Z:()=>s,h:()=>a});var n=r(172045),i=r(17314);function o(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),s=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},49932:function(e,t,r){r.d(t,{$:()=>n,Z:()=>o});let{Provider:n,getMaybe:i}=(0,r(213491).Z)("TimeSpentManagerContext"),o=i},380938:function(e,t,r){r.d(t,{Z:()=>s});var n=r(686659),i=r(667294),o=r(391995),a=r(785893);function s({ariaHidden:e=!1,color:t,size:r}){return(0,i.useEffect)(()=>{(0,n.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,a.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,a.jsx)(o.xe,{color:t,inline:!0,size:r??"200",children:"·"})})}},49629:function(e,t,r){r.d(t,{Z:()=>i});var n=r(755725);let i=({url:e})=>{let t=(0,n.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},17658:function(e,t,r){r.d(t,{Z:()=>i});var n=r(667294);function i(e,t){let r=(0,n.useRef)([]),[i,o]=(0,n.useState)(),[a,s]=(0,n.useReducer)(i??(()=>t),t),l=(0,n.useCallback)(t=>{i?s(t):(r.current.length||e().then(e=>{o(()=>e.default)}),r.current=[...r.current,t])},[e,i]);return(0,n.useEffect)(()=>{i&&(r.current.forEach(s),r.current=[])},[i]),[a,l]}},764682:function(e,t,r){r.d(t,{$f:()=>i,Cy:()=>l,DR:()=>n,Fm:()=>s,bR:()=>a,gJ:()=>o,lG:()=>d});let n=1,i=2,o=1e3,a=1e3,s=1e3,l=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},264267:function(e,t,r){r.d(t,{pb:()=>E,nf:()=>v,lV:()=>b});var n=r(667294),i=r(581722),o=r(441143),a=r.n(o),s=r(27399),l=r(213491),d=r(47755),u=r(57887),c=r(360033),h=r(730056);let g={feature_map:Object.freeze({})},p=(e,t)=>{let r={...(0,h.Z)(e,t),...t.reaction_counts?{reaction_counts:t.reaction_counts}:Object.freeze({}),...t.tags?{tags:t.tags}:Object.freeze({}),...t.tagged_users?{tagged_users:t.tagged_users}:Object.freeze({})};return(0,c.ZP)(e,r)?e:r},m=(e,t)=>{if(e=e||g,"FETCH_COMPLETE"===t.type){let{payload:{resource:r,options:n={}}}=t,{data:i}=t.payload.response.resource_response;if("AggregatedCommentReplyFeedResource"===r||"ApiResource"===r&&n.url===`/v3/aggregated_comments/${n.data?.aggregated_comment}/replies/`||"ApiResource"===r&&n.url===`/v3/aggregated_pin_data/${n.data?.aggregated_pin_data}/comments/`||"DidItCommentsResource"===r){let t=(i||[]).reduce((t,r)=>(t[r.id]=p(e[r.id],r),t),{});return{...e,...t}}if("UnifiedCommentsResource"===r&&i&&i.length>0){let t=i.filter(e=>"aggregatedcomment"===e.type).reduce((t,r)=>(t[r.id]=p(e[r.id],r),t),{});return{...e,...t}}if("UnifiedCommentsPreviewResource"===r&&i&&i.length>0){let t=i.map(e=>e.aggregated_comment).reduce((t,r)=>(r&&(t[r.id]=p(e[r.id],r)),t),{}),r=i.map(e=>e.creator_reply).reduce((t,r)=>(r&&r.id&&(t[r.id]=p(e[r.id],r)),t),{});return{...e,...t,...r}}if("ApiResource"===r&&"/v3/aggregated_comments/features/"===n.url&&i&&Object.keys(i).length>0)return{...e,feature_map:i}}else if("AGGREGATED_COMMENT_CREATED"===t.type){let{payload:{aggregatedComment:r}}=t;return r.id?{...e,[r.id]:r}:e}else if("AGGREGATED_COMMENT_DELETED"===t.type||"AGGREGATED_COMMENT_HIDDEN"===t.type){let{payload:{aggregatedCommentId:r}}=t,n={...e};return delete n[r],n}else if("AGGREGATED_COMMENT_HIDDEN_FOR_USER"===t.type){let{payload:{userId:r}}=t;return Object.fromEntries(Object.entries(e??{}).filter(e=>e[1].user?.id!==r))}else if("AGGREGATED_COMMENT_UPDATED"===t.type){let{payload:{data:r}}=t;return{...e,[r.id]:p(e?.[r.id],r)}}else if("AGGREGATED_COMMENT_LIKE_TOGGLED"===t.type){let{payload:{data:r}}=t,n=e?.[r.id],i=n?.reaction_counts[1]||0,o={1:r.reaction_by_me?i+1:i-1},a={...n,reaction_by_me:r.reaction_by_me,reaction_counts:o};return{...e,[r.id]:a}}else if("AGGREGATED_COMMENT_HELPFUL_TOGGLED"===t.type){let{payload:{data:r}}=t,n=e?.[r.id],i=n?.helpful_count||0,o=r.marked_helpful_by_me?i+1:i-1,a={...n,marked_helpful_by_me:r.marked_helpful_by_me,helpful_count:o};return{...e,[r.id]:a}}else if("AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED"===t.type){let{payload:{data:r}}=t,n={...e?.[r.aggregated_comment_id],highlighted_by_pin_owner:r.is_highlighted};return{...e,[r.aggregated_comment_id]:n}}else if("AGGREGATED_COMMENT_FEATURES_UPDATED"===t.type){let{payload:{data:{featureMap:r}}}=t;return{...e,feature_map:{...e?.feature_map,...r}}}else if("UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT"===t.type){let{payload:{increment:r,id:n}}=t,i=e?.[n];if(!i)return e;let o={...i,comment_count:i.comment_count+r};return{...e,[n]:o}}else if("DELETE_COMMENT_MENTION"===t.type){let{payload:{aggregatedCommentId:r,tagged_users:n}}=t,i={...e?.[r],tagged_users:n};return{...e,[r]:i}}else if("GET_COMMENT_TRANSLATION"===t.type){let{payload:{aggregatedCommentId:r,translatedText:n}}=t,i={...e?.[r],translatedText:n};return{...e,[r]:i}}return e};var f=r(785893);let{Provider:_,get:y}=(0,l.Z)("AggregatedComments");function E({children:e}){let t=(0,i.v9)(({resources:e})=>e?.UnifiedCommentsResource),r=g;t&&Object.values(t).forEach(e=>{let t=e.data?.filter(e=>"aggregatedcomment"===e.type),n=t?.reduce((e,t)=>(e[t.id]=p(r[t.id],t),e),{});r={...r,...n}});let[o,a]=(0,n.useReducer)(m,r),s=e=>{a({type:"FETCH_COMPLETE",payload:e})};(0,u.Z8)("AggregatedCommentReplyFeedResource",s),(0,u.my)("AggregatedCommentReplyFeedResource",s),(0,u.Z8)("ApiResource",s),(0,u.my)("ApiResource",s),(0,u.Z8)("DidItCommentsResource",s),(0,u.my)("DidItCommentsResource",s),(0,u.Z8)("UnifiedCommentsPreviewResource",s),(0,u.my)("UnifiedCommentsPreviewResource",s),(0,u.Z8)("UnifiedCommentsResource",s),(0,u.my)("UnifiedCommentsResource",s);let l=(0,n.useMemo)(()=>({aggregatedComments:o,dispatch:a}),[o,a]);return(0,f.jsx)(_,{value:l,children:e})}function v(){let{dispatch:e}=y();return(0,n.useMemo)(()=>({aggregatedCommentCreated(t,r){e({type:"AGGREGATED_COMMENT_CREATED",payload:{parentId:t,aggregatedComment:r}})},aggregatedCommentDeleted:(t,r)=>{e({type:"AGGREGATED_COMMENT_DELETED",payload:{parentId:t,aggregatedCommentId:r}})},aggregatedCommentHidden:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN",payload:{aggregatedCommentId:t}})},aggregatedCommentsHiddenForUser:t=>{e({type:"AGGREGATED_COMMENT_HIDDEN_FOR_USER",payload:{userId:t}})},flagAggregatedComment:async({isAggregatedComment:e=!0,commentId:t,reason:r,detailedReasons:n})=>e?(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/flag/",urlParams:{aggregated_comment:t},method:"PUT",data:{reason:r,detailed_reasons:n}}):(0,d.Z)({url:"/v3/did_it/{user_did_it_data}/flag/",urlParams:{user_did_it_data:t},method:"PUT",data:{reason:r,detailed_reasons:n}}),deleteCommentMention:async t=>{let{resource_response:r}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/mentions/",urlParams:{aggregated_comment:t},method:"DELETE"}),n=r.data;n?.id&&e({type:"DELETE_COMMENT_MENTION",payload:{aggregatedCommentId:n.id,tagged_users:n.tagged_users??[]}})},translateAggregatedComment:async t=>{try{let{resource_response:r}=await (0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/translate/",urlParams:{aggregated_comment:t},method:"GET"}),n=r.data??"";e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:n}})}catch(r){e({type:"GET_COMMENT_TRANSLATION",payload:{aggregatedCommentId:t,translatedText:""}})}},toggleAggregatedCommentHelpful:({aggregatedCommentId:t,isMarkedHelpfulByMe:r,orbacSubjectId:n})=>{(0,d.Z)({url:`/v3/helpful/1/${t}/`,method:r?"DELETE":"POST",data:n?{orbac_subject_id:n}:{}}),e({type:"AGGREGATED_COMMENT_HELPFUL_TOGGLED",payload:{data:{id:t,marked_helpful_by_me:!r}}})},toggleAggregatedCommentHighlight:async({aggregatedCommentId:t,pinId:r,isHighlighted:n})=>{a()(t,"Could not find comment"),a()(r,"Could not find Pin"),await (0,d.Z)({url:"/v3/aggregated_comments/pin/highlight/",method:"PUT",data:{aggregated_comment:t,pin:r,highlight:!n}}),e({type:"AGGREGATED_COMMENT_HIGHLIGHT_TOGGLED",payload:{data:{aggregated_comment_id:t,pin_id:r,is_highlighted:!n}}})},toggleAggregatedCommentLike:({aggregatedCommentId:t,isLikedByMe:r,orbacSubjectId:n})=>{(0,d.Z)({url:"/v3/aggregated_comments/{aggregated_comment}/react/",urlParams:{aggregated_comment:t},method:r?"DELETE":"POST",data:{reaction_type:1,...n?{orbac_subject_id:n}:{}}}),e({type:"AGGREGATED_COMMENT_LIKE_TOGGLED",payload:{data:{id:t,reaction_by_me:+!r}}})},updateAggregatedComment:async({commentId:t,force:r,orbacSubjectId:n,tags:i,text:o})=>{let{resource_response:a}=await s.Z.create("AggregatedCommentResource",{commentId:t,force:r,tags:i,text:o,...n?{orbacSubjectId:n}:{}}).callUpdate({showError:!1}),{tagged_users:l}=a.data??{};e({type:"AGGREGATED_COMMENT_UPDATED",payload:{data:{id:t,tagged_users:l.map(e=>({...e})),tags:JSON.parse(i),text:o}}})},updateAggregatedCommentFeatures:async({userId:t,featureMap:r,passcode:n,userConfirmPasscode:i})=>{let{resource_response:o}=await (0,d.Z)({url:"/v3/aggregated_comments/features/",method:"PUT",data:{user:t,feature_map:JSON.stringify(r),passcode:n,user_confirm_skip_passcode:i??!1}});e({type:"AGGREGATED_COMMENT_FEATURES_UPDATED",payload:{data:{featureMap:o.data??Object.freeze({})}}})},updateCommentCount:(t,r)=>{e({type:"UPDATE_AGGREGATED_COMMENT_COMMENT_COUNT",payload:{increment:r,id:t}})}}),[e])}function b(){let{aggregatedComments:e}=y();return e}},577564:function(e,t,r){r.d(t,{Jo:()=>u,mv:()=>h,nJ:()=>c});var n=r(667294),i=r(213491);let o={hiddenNews:{}};function a(e,t){if(e=e||o,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:r,isHidden:n}}=t;return{hiddenNews:{...e?.hiddenNews,[r]:n}}}}var s=r(785893);let{Provider:l,get:d}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,r]=(0,n.useReducer)(a,o),i=(0,n.useMemo)(()=>({dispatch:r,hiddenNews:t}),[r,t]);return(0,s.jsx)(l,{value:i,children:e})}function c(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=d();return(0,n.useMemo)(()=>({updateNewsIdToHiddenNews:(t,r)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:r}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function h(){let{hiddenNews:e}=d();return e}},872003:function(e,t,r){r.d(t,{G:()=>h,Kl:()=>g,vo:()=>c});var n=r(667294),i=r(213491),o=r(57887),a=r(17658),s=r(785893);let l=()=>r.e("65333").then(r.bind(r,557189)),{Provider:d,get:u}=(0,i.Z)("NativeEngagements");function c({children:e}){let[t,r]=(0,a.Z)(l,[]);(0,o.Z8)("NativeInteractionsResource",e=>{r({type:"FETCH_COMPLETE",payload:e})}),(0,o.my)("NativeInteractionsResource",e=>{r({type:"FETCH_MORE_COMPLETE",payload:e})});let i=(0,n.useMemo)(()=>({dispatch:r,nativeEngagements:t}),[r,t]);return(0,s.jsx)(d,{value:i,children:e})}function h(){let{dispatch:e}=u();return(0,n.useMemo)(()=>({nativeEngagementsHiddenForUser:t=>{e({type:"NATIVE_ENGAGEMENT_HIDDEN_FOR_USER",payload:{userId:t}})}}),[e])}function g(){let{nativeEngagements:e}=u();return e}},430583:function(e,t,r){r.d(t,{Z:()=>a,b:()=>o});var n=r(173874);let i=[n.isBusinessAccountConvertPage,n.isBusinessInvitePage,n.isCreatePinPage,n.isLoginPage,n.isOAuthPage,n.isAppFactoryOAuthPage,n.isAgeAppealPage,n.isPinToBoardPage,n.isStoryboardPage,n.isCommerceIntegrationsConnectPage];function o(e,t){return(t?i:[...i,n.isCollageCreationPage]).every(t=>!t(e))}function a(e){return i.every(t=>!t(e))}},883097:function(e,t,r){r.d(t,{US:()=>f,X2:()=>y,mW:()=>_});var n=r(667294),i=r(27399),o=r(104999),a=r(213491),s=r(702763),l=r(57887),d=r(17658),u=r(785893);let c=()=>r.e("14197").then(r.bind(r,974429));function h(e,t,r=!1){return{type:"TOPIC_FOLLOW",payload:{id:e,value:t,showTooltip:r}}}function g(e){return i.Z.create("InterestFollowResource",{interest_id:e,interest_list:s.X})}let{Provider:p,get:m}=(0,a.Z)("Topics");function f({children:e}){let[t,r]=(0,d.Z)(c,{}),i=e=>{r({type:"TOPIC_FETCH_COMPLETE",payload:e})};(0,l.Z8)("InterestFollowingResource",i),(0,l.Z8)("InterestResource",i);let o=(0,n.useMemo)(()=>({dispatch:r,topics:t}),[r,t]);return(0,u.jsx)(p,{value:o,children:e})}function _(){let{dispatch:e}=m(),t=(0,o.Z)();return(0,n.useMemo)(()=>({follow:async(r,n=!1)=>{e(h(r,!0,n));try{await g(r).callCreate({showError:!1}),t({event_type:601,object_id_str:r})}catch(t){e(h(r,!1,n))}},unfollow:async r=>{e(h(r,!1));try{await g(r).callDelete({showError:!1}),t({event_type:602,object_id_str:r})}catch(t){e(h(r,!0))}}}),[e,t])}function y(){let{topics:e}=m();return e}},529312:function(e,t,r){r.d(t,{A:()=>s,w:()=>l});var n=r(667294),i=r(213491),o=r(785893);let{Provider:a,get:s}=(0,i.Z)("Session");function l({children:e}){let[t,r]=(0,n.useState)(void 0),i=(0,n.useCallback)(()=>r(void 0),[]),s=(0,n.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:r,removeUnauthFollowUserId:i}),[t,i]);return(0,o.jsx)(a,{value:s,children:e})}},217616:function(e,t,r){r.d(t,{Z:()=>s});var n=r(312048),i=r(935059),o=r(173874),a=r(430583);function s(){let e=(0,i.Z)(),t=(0,n.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,o.isEmailUnsubscribePage)(t)}}},336486:function(e,t,r){r.d(t,{Z:()=>o});var n=r(501010),i=r(217616);function o(){let{enabled:e}=(0,i.Z)();if(!e)return!1;let{checkExperiment:t}=(0,n.Z)();return t("web_nav_sidebar").anyEnabled}},832333:function(e,t,r){r.d(t,{Z:()=>c});var n=r(686659),i=r(667294),o=r(391995),a=r(785893);function s(e){return`${Math.min(100*e,100)}%`}function l({customCover:e,imgPos:t,imgUrl:r}){let[n,o]=(0,i.useState)({height:0,loaded:!1,width:0}),{height:a,loaded:l,width:d}=n;if((0,i.useEffect)(()=>{let e=new Image;e.onload=()=>{o({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=r},[r]),!e||!t||!a||!d)return{loaded:l,position:"center center"};let u=d-t.width,c=a-t.height,h=u>0?s(t.x/u):"center",g=c>0?s(t.y/c):"center";return{loaded:l,position:`${h} ${g}`}}function d(e){let{loaded:t,position:r}=l(e),{imgUrl:n}=e,i={backgroundImage:`url(${n})`,backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,a.jsx)(o.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:i},"data-test-id":"cover-image",children:(0,a.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function u(e){let{loaded:t,position:r}=l(e),{alt:n,color:i,imgUrl:s}=e;return(0,a.jsx)(o.zd,{height:"100%",width:"100%",children:t&&(0,a.jsx)("img",{alt:n||"",src:s,style:{backgroundColor:i||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function c(e){(0,i.useEffect)(()=>{(0,n.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,a.jsx)(u,{...e}):(0,a.jsx)(d,{...e})}},748261:function(e,t,r){r.d(t,{Z:()=>x});var n,i,o=r(686659),a=r(667294);r(244311);var s=r(391995),l=r(183e3),d=r(24246),u=r(78835),c=r(501010),h=r(774838),g=r(739405),p=r(594502),m=r(464094),f=r(832333),_=r(785893);function y({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:r,privacy:n,size:i=20}){(0,a.useEffect)(()=>{(0,o.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let l=(0,d.Z)();return(0,_.jsx)(s.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:i,justifyContent:"center",rounding:"circle",width:i,children:(0,_.jsx)(s.JO,{accessibilityLabel:l._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===n?"lock":"shield",size:r??i/2})})}var E=r(227866),v=r(235623);let b=(void 0!==n||(n=r(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==n.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),w=(void 0!==i||(i=r(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==i.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),T="100%";function x(e){(0,a.useEffect)(()=>{(0,o.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.Z)(),{boardKey:r,canEdit:n,containerBackgroundColor:i="white",coverPhoto:x,coverPinKey:A,fullSize:R,hideSecretBoardIcon:S,images:C,isActive:I,isHomePageBoards:D,isProtected:P,isSecret:O,layout:M,onEditClick:j,renderAsImage:Z,showSensitivityScreen:G}=e,N=(0,g.HG)(),{isRTL:L,isAuthenticated:F}=(0,h.B)(),H=(0,l.Z)(b,r),U=(0,l.Z)(w,A),B=(0,a.useRef)(null),k=N&&F,{checkExperiment:z}=(0,c.Z)(),[W,K]=(0,a.useState)(!1);(0,a.useEffect)(()=>{I&&k&&H&&!O&&!W&&K(z("ce_dweb_board_preview_share_button").anyEnabled)},[I,k,H,O,W,z]);let $=(0,a.useRef)(void 0);(0,a.useEffect)(()=>{I?$.current&&(clearTimeout($.current),$.current=void 0):$.current||($.current=window.setTimeout(()=>{$.current=void 0,I||K(!1)},200))},[I]),(0,a.useEffect)(()=>()=>{$.current&&clearTimeout($.current)},[]);let X=C[0],J=!x&&C[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),V=[,,].fill(0),q=new s.Ry(1),Y="square"===M?m.M0:m.z9,Q="square"===M?m.FP:m.FC,ee=X?.url?(0,_.jsx)(s.Ee,{alt:J,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:X.url}):(0,_.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"}),et=G?{filter:"blur(20px)"}:{};return(0,_.jsxs)(s.zd,{height:R?"100%":void 0,rounding:400,width:"100%",children:[(0,_.jsxs)(s.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,_.jsx)(s.sg,{span:8,children:(0,_.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:et},height:R?"100%":void 0,position:"relative",children:(0,_.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:T}},overflow:"hidden",width:"100%",children:(0,_.jsxs)(s.xu,{ref:B,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:D?"#FFDFE9":i,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(P||O)&&!S&&(0,_.jsx)(s.xu,{left:!L,margin:2,position:"absolute",right:L,top:!0,zIndex:q,children:(0,_.jsx)(y,{backgroundColor:"default",iconColor:"default",privacy:O?"secret":"protected",size:k?32:24})}),x?.url?(0,_.jsx)(s.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(f.Z,{customCover:x.isCustom,height:Q,imgPos:U?function(e){let{crop:t,size:r}=e||{};if(Array.isArray(t)&&Array.isArray(r))return{x:t[0]||0,y:t[1]||0,width:r[0]||0,height:r[1]||0}}(U):x.position||{width:0,height:0,x:0,y:0},imgUrl:U?.imageUrl??(x.url||""),renderAsImage:Z,width:Math.floor(Y/3*2)})}):ee]})})})}),(0,_.jsx)(s.sg,{span:4,children:(0,_.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(n||W)&&(0,_.jsxs)(s.xu,{bottom:!0,display:W?"flex":void 0,left:L,margin:2,opacity:100*!!I,position:"absolute",right:!L,zIndex:q,children:[W&&(0,_.jsx)(s.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,_.jsx)(s.xu,{marginEnd:1,children:(0,_.jsx)(v.Z,{boardKey:H,handleCreatePincode:()=>{},iconColor:"default",size:"sm"})})}),n&&(0,_.jsx)(s.iP,{onTap:({event:e})=>j?.(e),children:(0,_.jsx)(s.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"default",icon:"pencil",iconColor:"default",size:"sm",tabIndex:-1})})]}),V.map((e,t)=>{let r=x?C[t]:C[t+1];return(0,_.jsx)(s.xu,{height:R?"50%":void 0,position:"relative",children:(0,_.jsx)(s.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:T}},overflow:"hidden",width:"100%",children:(0,_.jsx)(s.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:D?"#FFDFE9":i,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:r?.url?(0,_.jsx)(s.zd,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(s.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:r.url})}):(0,_.jsx)(s.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),G&&(0,_.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,_.jsx)(s.qd,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,_.jsx)(p.Z,{visibility:I?"visible":"none",children:(0,_.jsx)(E.Z,{additionalStyles:{backgroundColor:u.Dv.LEGO_WASH}})})]})}},464094:function(e,t,r){r.d(t,{AC:()=>a,Bp:()=>g,Ex:()=>p,FC:()=>u,FP:()=>l,L$:()=>m,M0:()=>s,SA:()=>h,Xq:()=>c,Y_:()=>o,o2:()=>i,oC:()=>f,s0:()=>n,z9:()=>d});let n=44,i=40,o=49,a=69,s=236,l=157,d=320,u=213,c=7,h=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"],g=100,p={SAVE_TO_PROFILE:0,SHOW_BOARD_PICKER:1},m=8,f=5},483854:function(e,t,r){r.d(t,{Z:()=>l});var n=r(686659),i=r(667294),o=r(391995),a=r(216975),s=r(785893);function l(e){(0,i.useEffect)(()=>{(0,n.Z)("NewsText","/app/www/growth/news/NewsHub/NewsText/NewsText.tsx")},[]);let{applyMarkup:t=!0,applyLink:r=!1,text:l,textMapping:d={}}=e,u={};return d&&Object.keys(d).forEach(e=>{let n=d[e];null!==n&&(n.t?u[e]=n.t.toString():u[e]="",t&&(n.b&&(u[e]=(0,s.jsx)(o.xe,{inline:!0,weight:"bold",children:u[e]},e)),n.r&&(u[e]=(0,s.jsx)(o.xe,{color:"error",inline:!0,children:u[e]},e)),n.l&&r&&(u[e]=(0,s.jsx)(o.rU,{display:"inlineBlock",href:n.l,underline:"hover",children:u[e]},e))))}),(0,s.jsx)(o.xu,{"data-test-id":"updates-link-text",children:(0,s.jsx)(o.xe,{inline:!0,children:l?(0,a.bF)(l,u):null})})}},996590:function(e,t,r){r.d(t,{AI:()=>H,AM:()=>w,AY:()=>Q,Ay:()=>s,C:()=>er,Cc:()=>u,DX:()=>O,GO:()=>L,HJ:()=>l,I2:()=>k,IO:()=>es,IV:()=>i,J0:()=>y,LL:()=>et,Ng:()=>n,P:()=>R,P3:()=>_,QE:()=>eo,QX:()=>en,Rd:()=>A,So:()=>v,V$:()=>g,Vp:()=>X,WC:()=>I,Z1:()=>c,ZH:()=>Z,aE:()=>f,c4:()=>S,cU:()=>C,ci:()=>D,d1:()=>p,di:()=>B,gb:()=>ee,gs:()=>N,hD:()=>K,hf:()=>U,hp:()=>F,hy:()=>a,ie:()=>E,kJ:()=>Y,kc:()=>x,mD:()=>$,mM:()=>P,o9:()=>o,pv:()=>h,qZ:()=>T,qb:()=>b,uW:()=>G,uZ:()=>d,uy:()=>J,vG:()=>V,wA:()=>m,wl:()=>W,yS:()=>ei,yc:()=>j,yf:()=>el,ys:()=>q,yy:()=>z,zM:()=>M});let n={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",JOURNEY:"journey",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o="news-feed-sidebar",a=360,s=15,l=375,d=64,u=36,c=78,h=44,g=344,p=376,m=164,f=328,_=164,y=108.7,E=3,v=82,b=82,w=164,T=164,x=4,A=164,R=164,S=2,C=82,I=164,D=2,P=2,O=4,M=328,j="290x",Z="170x",G={backgroundColor:"rgba(0, 0, 0, 0.4)"},N=400,L="1px",F=48,H=32,U=36,B="136x136",k=200,z=200,W=24,K=20,$=72,X=48,J=54,V=54,q=4,Y=118,Q=236,ee={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},et="recommendation",er="dropdown_item_settings_id",en=10,ei=20,eo=5e3,ea="#E9E4FF",es={backgroundColor:ea,borderColor:ea,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},el={...es,paddingRight:"10px"}},468600:function(e,t,r){r.d(t,{Z:()=>E});var n=r(686659),i=r(667294),o=r(391995),a=r(24246),s=r(569650),l=r(381500),d=r(730448),u=r(996590),c=r(577564),h=r(336486),g=r(785893);function p(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let m="down",f=!1,_=!0;class y extends i.Component{constructor(e){super(e),p(this,"handleMouseOver",()=>{!this.props.listResource.isFetching&&this._container&&this.setState({highlight:!1})}),p(this,"handleScroll",(0,d.Z)(()=>{if(this.props.listResource.isFetching||!this._container)return;let{handleScrollShadow:e}=this.props;e&&e((0,l.MX)(this._container)>70);let{scrollThreshold:t}=this.props,r=(0,l.aZ)(this._container)-(0,l.MX)(this._container)-(0,l.Uy)(this._container);t&&r<t&&this.fetchMore()},30)),p(this,"addEventListeners",e=>{let{useWindow:t}=this.props;t&&(e=window),this.removeEventListeners(),e&&(t||e.addEventListener("wheel",this.preventScroll),e.addEventListener("scroll",this.handleScroll),e.addEventListener("mouseover",this.handleMouseOver)),this._container=e}),p(this,"getRef",e=>e&&e.id===this.props.highlightId?this.onRefChange:null),p(this,"preventScroll",e=>{if(!this._container)return;let t=e.deltaY<0?"up":m,r=this._container.scrollHeight-this._container.scrollTop-this._container.clientHeight==0,n=0===this._container.scrollTop;(t===m&&r||"up"===t&&n)&&e.preventDefault()}),p(this,"fetchForHighlight",()=>{if(!this.state.isResourceExhausted&&!this.state.isHighlightedItemLoaded&&this.props.listResource.data){let e=!1;this.props.listResource.data.forEach(t=>{t?.id===this.props.highlightId&&(e=!0,this.setState({isHighlightedItemLoaded:!0}))}),e||this.fetchMore()}}),p(this,"onRefChange",e=>{this.setState({highlightedItemRef:e})}),p(this,"handleHighlightAndScrollToItem",()=>{this.props.listResource&&this.props.listResource.data&&!this.state.isResourceExhausted&&!this.state.isHighlightedItemLoaded&&this.fetchForHighlight(),this.state.highlightedItemRef&&!f&&(this.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),f=!0)}),p(this,"fetchMoreIfHidden",e=>{if(this.props.listResource.auxData?.x_pinterest_sli_endpoint_name==="v3_get_news_hub_feed"){let t=u.yS;!this.props.listResource.isFetching&&!this.props.listResource.isAtEnd&&e&&this.props.getShownNewsCount(e)<t&&this.props.listResource.fetchMore()}}),this.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1}}componentWillUnmount(){this.removeEventListeners(),f&&(_=!1)}static getDerivedStateFromProps(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}removeEventListeners(){let{useWindow:e}=this.props,{_container:t}=this;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}fetchMore(){let{_container:e}=this;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}render(){let{isAdsTab:e,isSideBarEnabled:t,hiddenNews:r,renderEmptyState:n,renderItem:a,renderTopStoryExperience:l,renderBottomSection:d,renderSectionHeaders:c}=this.props;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();let{data:h}=this.props.listResource;if(this.fetchMoreIfHidden(h),!this.props.listResource.isFetching&&h&&(0===this.props.getShownNewsCount(h)||0===h.length))return n();let p=h?.filter(e=>e&&"type"in e&&e?.type==="news"&&!r[e.id]),m=p?.findIndex(e=>e&&"unread"in e&&e?.unread&&(0,s.Y0)(e.encoded_display_mode,[u.gb.HIGHLIGHT_NOTIFICATION]))??-1,f=h&&-1!==m?h[m]:null,y=p?.filter(e=>e&&"unread"in e&&!e?.unread)??[],E=p?.filter((e,t)=>e&&"unread"in e&&e.unread&&t!==m)??[];return(0,g.jsxs)(o.xu,{ref:this.addEventListeners,dangerouslySetInlineStyle:{__style:{clear:"both",height:t?"100%":"calc(100% - 88px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},"data-test-id":"scrollable-container",children:[h&&l&&l(),e&&h?h.map((e,t)=>(0,g.jsx)(i.Fragment,{children:a(e,t+1,this.getRef(e),this.state.highlight&&_)},t)):null,!e&&(f||E?.length)?(0,g.jsxs)(i.Fragment,{children:[c&&(0,g.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,g.jsx)(o.qd,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,g.jsxs)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:[f?a(f,0,this.getRef(f),this.state.highlight&&_,!0):null,E?.map((e,t)=>a(e,t,this.getRef(e),this.state.highlight&&_))]})]}):null,!e&&y&&y.length>0?(0,g.jsxs)(i.Fragment,{children:[c&&(0,g.jsx)(o.xu,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,g.jsx)(o.qd,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),(0,g.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:y.map((e,t)=>a(e,t,this.getRef(e),this.state.highlight&&_))})]}):null,this.props.listResource.isAtEnd?null:(0,g.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{padding:"5%"}},"data-test-id":"loadingItem",height:"20%",position:"relative",children:(0,g.jsx)(o.xH,{accessibilityLabel:this.props.i18n._('Loading items', ' - ', ' -- '),show:this.props.listResource.isFetching})}),d&&d()]})}componentDidMount(){(0,n.Z)("ScrollableList","/app/www/growth/news/ScrollableList/ScrollableList.tsx")}}function E(e){(0,i.useEffect)(()=>{(0,n.Z)("ScrollableList","/app/www/growth/news/ScrollableList/ScrollableList.tsx")},[]);let t=(0,a.Z)(),{getShownNewsCount:r}=(0,c.nJ)(),{hiddenNews:o}=(0,c.mv)(),s=(0,h.Z)();return(0,g.jsx)(y,{...e,getShownNewsCount:r,hiddenNews:o,i18n:t,isSideBarEnabled:s})}p(y,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:()=>{},highlightId:null,shouldScrollToItem:!1})},36776:function(e,t,r){r.d(t,{m:()=>i,o:()=>n});let{Provider:n,get:i}=(0,r(213491).Z)("LimitedLogin")},229127:function(e,t,r){r.d(t,{N4:()=>o,Wh:()=>n,hr:()=>i});let n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},395878:function(e,t,r){r.d(t,{Z:()=>m});var n,i=r(686659),o=r(667294);r(167912);var a=r(391995),s=r(943152),l=r(183e3),d=r(24246),u=r(36351),c=r(500602),h=r(785893);let g=(void 0!==n||(n=r(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==n.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);class p extends o.Component{constructor(...e){var t,r,n;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?n:n+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="default",children:r,iconColor:n="subtle",onCreatePincode:i,showTooltip:s,size:l="lg"}=this.props,{flyoutOpen:d}=this.state,g={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},p=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},m=r&&r({active:d,onClick:()=>p()})||(0,h.jsx)(a.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:n,onClick:({event:e})=>p(e),selected:d,size:l,tooltip:s?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(a.xu,{ref:e=>{this.anchor=e},children:m}),this.state.flyoutOpen&&(0,h.jsx)(a.mh,{zIndex:c.m6,children:(0,h.jsx)(a.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>p(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(u.Z,{component:13216,onCreatePincodeClick:i?()=>{p(),i()}:void 0,onHide:()=>p(),sendType:"board",sharedObject:g,viewType:5})})})]})}componentDidMount(){(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let m=e=>{(0,o.useEffect)(()=>{(0,i.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.Z)(),r=(0,s.Z)(),n=(0,l.Z)(g,e.boardKey);return(0,h.jsx)(p,{...e,board:n,i18n:t,requireAuth:r,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,t,r){r.d(t,{Z:()=>_});var n,i=r(686659),o=r(667294);r(244311);var a=r(391995),s=r(230201),l=r(943152),d=r(647636),u=r(183e3),c=r(24246),h=r(774838),g=r(395878),p=r(554365),m=r(785893);let f=(void 0!==n||(n=r(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==n.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _({boardKey:e,color:t,handleCreatePincode:r,iconColor:n,hasBoardToolStyles:_,hasShadow:y,showTooltip:E,size:v="lg"}){(0,o.useEffect)(()=>{(0,i.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:b}=(0,s.u)(),w=(0,c.Z)(),T=(0,l.Z)(),{userAgent:{platform:x}}=(0,h.B)(),A="android"===x,R=(0,o.useRef)(null),S=(0,u.Z)(f,e),[C,I]=(0,o.useState)(!1),D=C?void 0:t,P=C?{__style:{backgroundColor:"#e2e2e2"}}:void 0;return(0,m.jsxs)(o.Fragment,{children:[(0,m.jsx)(g.Z,{boardKey:S,iconColor:n,onCreatePincode:r,onOpen:()=>{if(T)return void T();(0,p.Z)(b)},sendBoardButtonRef:R,showTooltip:E,size:v,children:_?({active:e,onClick:t})=>(0,m.jsx)(a.iP,{onTap:t,rounding:500,children:(0,m.jsxs)(a.xu,{alignItems:"center",color:e?"selected":D,dangerouslySetInlineStyle:P,display:"flex",elevation:y?"shadowFloating":void 0,height:64,justifyContent:"center",onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),paddingX:4,rounding:500,children:[(0,m.jsx)(a.xu,{marginEnd:2,children:(0,m.jsx)(a.JO,{accessibilityLabel:w._('Share', 'Board.ShareButton', 'Accessible label for button to share a board'),color:e?"light":"default",icon:A?"share-android":"share",size:20})}),(0,m.jsx)(a.xv,{color:e?"inverse":"default",children:w._('Share', 'Board.ShareButton', 'Label for button to share a board')})]})}):void 0}),(0,m.jsx)(d.N,{anchors:{3018:R.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,t,r){r.d(t,{Z:()=>n});function n(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},305375:function(e,t,r){r.d(t,{Z:()=>s});var n=r(667294),i=r(616550),o=r(312048),a=r(794074);function s(){let e=(0,n.useRef)(null);return null===e.current&&(e.current=(0,a.Z)()),(e.current?o.UO:i.UO)()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/74381-01d3c9e3c10fb1d1.mjs.map