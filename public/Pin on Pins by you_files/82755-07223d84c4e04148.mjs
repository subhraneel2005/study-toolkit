(self.modernJsonp=self.modernJsonp||[]).push([["82755"],{943169:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AnimatedVisualSearchButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useDuploGetStelaUrlWithLargestStelaObject_pin"},{args:null,kind:"FragmentSpread",name:"ButtonWithAnimationWrapper_pin"}],type:"Pin",abstractKey:null};a.hash="cf81c765c2918cf13091a1ef301f4499";let i=a},697465:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ButtonWithAnimationWrapper_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="a36cbee90f76e1bfd0e6c4b9b0c5ecd3";let i=a},402891:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionMediaAttribution_pin",selections:[{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"author",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="91cf1b742f42f2f57e9e89991ad2eebd";let i=a},969834:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionPhotoAttribution_pin",selections:[{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"authorName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ccUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"providerName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="5dff28be2de95106e382c42d78ad1833";let t=i},621824:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionTextContent_pin",selections:[{args:null,kind:"FragmentSpread",name:"CollapsibleDescription_pin"}],type:"Pin",abstractKey:null};a.hash="f37e1b73e206db5c55cd60f9da135e1e";let i=a},88491:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDescriptionText_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupDescriptionTextContent_pin"}],type:"Pin",abstractKey:null};a.hash="b4f48330d3cfef3a6198d0d824c5d6d5";let i=a},521777:function(e,n,l){var a,i;l.r(n),l.d(n,{default:()=>r});let t={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupDescription_pin",selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null}],storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MediaAttribution",kind:"LinkedField",name:"mediaAttribution",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinAdditionalNote",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[a],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageDescription",storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionPhotoAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionMediaAttribution_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"}],type:"Pin",abstractKey:null};t.hash="27b9d263a6be0490f4e228b3a3144e28";let r=t},916965:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsBasicsLayout_pin",selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:a=[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:a,type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="66ce59eb9fa2a37bf75972a3f30769af";let t=i},582422:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupDetailsSourceUser_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};i.hash="3208f75a293572ec8af155f2a06cd2ef";let t=i},748783:function(e,n,l){var a,i,t,r,s,o,d,u;l.r(n),l.d(n,{default:()=>p});let c=(a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],r=[a],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{kind:"RootArgument",name:"isDesktop"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupDetails_pin",selections:[a,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:t,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipsToUserCountry",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:t,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[s,{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[u,o,d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{args:null,kind:"FragmentSpread",name:"OfficialUserAttribution_pin"},{args:null,kind:"FragmentSpread",name:"VaseFullBleedModal_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"ProductDescriptionDropdown_pin"}]},{args:null,kind:"FragmentSpread",name:"DuploShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"ShoppingModule_pin"},{args:null,kind:"FragmentSpread",name:"SavedInfo_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"SeeMoreButton_pin"},{args:null,kind:"FragmentSpread",name:"useIsGroupBoard_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CommentThreadContainer_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"PinFeedbackButton_pin"},{args:null,kind:"FragmentSpread",name:"UnifiedCommentModule_pin"}]},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsBasicsLayout_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipeRating_pin"},{args:null,kind:"FragmentSpread",name:"PinRecipe_pin"},{condition:"isAuth",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"ProductDetails_pin"}]},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"UserRep_pin"},{args:null,kind:"FragmentSpread",name:"useReactionCountsFragment_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDetailsSourceUser_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"},{args:null,kind:"FragmentSpread",name:"ReactionAggregation_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPinLinkCredits_pin"},{args:null,kind:"FragmentSpread",name:"UnauthAmazonModule_pin"},{args:null,kind:"FragmentSpread",name:"UnauthIndexExchangeContainer_pin"}],type:"Pin",abstractKey:null});c.hash="d9cbb483f05a7aee13df60d7ab0a18d2";let p=c},220741:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupFullDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{args:a=[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinActionBar_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"CloseupModals_pin"},{args:a,kind:"FragmentSpread",name:"CloseupPinActionBar_pin"},{args:a,kind:"FragmentSpread",name:"UnauthCloseupRelatedPinsFeed_main_pin"}],type:"Pin",abstractKey:null};i.hash="830a363799e826550c7f1a06d1f2820d";let t=i},114720:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupInner_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"topInterest",storageKey:null},{args:null,kind:"FragmentSpread",name:"useCommerceData_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageViewAndTimeSpent_pin"},{args:null,kind:"FragmentSpread",name:"CloseupPageContainer_pin"},{args:null,kind:"FragmentSpread",name:"useClientTrackingParams_pin"},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="d368fdd28fc76addb322276c564dfe2d";let i=a},74103:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainIframe_pin",selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null}],storageKey:null},{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"736x")'}],type:"Pin",abstractKey:null};a.hash="4c04fc9afb579bae0b83adb0bc6d3959";let i=a},674901:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"},{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupMainPinDetail_pin",selections:[{args:null,kind:"FragmentSpread",name:"ProductCarousel_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainIframe_pin"},{args:[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"CloseupDetails_pin"},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"LeafSnippet_pin"}]}],type:"Pin",abstractKey:null};a.hash="6eb3aa6fbf1cc1f0828a3a00fad8d439";let i=a},265906:function(e,n,l){var a,i,t;l.r(n),l.d(n,{default:()=>s});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImage_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectionType",storageKey:null}],storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:null,args:null,concreteType:"Shuffle",kind:"LinkedField",name:"shuffle",plural:!1,selections:[a,i],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"UnauthCloseupCarousel_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"},{args:null,kind:"FragmentSpread",name:"UnauthPinRightClickMenu_pin"}],type:"Pin",abstractKey:null};r.hash="4d851656dcda7ef595b8aeeb9700c6fe";let s=r},51807:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPinImpression_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[a],storageKey:null}],type:"Pin",abstractKey:null};i.hash="ef89ffee0f6092e6cf575f4fe7263737";let t=i},273545:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isDesktop"}],kind:"Fragment",metadata:null,name:"CloseupMainPinStoryPin_pin",selections:[{args:null,kind:"FragmentSpread",name:"CloseupStoryPinBlock_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseup_pin"},{condition:"isDesktop",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnMobile_pin"}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"StoryPinCloseupBodyOnDesktop_pin"},{args:null,kind:"FragmentSpread",name:"StoryPinCloseupDetailsOnDesktop_pin"}]},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImpression_pin"},{args:null,kind:"FragmentSpread",name:"SeoDebugModulePin_pin"}],type:"Pin",abstractKey:null};a.hash="7f55d29866a7f8059aae87f5e59a6f91";let i=a},960811:function(e,n,l){var a,i;l.r(n),l.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupMainPin_pin",selections:[{alias:"images_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:i=[a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:"additionalImageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:i,storageKey:'additionalImagesPerSpec(spec:"736x")'}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImage_pin"},{args:null,kind:"FragmentSpread",name:"CloseupVideo_pin"},{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"},{args:null,kind:"FragmentSpread",name:"SeoDebugModulePin_pin"},{args:null,kind:"FragmentSpread",name:"CloseupMainPinImpression_pin"}],type:"Pin",abstractKey:null};t.hash="88b715b02de24c58b96d42c04c179d19";let r=t},576683:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenuController_pin"}],type:"Pin",abstractKey:null};a.hash="fe3ae48c7e040b2bea5919c1aeefabdf";let i=a},766859:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPageViewAndTimeSpent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null}],type:"Pin",abstractKey:null};a.hash="5b01543e9ace6cf2b437348f6b1a3a64";let i=a},44241:function(e,n,l){var a,i;l.r(n),l.d(n,{default:()=>r});let t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPage_pin",selections:[{alias:null,args:null,concreteType:"AdData",kind:"LinkedField",name:"adData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"excludeFromGridRepTests",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"videoUrls",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"Closeup_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescription_pin"}],type:"Pin",abstractKey:null};t.hash="f3f6dd167beded0367a219ab2fd27ce1";let r=t},759005:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"CloseupPinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"}],type:"Pin",abstractKey:null};a.hash="166b47ef3a89646cd4bfe6a7fa437256";let i=a},198941:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CloseupPinLinkCredits_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:a=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:a,storageKey:null}],type:"Pin",abstractKey:null};i.hash="b6ff0bacc7b201a7809b5103754b885e";let t=i},481256:function(e,n,l){var a,i,t;l.r(n),l.d(n,{default:()=>s});let r=(a={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},t=[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],{argumentDefinitions:[{kind:"RootArgument",name:"isCloseupRelatedModulesFeedQuery"}],kind:"Fragment",metadata:null,name:"CloseupPreview_pin",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[i,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:t,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:t,storageKey:null}],storageKey:null}]},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null});r.hash="b6897cfdabbc156688a485e1ccdf8c7e";let s=r},213993:function(e,n,l){var a,i,t,r,s,o,d,u,c,p,g,m,h,_,y,f,k,x,S,b,P,v,w,T,I,C,E,F,j,L,A,R,K,D,Z,B,O,N,M,U,z,V,H,G,W,Y,$,q,X,Q,J,ee,en,el,ea,ei,et,er,es,eo,ed,eu,ec,ep,eg,em,eh,e_,ey,ef,ek,ex,eS,eb;l.r(n),l.d(n,{default:()=>ev});let eP=(a={defaultValue:null,kind:"LocalArgument",name:"isAuth"},i={defaultValue:!1,kind:"LocalArgument",name:"isCloseupRelatedModulesFeedQuery"},t={defaultValue:null,kind:"LocalArgument",name:"isDesktop"},r={defaultValue:null,kind:"LocalArgument",name:"pinId"},s=[{kind:"Variable",name:"pin",variableName:"pinId"}],o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},f=[d={alias:null,args:null,kind:"ScalarField",name:"blockType",storageKey:null},m={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"xCoord",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"yCoord",storageKey:null}],storageKey:null},h,{alias:null,args:null,concreteType:"TextStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},{alias:null,args:null,concreteType:"Font",kind:"LinkedField",name:"font",plural:!1,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"defaultSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"letterSpacing",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lineHeight",storageKey:null},y],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fontSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hexColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"highlightColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verticalAlignment",storageKey:null}],storageKey:null}],S={alias:"images_750x",args:k=[{kind:"Literal",name:"spec",value:"750x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x=[u,y,c],storageKey:'images(spec:"750x")'},P={alias:"images_orig",args:b=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"orig")'},v=[{kind:"Literal",name:"version",value:"V_HLSV3_MOBILE"}],C=[w={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},u,T={alias:null,args:null,kind:"ScalarField",name:"thumbnail",storageKey:null},y,c,I={alias:null,args:null,kind:"ScalarField",name:"captionsUrls",storageKey:null}],E=[T,y,c,u,w,I],F={alias:null,args:null,concreteType:"BlockStyle",kind:"LinkedField",name:"blockStyle",plural:!1,selections:[u,c,p,g,{alias:null,args:null,kind:"ScalarField",name:"rotation",storageKey:null}],storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"endTime",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"isRemoved",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"startTime",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},M={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},H={alias:"images_236x",args:z=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V=[y],storageKey:'images(spec:"236x")'},W={kind:"InlineFragment",selections:G=[h,d],type:"TextBlock",abstractKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null},$=[o,Z],X={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},Q=[{kind:"Literal",name:"spec",value:"1200x"}],J={alias:null,args:null,kind:"ScalarField",name:"shouldMute",storageKey:null},ee={alias:null,args:null,concreteType:"MusicAttribute",kind:"LinkedField",name:"musicAttributions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isrc",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnailImageUrl",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},en={alias:null,args:null,kind:"ScalarField",name:"heading",storageKey:null},ea={kind:"InlineFragment",selections:el=[h],type:"LinkBlock",abstractKey:null},ei={kind:"InlineFragment",selections:el,type:"StoryPinImageBlock",abstractKey:null},et={kind:"InlineFragment",selections:el,type:"StoryPinVideoBlock",abstractKey:null},er={alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"imageLargeUrl",storageKey:null},eu={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},ec={alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},ep={alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},eg=[B,Z],em={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},eh={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},e_={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},ey={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},ef={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},ek={alias:null,args:null,kind:"ScalarField",name:"objectId",storageKey:null},ex={alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null},eS={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},eb=[o],{fragment:{argumentDefinitions:[a,i,t,r],kind:"Fragment",metadata:null,name:"CloseupStoryPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{args:[{kind:"Variable",name:"isDesktop",variableName:"isDesktop"}],kind:"FragmentSpread",name:"CloseupMainPinStoryPin_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,a,t,i],kind:"Operation",name:"CloseupStoryPinQuery",selections:[{alias:null,args:s,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[o,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:"pageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"storyPageId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:f,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:f,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,S,h,P],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,m,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"v_hlsv4_video_list",args:[{kind:"Literal",name:"version",value:"V_HLSV4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV4",plural:!1,selections:C,storageKey:null}],storageKey:'videoList(version:"V_HLSV4")'},{alias:null,args:null,kind:"ScalarField",name:"seoViewCount",storageKey:null},{alias:"videoListMobile",args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'},{alias:"videoListEXP3",args:[{kind:"Literal",name:"version",value:"V_EXP3"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP3",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP3")'},{alias:"videoListEXP4",args:[{kind:"Literal",name:"version",value:"V_EXP4"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP4",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP4")'},{alias:"videoListEXP5",args:[{kind:"Literal",name:"version",value:"V_EXP5"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP5",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP5")'},{alias:"videoListEXP6",args:[{kind:"Literal",name:"version",value:"V_EXP6"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP6",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP6")'},{alias:"videoListEXP7",args:[{kind:"Literal",name:"version",value:"V_EXP7"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vEXP7",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_EXP7")'},{alias:"videoList720P",args:[{kind:"Literal",name:"version",value:"V_720P"}],concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:E,storageKey:null}],storageKey:'videoList(version:"V_720P")'}],storageKey:null},h],type:"StoryPinVideoBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,F,j,L,A,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[R,K,D,Z],storageKey:null}],type:"StoryPinMentionStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"interactiveStickerType",storageKey:null},F,j,{alias:null,args:null,kind:"ScalarField",name:"errorMessage",storageKey:null},L,{alias:null,args:null,kind:"ScalarField",name:"isValid",storageKey:null},A,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"stickerData",plural:!1,selections:[o,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null}],type:"GenericInteractiveStickerStoryBoardData",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"questionCommentId",storageKey:null}],type:"GenericInteractiveStickerStoryQuestionData",abstractKey:null}],storageKey:null}],type:"StoryPinGenericInteractiveStickerBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,F,j,L,A,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"pin",plural:!1,selections:[B,O,N,M,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[U,R,K,Z],storageKey:null},H,Z],storageKey:null}],type:"StoryPinVirtualTryOnMakeupStickerBlock",abstractKey:null},W,{kind:"InlineFragment",selections:[h,d,{alias:null,args:null,kind:"ScalarField",name:"srcUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"canonicalUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"normalizedUrl",storageKey:null}],type:"LinkBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,_,Y,{alias:null,args:null,kind:"ScalarField",name:"unit",storageKey:null}],type:"IngredientBlock",abstractKey:null},{kind:"InlineFragment",selections:[d,_,Y],type:"SupplyBlock",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"ad",plural:!1,selections:$,storageKey:null},{alias:"musicBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"Audio",kind:"LinkedField",name:"audio",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"artistName",storageKey:null},q,Z],storageKey:null}],type:"StoryPinMusicBlock",abstractKey:null}],storageKey:null},{alias:"videoBlocks",args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[d,{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:[{alias:null,args:v,concreteType:"StoryPinVideoFormatsV2",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[w,I],storageKey:null}],storageKey:'videoList(version:"V_HLSV3_MOBILE")'}],storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null},X,{alias:null,args:null,kind:"ScalarField",name:"dominantColorAdjusted",storageKey:null},S,{alias:"images_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:x,storageKey:'images(spec:"1200x")'},P,{alias:"imageAdjustedSpec_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"750x")'},{alias:"imageAdjustedSpec_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"236x")'},{alias:"imageAdjustedSpec_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"1200x")'},{alias:"imageAdjustedSpec_orig",args:b,concreteType:"Thumbnails",kind:"LinkedField",name:"imagesAdjusted",plural:!1,selections:x,storageKey:'imagesAdjusted(spec:"orig")'},J,{alias:null,args:null,kind:"ScalarField",name:"imageSignatureAdjusted",storageKey:null},{alias:null,args:null,concreteType:"PageStyle",kind:"LinkedField",name:"style",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinVideoMetadata",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinVideoFormats",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"vHLSV3MOBILE",plural:!1,selections:[c,u,T,y],storageKey:null}],storageKey:null}],storageKey:null},ee],storageKey:null},Z,{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"canvasAspectRatio",storageKey:null},{alias:null,args:null,concreteType:"StoryPinRecipeMetadataField",kind:"LinkedField",name:"recipeData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cookingTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"prepTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"servingSize",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templateType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"version",storageKey:null},{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[o,{alias:null,args:null,concreteType:"StoryPinKeyValueBlock",kind:"LinkedField",name:"keyValueBlocks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"categoryType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:[en,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:[en,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[o,{kind:"InlineFragment",selections:el,type:"TextBlock",abstractKey:null},{kind:"InlineFragment",selections:el,type:"ParagraphBlock",abstractKey:null},{kind:"InlineFragment",selections:el,type:"HeadingBlock",abstractKey:null},ea,ei,et],storageKey:null}],type:"StoryPinListBlock",abstractKey:null},W,{kind:"InlineFragment",selections:G,type:"HeadingBlock",abstractKey:null},{kind:"InlineFragment",selections:G,type:"ParagraphBlock",abstractKey:null},ea,ei,et,{kind:"InlineFragment",selections:[d],type:"IngredientBlock",abstractKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoAltText",storageKey:null},B,{alias:"images_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"736x")'},O,N,M,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[U,R,K,Z,er,es,B,eo,ed,eu,D,ec,ep],storageKey:null},H,{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},X,q,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:[B,R,K,Z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[er,es,B,eo,R,ed,eu,D,ec,K,ep,Z],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},em,eh,{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},e_,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[eu,Z,K],storageKey:null},Z],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:$,storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:"images_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"60x60")'},{alias:"images_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"136x136")'},{alias:"images_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"170x")'},{alias:"images_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"474x")'},{alias:"images_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"564x")'},{alias:"images_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"600x315")'},{alias:"images_orig",args:b,concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:V,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[ey,ef,em,ek,ex],storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"userMentionTags",plural:!0,selections:[ey,ef,ek,ex],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[B,eu,{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},K,ec,er,Z,eS,R,ep],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:[K,eu,Z],storageKey:null},ee,J,{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafeForComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seeMoreUserFeedback",storageKey:null},ed,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"canonicalPin",plural:!1,selections:eg,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalDomain",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoCanonicalUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},Z,{condition:"isCloseupRelatedModulesFeedQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"linkUtmApplicableAndReplaced",storageKey:null}]},{condition:"isDesktop",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinBasics",kind:"LinkedField",name:"basics",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinListBlock",kind:"LinkedField",name:"listBlocks",plural:!0,selections:eb,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinPage",kind:"LinkedField",name:"pages",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blocks",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:"images_750x",args:k,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"750x")'},{alias:"images_236x",args:z,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"236x")'},{alias:"images_1200x",args:Q,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"1200x")'},{alias:"images_orig",args:b,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:eb,storageKey:'images(spec:"orig")'}],type:"StoryPinImageBlock",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StoryPinVideoMetadataFormattedV2",kind:"LinkedField",name:"videoDataV2",plural:!1,selections:eb,storageKey:null}],type:"StoryPinVideoBlock",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[eS],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[o,_],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:eb,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"diets",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,concreteType:"ServingsSummary",kind:"LinkedField",name:"servingsSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"serves",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"summary",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},_,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[e_,{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[Y,_],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"commentCount",storageKey:null},{alias:null,args:null,concreteType:"AggregatedDidItData",kind:"LinkedField",name:"didItData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"imagesCount",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:eb,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:[B],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUserNote",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageTitle",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"method",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[B,K,Z],storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:eb,storageKey:null}],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}]},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},eh],storageKey:null}]}]}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"edaf77f9313edbaa93a08427d5980ca7749c22ae27b98de6ebd2a8cb2ea6419f",metadata:{},name:"CloseupStoryPinQuery",operationKind:"query",text:null}});eP.hash="45826fa01d0796145bfe5f51c4675bcd";let ev=eP},528642:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"CloseupTitle_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"PinTranslations",kind:"LinkedField",name:"translations",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null}],storageKey:null}]},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoNoindexReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unauthOnPageTitle",storageKey:null}],type:"Pin",abstractKey:null};i.hash="5a2bf83c3b936ae5d462a5ccf3103923";let t=i},438854:function(e,n,l){var a,i,t,r,s,o,d;l.r(n),l.d(n,{default:()=>c});let u=(i=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[{kind:"RootArgument",name:"isAuth"}],kind:"Fragment",metadata:null,name:"Closeup_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"collaboratedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collaboratorPermissions",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:i,storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commentsDisabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"subtype",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isInstagramApi",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isV1IdeaPin",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{condition:"isAuth",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t],storageKey:null}]}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[r,d={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[s={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:[d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"websiteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDirectToSiteAllowed",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[a,t],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"domainUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domainVerified",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[s,{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:o,storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:o,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BoardSection",kind:"LinkedField",name:"section",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thirdPartyPinOwner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"utmLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:i,storageKey:null},{args:null,kind:"FragmentSpread",name:"CloseupMainPin_pin"},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"CloseupInner_pin"},{args:null,kind:"FragmentSpread",name:"useGetFeedbackType_pin"},{args:null,kind:"FragmentSpread",name:"ImageViewer_pin"},{kind:"ClientExtension",selections:[{alias:"nodeId",args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});u.hash="642752101742c5b61cb0382bc2a6ce29";let c=u},846901:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CollapsibleDescription_pin",selections:[{args:null,kind:"FragmentSpread",name:"DescriptionBrokenByLineBreaks_pin"}],type:"Pin",abstractKey:null};a.hash="f4db80aa25522dc31fd92c6888dee781";let i=a},649441:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightButton_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="daed7871ea3349b195a482d98f047526";let i=a},733743:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileStickyFooter_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"digitalMediaSourceType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isViewedByOwnerOrEmployeeOrPartnerOfBusiness",storageKey:null},{args:null,kind:"FragmentSpread",name:"AnimatedVisualSearchButton_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightButton_pin"}],type:"Pin",abstractKey:null};a.hash="a2ad4e53c7de61af48ceeaf2f7ee4647";let i=a},378671:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttributionText_pin",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="302280af43fdbc94ba2060410a37e076";let i=a},61730:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"OfficialUserAttribution_pin",selections:[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupUnifiedAttribution",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isAdsOnlyProfile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adsOnlyProfileSite",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null};i.hash="90a35c5ea8a0b7c83b6783a5e41eaa0d";let t=i},226907:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"PinActionBarInner_pin",selections:[{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:null,kind:"FragmentSpread",name:"AnimatedSendButton_pin"},{args:null,kind:"FragmentSpread",name:"PinActionBarVisitButton_pin"},{args:null,kind:"FragmentSpread",name:"useDownloadImageUnauth_pin"},{args:null,kind:"FragmentSpread",name:"SaveButtonContainer_pin"},{args:null,kind:"FragmentSpread",name:"ReactionPickerContainer_pin"}],type:"Pin",abstractKey:null};a.hash="dfa05cad86929bdf1df5b5e805a955bf";let i=a},195828:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinActionBarVisitButton_pin",selections:[{args:null,kind:"FragmentSpread",name:"useClickthrough_pin"}],type:"Pin",abstractKey:null};a.hash="2ed8f79733cbeedba9e8a7ed03435228";let i=a},459021:function(e,n,l){var a;l.r(n),l.d(n,{default:()=>t});let i={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"isUnauth"}],kind:"Fragment",metadata:null,name:"PinActionBar_pin",selections:[{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForAggregatedComments",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isGoLinkless",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:a,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalReactionCount",storageKey:null},{args:[{kind:"Variable",name:"shouldShowSeoDrawerOption",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinContextMenuButton_pin"},{args:[{kind:"Variable",name:"isUnauth",variableName:"isUnauth"}],kind:"FragmentSpread",name:"PinActionBarInner_pin"}],type:"Pin",abstractKey:null};i.hash="87be8ad2ed64d6975dd6b55ee85e1982";let t=i},445238:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isHidden",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"}],type:"Pin",abstractKey:null};a.hash="c680e00cd7b9416b1b23b78e3d6e22db";let i=a},765193:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDescriptionDropdown_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null}],type:"Pin",abstractKey:null};a.hash="e4ec29e546b4d84af24bae98169500db";let i=a},372102:function(e,n,l){var a,i,t,r,s;l.r(n),l.d(n,{default:()=>d});let o=(i={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingBaseUnits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"unitPricingUnitType",storageKey:null}],storageKey:null},s=[a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ProductDetails_pin",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingCount",storageKey:null}],storageKey:null},i,{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,r,{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[t,r],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasAffiliateProducts",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"affiliateDisclosure",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"affiliateLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:s,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:s,storageKey:null},{args:null,kind:"FragmentSpread",name:"useStructuredDescription_pin"},{args:null,kind:"FragmentSpread",name:"CloseupDescriptionText_pin"},{args:null,kind:"FragmentSpread",name:"CloseupTitle_pin"},{args:null,kind:"FragmentSpread",name:"OfficialUserAttributionText_pin"}],type:"Pin",abstractKey:null});o.hash="2a90bea5b9c3258c85eb6cca2267485a";let d=o},452519:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonContainer_pin",selections:[{alias:"images_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'},{args:null,kind:"FragmentSpread",name:"SaveButtonPinCard_pin"}],type:"Pin",abstractKey:null};a.hash="4d623c22364b81b06b09589bd0dea905";let i=a},205898:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SaveButtonPinCard_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};a.hash="8f09ec57feffa3a1b4f26c669b223c0e";let i=a},47978:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthAmazonModule_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null}],type:"Pin",abstractKey:null};a.hash="24328a0181bac8efd06f2d3a98514e10";let i=a},210894:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthCloseupCarousel_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"MobileStickyFooter_pin"}],type:"Pin",abstractKey:null};a.hash="cc55e39c42ca4b105ea13e5ab293a9c7";let i=a},966131:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthContextMenuController_pin",selections:[{args:null,kind:"FragmentSpread",name:"UnauthContextMenu_pin"}],type:"Pin",abstractKey:null};a.hash="dd5623c0c7ff2bcd752285dfed3e4aa7";let i=a},273204:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthIndexExchangeContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="8357577fd82491ef1bc82e88024f7e01";let i=a},143649:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"FollowButton_pin"}],type:"Pin",abstractKey:null};a.hash="d07d7e31fad8648e8967b45d3883c0b7";let i=a},769335:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VaseFullBleedModal_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="2e464db34007ea4c1c0752bf62bbb542";let i=a},383069:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_pin",selections:[{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="0d094b9035d386e39d655dc504f34018";let i=a},928458:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useDuploGetStelaUrlWithLargestStelaObject_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"requestParams",storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};a.hash="f351b4770fdbd86402ef323f959c3227";let i=a},718106:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useReactionCountsFragment_pin",selections:[{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="11d828252f89045bc37e6aa5eb3fbea6";let i=a},504333:function(e,n,l){l.r(n),l.d(n,{default:()=>i});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useSeoDrawerExperimentUtil_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetCredits_pin"}],type:"Pin",abstractKey:null};a.hash="b0c6b5112691f13c9217bf0ac7b77e04";let i=a},885884:function(e,n,l){l.d(n,{Z:()=>i});var a=l(661376);function i({shuffleId:e,shouldRenderShuffle:n}){let{data:l}=(0,a.Z)(e&&n?{name:"ApiResource",options:{url:`/v3/shuffles/${e}/`,data:{fields:["shuffle.{id,items,effect_data}","shuffleitem.{id,shuffle_item_image(),settings,item_type,is_background,text,template_config,bitmap_mask,mask,shuffle_asset,images[236x,750x,750x(heic)]}","shuffleasset.{id,cutout_images[originals],source_images[236x]}"]}}}:null);return l}},680405:function(e,n,l){l.d(n,{E:()=>a,N:()=>i});let{Provider:a,get:i}=(0,l(213491).Z)("legacyServerContext")},895813:function(e,n,l){l.d(n,{Z:()=>t,q:()=>i});var a=l(487740);let i=(e=0,n="")=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+a.I}px;
  }

  85% {
    width: ${e+a.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes shopButtonSlideOut {
  0% {
    width: ${e+a.I}px;
  }
  100% {
    width: 0px;
  }
}

@keyframes stelaSlideOut {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

@keyframes buttonSlideIn${n} {
  0% {
    width: 0px;
  }
  15% {
    width: ${e+a.I}px;
  }
  100% {
    width: ${e+a.I}px;
  }
}

@keyframes stelaSlideIn {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}
`,t=(e=0)=>`@keyframes shopButtonSlideInThenOut {
  0% {
    width: 0px;
  }

  15% {
    width: ${e+a.I}px;
  }

  85% {
    width: ${e+a.I}px;
  }

  100% {
    width: 0px;
  }
}

@keyframes revealShopText {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

@keyframes stelaSlideInThenOut {
  0% {
    opacity: 0;
  }

  15% {
    opacity: 0;
  }

  25% {
    opacity: 1;
  }

  50% {
    opacity: 1;
  }

  75% {
    opacity: 1;
  }

  85% {
    opacity: 0;
  }

  100% {
    opacity: 0;
  }
}


@keyframes stelaGrowInAndOut {
0% {
  transform: scale(0);
  opacity: 0;
}

10% {
  transform: scale(1);
  opacity: 1;
}

90% {
  transform: scale(1);
  opacity: 1;
}

100% {
  transform: scale(0);
  opacity: 0;
}
}

`},487740:function(e,n,l){l.d(n,{I:()=>a,b:()=>i});let a=24,i=36},116980:function(e,n,l){l.d(n,{Pw:()=>a,SB:()=>i,ZP:()=>r,x9:()=>t});let a=80,i=55,t=e=>"phone"===e?i:a;function r(e,n){return n?0:t(e)}},880201:function(e,n,l){l.d(n,{Z:()=>g});var a=l(686659),i=l(667294),t=l(391995),r=l(759271),s=l(104999),o=l(648999),d=l(24246),u=l(785893);let c=(0,i.lazy)(()=>l.e("92871").then(l.bind(l,541583))),p={sm:12,md:16,lg:20,xl:24};function g({isVerifiedMerchant:e,size:n,showText:l,showVerifiedIdentity:g,inspirationalBadges:m,inspirationalBadgesColor:h}){(0,i.useEffect)(()=>{(0,a.Z)("VerifiedBadge","/app/packages/VerifiedBadge.tsx")},[]);let _=(0,d.Z)(),[y,f]=(0,i.useState)(!1),{dangerousInlineStyle:k,iconColor:x}=(0,o.Z)(!!e),S=(0,s.Z)(),{mWebCloseupRedesignEnabled:b}=(0,r.Z)(),P=b&&e?"info":x,v=b?{__style:{color:P}}:k;return(0,u.jsxs)(i.Fragment,{children:[(0,u.jsx)(t.iP,{onTap:()=>{S({component:13534,element:11717,event_type:102}),f(!0)},rounding:"circle",children:(0,u.jsxs)(t.xu,{alignItems:"center",dangerouslySetInlineStyle:v,"data-test-id":"verified-badge-icon","data-unadopted-gestalt":"Badge",display:"flex",children:[(0,u.jsx)(t.JO,{accessibilityLabel:e?_._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'):_._('Badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:P,icon:b?"circle-check-fill":"workflow-status-ok",inline:!0,size:p[n]}),l&&!g&&(0,u.jsx)(t.xu,{marginStart:2,children:(0,u.jsx)(t.xe,{color:"default",inline:!0,weight:"bold",children:(0,u.jsx)(t.xu,{dangerouslySetInlineStyle:v,children:_._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})})]})}),(e||l&&!g)&&y&&(0,u.jsx)(i.Suspense,{children:(0,u.jsx)(c,{inspirationalBadges:m,inspirationalBadgesColor:h,setShowModal:f,showModal:y})})]})}},198617:function(e,n,l){l.d(n,{Kf:()=>t,N:()=>c,QN:()=>s,hU:()=>o,kb:()=>u,xi:()=>d,xp:()=>r});var a=l(391995),i=l(646028);let t=new a.H3([i.Z]),r={attributionLabel:"unauth_hybrid_banner",source:"login",container:"bottom.right.upsell.email",reason:"CLICK_LOGIN_OR_SIGNUP"},s=350,o=286,d=5e3,u=new a.Ry(10001),c=320},824870:function(e,n,l){l.d(n,{Z:()=>k});var a=l(667294),i=l(312048),t=l(4533),r=l(15881),s=l(818244),o=l(173874),d=l(456871),u=l(501010),c=l(34550),p=l(418282),g=l(473687),m=l(413211),h=l(341687),_=l(739405),y=l(20717);let f=new Map([["enabled_3_pages",3],["enabled_4_pages",4],["enabled_4_pages_rollout",4],["enabled_5_pages",5]]);function k({pageUniqueKey:e,containerPage:n}){let l=(0,s.g)(),k=(0,_.HG)(),x=(0,i.TH)(),{checkExperiment:S}=(0,u.Z)(),{isPaid:b,isSocial:P,isDirect:v,isSEO:w}=(0,d.Z)(),T=(0,y.cO)(),I=T?.data?.inviter,C=(0,p.Nl)(),E=(0,c.M0)(),F=k&&f.get(S("upsell_diversity_navigational_pages").group),j=JSON.parse(C.getItem(r.uL)??"[]"),L=k&&S("dweb_navigational_on_land").anyEnabled,A=k&&"enabled_paid"===S("dweb_navigational_on_land").group,R=k&&"enabled_social"===S("dweb_navigational_on_land").group,K=k&&"enabled_seo_direct"===S("dweb_navigational_on_land").group,D=k&&(S("migration_upsell_manager_redux").anyEnabled||S("migration_upsell_manager_redux_dweb").anyEnabled||S("migration_upsell_manager_redux_dweb_global").anyEnabled),Z=(0,g.Z)(),B=k&&l&&!C.getItem(r.J7)&&j.length+1>=0&&!j.includes(e)&&P&&(0,o.isPinFeedbackPage)(x),O=k&&"31"===(0,h.Z)(x?.search).utm_source&&(0,o.isBoardPage)(x)&&S("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,a.useEffect)(()=>{if(D)Z((0,m.v2)(e,n));else if((F||L||O)&&l&&!C.getItem(r.J7)){let a=A&&b||R&&P||K&&(v||w)||O;(F&&j.length+1>=F||a&&j.length+1>=0)&&!j.includes(e)?(l.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!O}),C.setItem(r.J7,"true"),C.removeItem(r.uL),E.setItem(t.cu,0)):B||C.setItem(r.uL,JSON.stringify([...new Set([...j,e])]))}},[e,n,F,l,C,E,Z,D,L,v,w,b,P,A,R,K,j,O,B,S]),(0,a.useEffect)(()=>{if(!B||!I)return;D&&Z((0,m.GY)(I,n));let e=[];if(S("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled)if(D)Z((0,m.ht)(n));else{let{showDesktopSignupModal:e}=l;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),C.setItem(r.J7,"true")}else if(S("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let a=setTimeout(()=>{if(D)Z((0,m.ht)(n));else{let{showDesktopSignupModal:e}=l;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),C.setItem(r.J7,"true")}},3e3);e.push(a)}else if(S("ce_dweb_unauth_splp_blocking").anyEnabled){let a=setTimeout(()=>{if(D)Z((0,m.ht)(n));else{let{showDesktopSignupModal:e}=l;e({signupFlow:{type:"signup"},attributionLabel:`delay_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),C.setItem(r.J7,"true")}},6e3);e.push(a)}return()=>{e.forEach(e=>clearTimeout(e))}},[I,B,D,Z,n]),(0,a.useEffect)(()=>{if(!B||!I)return;let e=!1,a=()=>{e||(requestAnimationFrame(()=>{let{scrollY:a}=window;if(a>1){if(D)Z((0,m.XE)(n));else if(S("ce_dweb_unauth_splp_blocking").anyEnabled||S("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled||S("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let{showDesktopSignupModal:e}=l;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${n}`,container:n,reason:"UPSELL_LOGIN_OR_SIGNUP"}),C.setItem(r.J7,"true")}}e=!1}),e=!0)};return window.addEventListener("scroll",a,{passive:!0}),()=>{window.removeEventListener("scroll",a)}},[I,B,D,Z,n])}},648999:function(e,n,l){l.d(n,{Z:()=>a});let a=e=>{let n=e?"default":"error";return{iconColor:n,dangerousInlineStyle:{__style:{color:n}}}}},583845:function(e,n,l){l.d(n,{Rq:()=>a,Vf:()=>i,jd:()=>t,oy:()=>r});let a=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,i=28,t=e=>window.innerHeight>=748&&a(e),r=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},446885:function(e,n,l){l.d(n,{Z:()=>g});var a=l(686659),i=l(667294),t=l(391995),r=l(759271),s=l(351736),o=l(609252),d=l(178315),u=l(774838),c=l(40763),p=l(785893);function g({children:e,footerConfig:n,headerConfig:l,height:g,hideOnScroll:m,hideOnScrollState:{isHidden:h,updateHiddenState:_},isFooterHidden:y,noPadding:f,paddingX:k,paddingY:x=d.og,type:S,zIndex:b,isStoryPin:P}){let v,w;(0,i.useEffect)(()=>{(0,a.Z)("FixedContent","/app/packages/layout/FixedContent.tsx")},[]);let{headerLimitedOverflow:T,ignoreObstructions:I,zIndexForGestaltBug:C}=l||{},{appUpsellFooterConfig:E,footerInLego:F,navFooterConfig:j}=n||{},L=!!E,A="header"===S?"top":"bottom",R=(0,s.vs)(),{isRTL:K}=(0,u.B)(),{mWebCloseupRedesignEnabled:D}=(0,r.Z)(),Z=(0,i.useRef)(null),B=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!I){let e=Z.current;B.current=T&&e&&Array.isArray(e.children)?e.children[0]:e,B.current instanceof HTMLElement&&o.Z.addObstruction(A,B.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!I&&B.current instanceof HTMLElement&&o.Z.removeObstruction(A,B.current)}},[I,T,A,R]);let O="top"===A?"relative":"fixed",N=f?0:x,M=(g??d.R$)+(l?.overrideTop||0),U=m||j?{transition:F||D?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...h||y?{transform:`translateY(${"top"===A?-M:M}px)`,opacity:F||D?0:1}:Object.freeze({})}:{},z=2*!("relative"!==O||l?.noGutter),V=z?-z:0,H=R?s.k7:"rgba(255,255,255,.95)";R&&("header"===S?v=-1:w=-1);let G=F?L?void 0:g??d.R$:"100%",W=F?d.KJ:void 0,Y=l?.isTranslucent&&H||R?H:"var(--sema-color-background-default)",$=l?.isTransparentBackground&&1?"var(--sema-color-background-transparent)":Y,q=(0,i.useMemo)(()=>({height:"footer"===S&&D?`calc(${G} + env(safe-area-inset-bottom))`:G,...D&&"footer"===S?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(N||0)}px)`}:Object.freeze({})}),[D,G,S,N]),X=(0,c.Z)({skipExpActivation:!0});return(0,p.jsx)(t.xu,{ref:Z,bottom:"footer"===S,dangerouslySetInlineStyle:{__style:{top:v,bottomStyle:w,...!b||C?{zIndex:C||1}:Object.freeze({}),...T?{background:"transparent",overflow:"hidden",paddingBottom:d.UB,marginBottom:-d.UB,pointerEvents:"none"}:Object.freeze({}),...l?.hasBorder?{borderBottom:d.dS}:Object.freeze({}),...n?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...U}},"data-test-id":S,display:L?"flex":void 0,height:g&&!F?g:void 0,left:!0,marginEnd:F?"auto":V,marginStart:F?"auto":V,onTransitionEnd:()=>{(m||j)&&B.current&&(h||y?o.Z.removeObstruction(A,B.current):o.Z.addObstruction(A,B.current))},position:O,right:!0,top:"header"===S,width:F||"fixed"!==O?void 0:"100%",zIndex:C?void 0:b,children:(0,p.jsx)(t.xu,{alignItems:n?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:$,paddingLeft:K||!X||P?void 0:"8px",paddingRight:K&&X&&!P?"8px":void 0,...q,boxShadow:D&&"footer"===S?`0 10px 0 0 ${$}, ${d.KJ}`:W,marginBottom:F&&!j?.docked?16:void 0,...T?{pointerEvents:"auto"}:Object.freeze({}),...l?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:F||n?.alignCenter?"flex":void 0,marginEnd:F?"auto":void 0,marginStart:F?"auto":void 0,paddingX:k||4*("footer"===S&&!f)+z,paddingY:N,position:"relative",rounding:F&&!j?.docked?"pill":void 0,width:j?j.footerWidth:L?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:_}):e})})}},528630:function(e,n,l){l.d(n,{Z:()=>o});var a=l(686659),i=l(667294),t=l(446885),r=l(763904),s=l(785893);function o({alignCenter:e,appUpsellFooterConfig:n,footerInLego:l,hasTopShadow:o,navFooterConfig:d,...u}){return(0,i.useEffect)(()=>{(0,a.Z)("FixedFooter","/app/packages/layout/FixedFooter.tsx")},[]),(0,s.jsx)(r.Z,{appUpsellFooterConfig:n,hideOnScroll:u.hideOnScroll,navFooterConfig:d?.scrollConfig,children:a=>(0,s.jsx)(t.Z,{...u,footerConfig:{alignCenter:e,appUpsellFooterConfig:n,footerInLego:l,hasTopShadow:o,navFooterConfig:d},hideOnScrollState:a,type:"footer"})})}},271202:function(e,n,l){l.r(n),l.d(n,{default:()=>u});var a=l(686659),i=l(667294),t=l(391995),r=l(178315),s=l(446885),o=l(763904),d=l(785893);function u({hasBorder:e,headerLimitedOverflow:n,ignoreObstructions:l,isTranslucent:u,isTransparentBackground:c,noGutter:p,overrideTop:g,useRoundedCorners:m,zIndexForGestaltBug:h,isStoryPin:_,...y}){(0,i.useEffect)(()=>{(0,a.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx")},[]);let{noPadding:f,paddingY:k=r.og,zIndex:x}=y;return(0,d.jsx)(t.Le,{height:n?r.LV+2*(f?0:k)*4:void 0,top:g||0,zIndex:x||void 0,children:(0,d.jsx)(o.Z,{hideOnScroll:y.hideOnScroll,children:a=>(0,d.jsx)(s.Z,{...y,headerConfig:{isTranslucent:u,isTransparentBackground:c,headerLimitedOverflow:n,hasBorder:e,ignoreObstructions:l,noGutter:p,overrideTop:g,zIndexForGestaltBug:h,useRoundedCorners:m},hideOnScrollState:a,isStoryPin:_,type:"header"})})})}},763904:function(e,n,l){l.d(n,{Z:()=>r});var a=l(667294),i=l(730448);function t(e,n,l){var a;return(n="symbol"==typeof(a=function(e,n){if("object"!=typeof e||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,n||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(n,"string"))?a:a+"")in e?Object.defineProperty(e,n,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[n]=l,e}class r extends a.Component{constructor(...e){super(...e),t(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),t(this,"lastScrollPos",0),t(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),t(this,"handleScroll",(0,i.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:n}=this.props,{isHidden:l}=this.state,a=window.scrollY,i=a-this.lastScrollPos,t="none",{scrollHeight:r,clientHeight:s}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(s)||(t=i<0?a<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":a>=(window.scrollMaxY||r-s)-Math.max(i,20)?"end":"none");let o=55*!n?.isModal;e?i>20&&l&&a>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20&&!l||a<=o)&&(this.updateHiddenState(!0),n?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===t&&!l||a<=o?(this.updateHiddenState(!0),n?.onScroll(!0)):(a>o||"end"===t)&&l&&(this.updateHiddenState(!1),n?.onScroll(!1)):(i<-20||"start"===t)&&l||a<=o?(this.updateHiddenState(!1),n?.onScroll(!1)):(i>20||"end"===t)&&!l&&(this.updateHiddenState(!0),n?.onScroll(!0)),this.lastScrollPos=a},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:n}=this.props,{isHidden:l}=this.state;return e({isHidden:!n?.forceShow&&l,updateHiddenState:this.updateHiddenState})}}},134136:function(e,n,l){l.r(n),l.d(n,{default:()=>c});var a=l(686659),i=l(667294),t=l(391995),r=l(806513),s=l(583845),o=l(873438),d=l(774838),u=l(785893);let c=({children:e,dataLayoutShiftBoundaryId:n,hasFixedHeader:l=!1,hasGutter:c=!0,height:p,showKeychainError:g=!1,useViewport:m=!1})=>{(0,i.useEffect)(()=>{(0,a.Z)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx")},[]);let h=(0,d.B)(),_=(0,s.jd)(h.userAgent.platform)?s.Vf:0;return(0,u.jsx)(t.xu,{"data-layout-shift-boundary-id":n||"PageContainer",height:m?`calc(100vh - ${_}px)`:p,paddingX:c?r.D6:void 0,paddingY:l||g?void 0:3,children:(0,u.jsx)(o.C,{value:!!c,children:e})})}},178315:function(e,n,l){l.d(n,{KJ:()=>s,LV:()=>r,R$:()=>a,UB:()=>t,dS:()=>o,og:()=>i});let a=64,i=3,t=100,r=44,s="0px 0px 8px rgba(0, 0, 0, 0.1)",o="1px solid #efefef"},415645:function(e,n,l){l.d(n,{Z:()=>i});var a=l(50894);function i({feedbackData:e,feedbackType:n,pinId:l,pinFeedbackType:i,recommendationReason:t,complaintReason:r,clientTrackingParams:s,isThirdPartyAd:o}){switch(n){case"search":return{action:"unrelatedSearchPin",actionOptions:{query:e?.query,pin_id:l}};case"related":return{action:"relatedPinHide",actionOptions:{pin:l}};case"newsHub":return{action:"newsHubPinHide",actionOptions:{pin_id:l,news_id:e?.newsId}};default:let d="promoted"===n,u=(0,a.Z)(t?.reason),c=t?.reasonId??t?.board?.entityId,p=d?"promotedComplaint":"complaint",g={complaint_reason:r||0,pin_id:l,feedback_type:i||1,promoted:d};return u&&(g.recommendation_reason_id=u),c&&(g.through_id=c),t?.throughProperties&&(g.through_properties=t.throughProperties.reduce((e,n)=>{let{key:l,data:a}=n;return l&&(e[l]=[...e[l]||[],...a||[]]),e},{})),s&&(g.client_tracking_params=s),o&&(g.is_third_party_ad=o),{action:p,actionOptions:g}}}},160125:function(e,n,l){l.d(n,{GH:()=>s,Jb:()=>d,fi:()=>u,we:()=>o});var a=l(681698);l(47755);var i=l(877904),t=l(951608),r=l(935833);let s="274266067164",o=(e,n)=>(n&&(0,r.dy)({event:"load_script_start",provider:"facebook"}),(0,i.Z)((0,t.Z)(e),"FACEBOOK").then(()=>{n&&(0,r.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(n&&(0,r.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):n?(0,r.dy)({event:"global_object_not_found",provider:"facebook"}):(0,r.My)("pcons.non_autologin.fb.global_object_not_found")})),d=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),u=async(e,n)=>{await o(e,!1);let l=await d(),i=n?"dweb":"mweb";if("connected"===l.status){(0,r.My)(`${i}.login_data_from_fb_token.connected`);let{userID:e,accessToken:n}=l.authResponse;try{let l=await (0,a.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:n}});if(l?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:n,has_password:a}=l.resource_response.data,t=e||n;return(0,r.My)(`${i}.login_data_from_fb_token.success`),{isGoogleConnected:t,hasPassword:a,isFBAuthOnly:!t&&!a}}(0,r.My)(`${i}.login_data_from_fb_token.no_data`)}catch{(0,r.My)(`${i}.login_data_from_fb_token.error`)}}return null}},132529:function(e,n,l){l.d(n,{Z:()=>o});var a=l(686659),i=l(667294),t=l(391995),r=l(24246),s=l(785893);let o=({hasBackground:e=!1,iconColor:n="default",paddingX:l=2})=>{(0,i.useEffect)(()=>{(0,a.Z)("ReactionPickerPlaceholder","/app/packages/reactions/ReactionPickerPlaceholder.tsx")},[]);let o=(0,r.Z)();return(0,s.jsx)(t.xu,{paddingX:l,children:(0,s.jsx)(t.kC,{alignItems:"center",height:24,justifyContent:"center",width:24,children:(0,s.jsx)(t.hU,{accessibilityLabel:o._('React', 'Accessibility label for reacting to a Pin', 'Accessibility label for reacting to a Pin'),bgColor:e?"secondary":"transparent",icon:"heart",iconColor:n,padding:1,size:"xl"})})})}},81179:function(e,n,l){l.d(n,{Z:()=>a});function a(e,n){let l;if(e.error){let{httpStatus:a,api_error_code:i,redirectUrl:t}=e.error;(404===a||401===a&&7===i)&&(l={pathname:n?"/ideas/":"/",state:{showError:!0}}),301===a&&t&&(l={pathname:t})}return l}},565649:function(e,n,l){l.d(n,{Z:()=>o});var a=l(312048),i=l(935059),t=l(173874),r=l(81179),s=l(661376);function o(e){let n=(0,a.s0)(),l=(0,a.TH)(),{isAuth:o}=(0,i.Z)(),d=!o&&(0,t.isCloseupPage)(l),u=(0,s.Z)(e),c=(0,r.Z)(u,d);return c&&n(c.pathname,{replace:!0,state:c.state}),u}},447926:function(e,n,l){l.d(n,{Nh:()=>i,qn:()=>a});let a=(e,n=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||n}catch(e){return console.error("Cannot access localStorage."),n}},i=(e,n)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,n)}catch(e){console.error("Cannot access localStorage.")}}},481889:function(e,n,l){l.d(n,{A:()=>h,Z:()=>m});var a=l(667294),i=l(581722),t=l(4533),r=l(104999),s=l(746868),o=l(818244),d=l(501010),u=l(233550),c=l(34550),p=l(413211),g=l(739405);function m(){let{trackConversionUpsellForContext:e}=(0,o.g)()||{},{trackConversionUpsellForContext:n}=(0,u.l)()||{},{viewType:l,viewParameter:a}=(0,s.SU)();return{trackConversionUpsell:({eventType:i,viewType:t,viewParameter:r,element:s,component:o,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})=>{let p=e||n;p&&p({eventType:i,viewType:t||l||202,viewParameter:r||a,element:s,component:o,upsellReason:d,incrementUpsellReasonCounter:u,additionalAuxData:c})}}}function h(){let e=(0,r.Z)(),n=(0,c.M0)(),l=(0,i.I0)(),s=(0,i.v9)(e=>e?.upsell?.upsellReason),{checkExperiment:o}=(0,d.Z)(),u=(0,g.HG)(),m=(0,a.useRef)(null),h=()=>n.getItem(t.w0)&&Number.isInteger(n.getItem(t.w0))?n.getItem(t.w0):0;return{trackConversionUpsellForContext:({eventType:a,viewType:i,viewParameter:r,element:d,component:g,upsellReason:_,incrementUpsellReasonCounter:y,additionalAuxData:f})=>{let k=(0,c.M0)(),x=u&&(o("migration_upsell_manager_redux").anyEnabled||o("migration_upsell_manager_redux_dweb").anyEnabled||o("migration_upsell_manager_redux_dweb_global").anyEnabled);14688===a&&(k.setItem(t.bg,_||""),_&&x&&l((0,p.vY)(_)),m.current=g,!1!==y&&n.setItem(t.w0,h()+1));let S=k.getItem(t.bg)||null;!S&&x&&(S=_||s),e({event_type:a,view_type:i,view_parameter:r,element:d,component:m.current,aux_data:{upsell_reason:S,upsell_view_count:h(),...f}})}}}},269544:function(e,n,l){l.d(n,{Z:()=>y});var a,i=l(686659),t=l(667294);l(167912);var r=l(391995),s=l(136566),o=l(759271),d=l(351736),u=l(183e3),c=l(24246),p=l(380575),g=l(292917),m=l(785893);let h=(void 0!==a||(a=l(846901)).hash&&"f4db80aa25522dc31fd92c6888dee781"!==a.hash&&console.error("The definition of 'CollapsibleDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),_=({isExpanded:e,onToggle:n,expandedText:l,collapsedText:a,size:i})=>(0,m.jsx)(r.xu,{"data-test-id":`${e?"less":"more"}-description-container`,display:"inlineBlock",children:(0,m.jsx)(r.iP,{onTap:n,children:(0,m.jsx)(r.xe,{inline:!0,size:i,weight:"bold",children:e?l:a})})});function y({isExpanded:e,instagramPostLink:n,description:l,maxHeight:a,handleToggle:y,Wrapper:f,pinKey:k}){(0,t.useEffect)(()=>{(0,i.Z)("CollapsibleDescription","/app/packages/ui/CollapsibleDescription.tsx")},[]);let x=(0,u.Z)(h,k),S=(0,t.useRef)(null),[b,P]=(0,t.useState)(!1),{mWebCloseupRedesignEnabled:v}=(0,o.Z)(),w=(0,c.Z)(),T=(0,d.vs)();(0,t.useEffect)(()=>{if(!(S&&S.current))return;let{height:e}=S.current.getBoundingClientRect();e>a&&P(!0)},[S,a]);let I=v?w._('See more', 'closeup.description.toggle.seeMoreButton', 'Toggle see more description button'):w._('... more', 'closeup.description.toggle.moreButton', 'Toggle more description button'),C=v?w._('See less', 'closeup.description.toggle.seeLessButton', 'Toggle see less description button'):"..."+(w._('less', 'closeup.description.toggle.lessButton', 'Toggle less description button')),E=(0,m.jsx)(_,{collapsedText:I,expandedText:C,isExpanded:e,onToggle:y,size:v?"200":void 0}),F=T?"#111111":"#FFFFFF",j=(0,m.jsx)(r.xe,{inline:!0,weight:"bold",children:E});return(0,m.jsx)(f,{children:(0,m.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:v&&e?20:void 0}},"data-test-id":"collapsible-description",maxHeight:e?void 0:a,overflow:"hidden",position:"relative",children:(0,m.jsxs)(p.Z,{dir:(0,g.j)(l),children:[(0,m.jsx)(r.xu,{ref:S,children:(0,m.jsxs)(r.xe,{inline:!0,children:[(0,m.jsx)(s.Z,{description:l,pinKey:x}),n,b&&e&&(v?(0,m.jsx)(r.xu,{bottom:v,display:"inlineBlock",marginStart:2,position:v?"absolute":void 0,right:v,children:j}):j)]})}),b&&!e&&(0,m.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${F} calc(100% - 75px), ${F}00 100%)`,paddingLeft:77,textAlign:"end"}},position:"absolute",right:!0,children:E})]})})})}},646949:function(e,n,l){l.d(n,{Z:()=>t});var a=l(667294),i=l(767415);let t=(e,n)=>{let{metricName:l,tags:t={},timeoutMs:r=3e3}=n,s=(0,a.useRef)(!1),o=(0,a.useRef)(t);o.current=t,(0,a.useEffect)(()=>{if(s.current)return;let n=null,a=null,t=()=>{if(!e.current)return;let{clientWidth:t,clientHeight:r,offsetWidth:s,offsetHeight:d}=e.current;(0===t||0===r||0===s||0===d)&&(0,i.nP)(l,{tags:{...o.current,clientWidth:t,clientHeight:r,offsetWidth:s,offsetHeight:d}}),n&&n.disconnect(),a&&clearTimeout(a)};if(e.current)return e.current&&"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(()=>{t()})).observe(e.current),a=setTimeout(t,r),s.current=!0,()=>{s.current=!1,n&&n.disconnect(),a&&clearTimeout(a)}},[e,l,r])}},341097:function(e,n,l){l.d(n,{Z:()=>c}),l(167912);var a,i,t=l(183e3),r=l(774838),s=l(619784),o=l(305375);let d=(void 0!==a||(a=l(383069)).hash&&"0d094b9035d386e39d655dc504f34018"!==a.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),u=(void 0!==i||(i=l(928458)).hash&&"f351b4770fdbd86402ef323f959c3227"!==i.hash&&console.error("The definition of 'useDuploGetStelaUrlWithLargestStelaObject_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function c({pinKey:e,storyKey:n,surfaceType:l}){let{isAuthenticated:a,country:i}=(0,r.B)(),c=(0,t.Z)(d,e),p=(0,t.Z)(u,n),{id:g}=(0,o.Z)(),{visualObjects:m}=c||{},{action:h}=p||{};if("flashlight"===l&&(!a||"US"===i))return"";if(!g)return"/";let _=m?.flatMap(({x:e,y:n,w:l,h:a,isStela:i})=>i&&"number"==typeof e&&e>=0&&"number"==typeof n&&n>=0&&"number"==typeof l&&l>=0&&"number"==typeof a&&a>=0?[{x:e,y:n,w:l,h:a}]:[])?.[0];return(0,s.Z)({cropArea:_,cropSource:_?4:5,isProductPage:!1,pinId:g,requestParams:h?.requestParams,surfaceType:l})}},369594:function(e,n,l){l.d(n,{r:()=>h,u:()=>_});var a=l(667294),i=l(686659),t=l(391995),r=l(230201),s=l(465784),o=l(24246),d=l(216975),u=l(247387),c=l(51372),p=l(785893);function g({isOpen:e,onDismiss:n,viewParameter:l}){(0,a.useEffect)(()=>{(0,i.Z)("UnauthWAISTAModal","/app/www/WAISTA/UnauthWAISTAModal.tsx")},[]);let g=(0,o.Z)(),{logContextEvent:m}=(0,r.u)();return(0,a.useEffect)(()=>{e&&m({event_type:13,element:10412,component:13756,view_parameter:l,view_type:155})},[e,m,l]),(0,p.jsx)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",children:(0,p.jsx)(s.ZP,{accessibilityModalLabel:"",allowClickAndDrag:!0,allowScroll:!0,closeOnOutsideClick:!0,isOpen:e,onDismiss:n,children:(0,p.jsxs)(t.xu,{maxHeight:"calc(95vh)",paddingX:2,children:[(0,p.jsxs)(t.xu,{padding:2,children:[(0,p.jsx)(t.xu,{children:(0,p.jsx)(t.hU,{accessibilityLabel:g._('Close modal', 'waista.modal.closeButton', 'Close modal for "Why am I seeing this ad?"'),icon:"close",iconColor:"default",onClick:()=>{m({event_type:102,element:11925,component:13756,view_parameter:l,view_type:155}),n()},size:"sm"})}),(0,p.jsx)(t.xu,{marginTop:3,children:(0,p.jsx)(t.qd,{align:"start",size:"300",children:g._('Why you\'re seeing this ad', 'waista.modal.headerTitle', 'Header title on modal to explain to user why they are seeing this ad')})})]}),(0,p.jsx)(t.xu,{overflow:"auto",children:(0,p.jsxs)(t.xu,{children:[(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(t.xv,{children:g._('You may be seeing this ad:', 'waista.modal.criteria.list.maybeSeeAd.v3', 'Text about why user is seeing this ad')})}),(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(c.Z,{icon:"pinterest",iconAccessibilityLabel:g._('Icon for ad targeting context', 'waista.modal.criteria.list.contexticon', 'Icon for ad targeting context'),text:(0,d.XB)({text:g._('Based on the context of the content you see in a session <strong id="1">on Pinterest</strong>', 'unauth.waista.modal.criteria.list.context', 'Ad explanation for targeting context of content, onPinterest: on Pinterest Platform'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,p.jsx)(t.xv,{inline:!0,weight:"bold",children:e},"waista-platform-bucket")}})})}),(0,p.jsx)(t.xu,{padding:2,children:(0,p.jsx)(t.xv,{weight:"bold",children:g._('Ads on Pinterest', 'unauth.waista.modal.adsOnPinterest', 'Text explaining ads on Pinterest')})}),(0,p.jsx)(t.xu,{marginBottom:4,padding:2,children:(0,p.jsx)(t.xv,{children:(0,d.nk)(g._('For more about how we collect and use data, read our {{ privacyPolicyLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.readPrivacyPolicyText', 'Text explaining how we collect and use data, privacyPolicyLink: link to privacy policy page'),{privacyPolicyLink:(0,p.jsx)(t.xv,{inline:!0,weight:"normal",children:(0,p.jsx)(t.rU,{display:"inline",href:u.R_9,onClick:()=>{m({event_type:101,component:13756,element:13402,view_parameter:l,view_type:155})},target:"blank",children:g._('Privacy Policy', 'app.common.react.components.PinRep.components.AdReasonsModal.privacyPolicyLinkUrl', 'Privacy policy link for reading about how data is collected and used')})},"ad-reasons-privacy-policy")})})})]})})]})})})}let m=(0,a.createContext)(null),h=()=>(0,a.use)(m),_=({children:e})=>{let[n,l]=(0,a.useState)(!1),i=(0,a.useMemo)(()=>({isWAISTAModalOpen:n,setWAISTAModalOpen:l}),[n,l]);return(0,p.jsxs)(m,{value:i,children:[e,n&&(0,p.jsx)(g,{isOpen:!0,onDismiss:()=>{l(!1)}})]})}},50894:function(e,n,l){l.d(n,{Z:()=>i});let a={REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,RECOMMENDED_GEO_INTERESTS:192,USER_SEQUENCE_INTERESTS_PINS:193,U2I_DNN_INTERESTS_PINS:196,PINNERSAGE_INTERESTS_PINS:197,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_TML_PRODUCT_PINS:212,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,PINNABILITY_PRODUCT_PIN_EMBEDDINGS:195,PINNABILITY_FRESH_PRODUCT_PIN_EMBEDDINGS:209,PINNABILITY_TML_PRODUCT_PIN_EMBEDDINGS:213,PINNABILITY_MULTI_EMBEDDINGS:210,PINNABILITY_PLP_EMBEDDINGS:218,PINNABILITY_CONDITIONAL_BOARD_EMBEDDINGS:220,PINNABILITY_CONDITIONAL_PIN_EMBEDDINGS:232,PINNABILITY_CONDITIONAL_UIC_PIN_EMBEDDINGS:237,PINNABILITY_OFFSITE_TML_PRODUCT_PIN_EMBEDDINGS:227,PINNABILITY_FRESH_EMBEDDINGS:228,PINNABILITY_LOW_SIGNAL_USER_EMBEDDINGS:229,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,NOTIF_DIRECT_INJECT:207,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,RECGPT_CG_USER_TO_PINS:206,TOPIC_FEED:190,ORGANIC_COENGAGEMENT:211,RECBOOST_SHOPPING:214,USER_OFFSITE_BRAND:219,USER_OFFSITE_MERCHANT:222,USER_OFFSITE_SEARCH_QUERIES:223,USER_OFFSITE_PSV2_IPFY:224,USER_OFFSITE_PSV2_RECBOOST:225,USER_OFFSITE_PSV2_COENGAGEMENT:226,USER_PINNERSPARK_SEARCH_QUERIES:230,USER_NUX_SEARCH_QUERIES:233,PINNERSPARK_INTEREST:231,OFFSITE_INTEREST:234,HF_LAST_CHUNK_CACHE:221,UNAUTH_SEARCH_QUERIES_NAVBOOST:236,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184,XPIXIE_TO_PRODUCT_PINS:194,SHOPPING_RECENTLY_VIEWED_MODULE_PINS:198,SHOPPING_RECENTLY_SAVED_MODULE_PINS:199,SHOPPING_BEST_SELLING_RECOMMENDED_BRAND_MODULE_PINS:200,SHOPPING_SHOP_THE_BOARD_MODULE_PINS:203,SHOPPING_ON_SALE_MODULE_PINS:204,SHOPPING_RECONSIDERATION_MODULE_PINS:215,SHOPPING_PRODUCT_CATEGORY_BASED_MODULE_PINS:205,SHOPPING_PRODUCT_CATEGORY_ON_SALE_MODULE_PINS:216,SHOPPING_BEST_SELLING_PRODUCT_CATEGORY_MODULE_PINS:217,SHOPPING_SHOP_SEARCH_MODULE_PINS:208,RECENTLY_VIEWED_ORGANIC_MODULE_PINS:201,RECENTLY_SAVED_ORGANIC_MODULE_PINS:202,UNAUTH_KLP_INTERESTS:235};function i(e){return e&&a[e]}},509957:function(e,n,l){l.d(n,{H:()=>S,Z:()=>P});var a=l(686659),i=l(667294),t=l(312048),r=l(391995),s=l(351736),o=l(24246),d=l(59111),u=l(335335),c=l(173874),p=l(774838),g=l(739405),m=l(40763),h=l(104999),_=l(736328),y=l(785893);function f({breadcrumb:e,isLastBreadcrumb:n,viewType:l,isHubPage:t}){(0,i.useEffect)(()=>{(0,a.Z)("Breadcrumb","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumb.tsx")},[]);let s=(0,h.Z)(),o=(0,_.Z)(),d=(0,m.Z)({skipExpActivation:!0});return(0,y.jsx)(r.xu,{color:n?"secondary":void 0,"data-test-id":"breadcrumb",display:"inlineBlock",paddingX:n?2:void 0,paddingY:n?1:void 0,rounding:d?"pill":200,children:(0,y.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(r.rU,{href:e.url??"",onClick:({dangerouslyDisableOnNavigation:e})=>{e(),o({action:"click",item:"breadcrumb"}),s({event_type:102,component:176,element:1155,view_parameter:3713,view_type:l})},children:(0,y.jsx)(r.xe,{color:t&&!n?"light":"default",inline:!0,overflow:"noWrap",size:"100",weight:d?void 0:"bold",children:e.name})}),!n&&(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:d?{__style:{paddingLeft:"12px",paddingRight:"8px"}}:void 0,display:"inlineBlock",paddingX:d?void 0:3,children:(0,y.jsx)(r.xe,{color:t&&!n?"light":"default",inline:!0,size:"100",weight:d?void 0:"bold",children:(0,y.jsx)(r.JO,{accessibilityLabel:"breadcrumb arrow",color:t?"light":"default",icon:"chevron-right",size:8})})})]})})}var k=l(866315);let x=`
  .article-row {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  div::-webkit-scrollbar {
    display: none;
  }
`,S=50.5;function b({direction:e,rightOverflowGradientOffset:n}){let l=(0,s.vs)(),a=l?s.OW:"rgba(255, 255, 255, 0)",i=l?s.k7:"#fff";return(0,y.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`linear-gradient(to ${e}, ${a}, ${i})`,pointerEvents:"none",right:n?`${n}px`:void 0}},height:32,left:"left"===e,position:"absolute",right:"right"===e,width:48})}function P({breadcrumbs:e,disableOverflowGradient:n,shouldHideLazyExploreButton:l,inSeoDrawer:s,isHubPage:h,shouldLeftAlign:_,rightOverflowGradientOffset:P,contentRef:v}){(0,i.useEffect)(()=>{(0,a.Z)("Breadcrumbs","/app/www/LoggedOutProduct/duplo/Breadcrumbs/Breadcrumbs.tsx")},[]);let w=(0,o.Z)(),T=(0,t.TH)(),{origin:I}=(0,p.B)(),C=(0,g.ml)(),E=(0,g.HG)(),F=(0,c.isVideosCategoryPage)(T),j=(0,m.Z)({skipExpActivation:!0}),L=!1,A=202;(0,c.isPinPage)(T)?A=3:(0,c.isHubOrIdeaPage)(T)?(A=442,L=!0):(0,c.isTodayArticlePage)(T)||(0,c.isShoppingSpotlightPage)(T)?A=1:F&&(L=!0,A=580);let R=F?{name:w._('Watch', 'unauth.header.tabs.videos', 'label for videos root'),url:"/videos/"}:{name:w._('Explore', 'unauth.header.tabs.ideas', 'label for ideas hub'),url:"/ideas/"},K=[...F||!l?[R]:[],...L?e.slice(0,e.length-1):[...e]];return(0,y.jsxs)(r.xu,{"data-test-id":"breadcrumbs",children:[(0,y.jsx)(d.Z,{unsafeCSS:x}),(0,y.jsx)(u.Z,{children:(0,y.jsx)(r.xu,{alignItems:_?"start":"center",dangerouslySetInlineStyle:{__style:{flexDirection:_||j?void 0:"row-reverse"}},"data-test-id":"breadcrumbs-list",direction:j?void 0:"column",display:"flex",height:s?void 0:S,justifyContent:E&&!j?"center":void 0,marginStart:j?5:void 0,overflow:s?void 0:"scrollX",paddingY:s?void 0:C?3:4,children:(0,y.jsxs)(r.xu,{ref:v,alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:s?"8px":void 0}},display:"flex",justifyContent:s?"start":"end",margin:E||_?void 0:"auto",paddingX:s?2*!C:C?4:2,wrap:!!s||void 0,children:[!j&&!n&&(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(b,{direction:"left"}),(0,y.jsx)(b,{direction:"right",rightOverflowGradientOffset:P})]}),K.map((e,n,l)=>(0,y.jsx)(f,{breadcrumb:e,isHubPage:h,isLastBreadcrumb:n===l.length-1,viewType:A},e.url))]})})}),(0,y.jsx)(k.Z,{testId:"breadcrumbs-list-metadata",type:"application/ld+json",value:{"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:[{name:w._('Pinterest', 'unauth.header.tabs.pinterest', 'label for pinterest website'),url:""},R,...e].map((e,n)=>({"@type":"ListItem",position:n+1,name:e.name,item:`${I}${e.url??""}`}))}})]})}},845178:function(e,n,l){l.d(n,{Z:()=>j});var a=l(667294),i=l(581722),t=l(312048),r=l(104999),s=l(236269),o=l(647636),d=l(375217),u=l(924591),c=l(24246),p=l(31725),g=l(783734),m=l(501010),h=l(736328),_=l(577356),y=l(2061),f=l(26499),k=l(120100),x=l(173874),S=l(451503),b=l(38359),P=l(956701),v=l(203842),w=l(604100),T=l(157498),I=l(468491),C=l(500912),E=l(785893);let F=()=>{};function j({clientTrackingParams:e,experience:n,hasSaveHandoffExperience:l,isInlineSave:j,isPromoted:L,onError:A,onTouch:R,onUnsave:K,pinId:D,pinDescription:Z,pinImage:B,pinnedToBoardId:O,shouldShowSavedButton:N,showSingleToast:M}){let U=(0,c.Z)(),z=(0,r.Z)(),V=(0,h.Z)(),H=(0,i.I0)(),G=(0,t.s0)(),W=(0,t.TH)(),{showToast:Y}=(0,_.dI)(),$=function({showSingleToast:e}){let n=(0,i.I0)(),l=(0,i.oR)(),r=(0,t.TH)(),s=(0,_.dI)()[e?"showOneToast":"showToast"],{forceShowNavFooter:d,setForceShowNavFooter:u}=(0,S.Q)(),c=(0,i.v9)(({session:e})=>e.shouldHideNavBar),p=(0,a.useCallback)((e,l,a)=>{!l&&(c&&!a&&n((0,P.FK)()),n((0,P.a5)()),d||a||u(!1)),a||s(e)},[n,d,c,u,s]);return(e,a)=>{!a&&(c&&n((0,P.Cp)()),n((0,P.WF)()),d||u(!0)),setTimeout(()=>{let n=l.getState().experiences[1000494],i=(0,o.dG)(n,{experience_id:508536})&&(0,x.isCloseupPage)(r);l.getState().session.isShowingRepinConfettiAnimation?setTimeout(()=>{p(e,a)},b.wJ):p(e,a,i)},b.Tt)}}({showSingleToast:M}),q=(0,C.n)(),X=W.pathname.startsWith("/pin"),Q=(0,i.v9)(({session:e})=>e.hasSavedUnauthPin),J=(0,i.v9)(({session:e})=>e.unauthSavePinId),ee=(0,T.LO)(),en=ee?.pin_count,el=(0,a.useRef)(null),ea=l&&!Q,ei=(0,k.Z)(),{checkExperiment:et}=(0,m.Z)(),er=(0,d.be)(),es=(0,p.Z)(ee?.created_at)||(0,g.Z)(ee),{isGraphQLEnabledInGeneral:eo}=(0,y.nF)(),ed=e=>G(e),eu=(0,o.cO)(),ec=(e,n)=>{q?.save(e,n)},ep=D?async()=>{j||z({event_type:102,element:11933});try{await H((0,v.Z)({checkExperiment:et,navigate:G,i18n:U,logContextEvent:z,onSuccess:()=>{n&&H(er(n.placement_id,n.experience_id)),eu("Save",{pin_id:D,is_promoted:L,pin_description:Z,pin_image:B,save_type:"quicksave"}),(0,I.Z)({dispatch:H,viewerUser:ee}),ee?.has_quicksave_board||H((0,w.Z)(!0))},originalPinId:D,pinId:D,trackingParams:{clientTrackingParams:e,pinnedToBoardId:O},showNewUserSavetoProfileAnimation:es,showRepinConfirmation:l&&!X?()=>void 0:$,disableRepinAnimation:J===D,pinCount:en,pinDescription:Z,pinImage:B,historyPush:ed,savePinId:q?ec:()=>{}}))}catch(e){Y(({hideToast:n})=>(0,E.jsx)(u.Z,{duration:5e3,onHide:n,text:(0,s.Z)(e,"message")||U._('Sorry! Something went wrong on our end.', 'quickSave.toast.error.message', 'error during repin')})),A?.()}}:F;return((0,a.useEffect)(()=>{ea&&!el.current&&D&&!eo&&(V({action:"trigger",item:"unauth-save-button-quicksave"}),z({event_type:14581}),ep(),H((0,P.e2)())),el.current=ea}),D)?ei({fn:e=>{e.stopPropagation(),e.preventDefault(),R&&R(e),N?N&&K&&K(e):ep()},modalHeader:(0,f.Bx)(U)}):null}},177809:function(e,n,l){l.d(n,{o:()=>s});var a=l(4533),i=l(34550),t=l(521679),r=l(145843);let s=({canUpsellNativeApp:e,isAuthenticated:n})=>{let l;if(!n)return"unauthPostDownloadUpsell";if("undefined"==typeof window)return l;let s=(0,i.M0)().getItem(a.CP),o=!!(s&&Date.now()-Number(s)<864e5),d=Number((0,i.M0)().getItem(a.X)||0)>=3;if(!(0,t.Z)(a.aA)||!(0,t.Z)(a.Kr))return l;let u=(0,i.M0)().getItem(a.aA),c=(Date.now()-Number(u)<r.U?(0,i.M0)().getItem(a.Kr):0)>=r.k;return!e||o||d?c||(l="saveSend"):l="appUpsell",l}},635981:function(e,n,l){function a(e){let n=Object.keys(e);return n.length>0?n.sort((n,l)=>e[l]-e[n]).slice(0,3):null}function i(e){let n=Object.values(e);return n.length>0?n.reduce((e,n)=>e+n,0):0}function t({boardIsCollaborative:e,isDownstreamPromotion:n,isPromoted:l,storyPinDataId:a,videosId:i,isEligibleForStaticImageIdeaPin:t}){return!l&&!n&&(!!i||!!a)&&(null==e||!e)&&!t}l.d(n,{At:()=>a,J6:()=>t,Ud:()=>i})},969862:function(e,n,l){l.d(n,{Z:()=>Z});var a,i,t=l(686659),r=l(667294),s=l(581722);l(167912);var o=l(312048),d=l(391995),u=l(104999),c=l(351736),p=l(955106),g=l(183e3),m=l(24246),h=l(501010),_=l(774838),y=l(661376),f=l(736328),k=l(473687),x=l(413211),S=l(739405),b=l(464094),P=l(801100),v=l(157498),w=l(375217),T=l(758831),I=l(845178),C=l(785893);let E=(void 0!==a||(a=l(205898)).hash&&"8f09ec57feffa3a1b4f26c669b223c0e"!==a.hash&&console.error("The definition of 'SaveButtonPinCard_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),F=({buttonText:e,clientTrackingParams:n,color:l="red",deviceType:a,experience:i,hasQuickSave:o,hasSaveHandoffExperience:u,inline:c=!0,isLegoSaveStyle:p,onTouch:h,onUnsave:_,pinKey:y,pinnedToBoardId:f,shape:k,shouldShowSavedButton:x,to:S,viewParameter:b,viewType:P})=>{(0,r.useEffect)(()=>{(0,t.Z)("SaveButton","/app/www/SaveButton.tsx")},[]);let v=(0,m.Z)(),F=(0,s.I0)(),j=(0,w.Ig)();(0,r.useEffect)(()=>{i&&i.placement_id&&F(j(i.placement_id,i.experience_id))},[i,F,j]);let L=(0,g.Z)(E,y)?.isPromoted,A=(0,g.Z)(E,y),R=A?.imageSpec_236x?.url?{url:A.imageSpec_236x.url}:null,K=(0,I.Z)({clientTrackingParams:n,experience:i,hasSaveHandoffExperience:u,isPromoted:L,onTouch:h,onUnsave:_,pinId:A?.entityId,pinDescription:A?.description??void 0,pinImage:R,pinnedToBoardId:f,shouldShowSavedButton:x}),D={accessibilityLabel:v._('Pin', 'Pin accessibility label', 'Pin accessibility label'),color:l,inline:p?void 0:c,minHeight:p?48:void 0,onTouch:o?K:h,onUnsave:o?K:_,pressState:"compress",shape:p?"pill":k,size:"lg",text:e||v._('Save', 'Auth mobile web save button for pin closeup', 'Auth mobile web save button for pin closeup'),to:S,unsaveAccessibilityLabel:v._('Saved', 'SaveButton.ExperimentalSavedButtonAccessibilityLabel', 'Accessibility label on a saved button - Pin has already been saved')},Z=x?(0,C.jsx)(d.xu,{role:"button",children:(0,C.jsx)(d.zx,{accessibilityLabel:D.unsaveAccessibilityLabel,fullWidth:D.inline,onClick:({event:e})=>{D.onUnsave?.(e)},selected:!0,size:D.size,text:D.text})}):(0,C.jsx)(T.M,{...D,clientTrackingParams:n,deeplinkUri:"deeplinkUri",deviceType:a,isActionButton:!0,upsellType:"save",viewParameter:b,viewType:P,children:(0,C.jsx)(d.xu,{role:"button",children:(0,C.jsx)(d.zx,{accessibilityLabel:D.accessibilityLabel,color:"primary",fullWidth:D.inline,size:D.size,text:D.text})})});return(0,C.jsx)(r.Fragment,{children:(0,C.jsx)(d.xu,{"data-test-id":x?"saved-button-mobile":"save-button-mobile",children:Z})})};var j=l(856293),L=l(319226),A=l(893957),R=l(20717);function K({imageUrl:e,frameStyle:n}){return(0,C.jsx)(d.xu,{position:"relative",children:(0,C.jsx)(d.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},children:(0,C.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:"var(--sema-color-background-default)",borderStyle:"solid",borderWidth:n.borderWidth,borderRadius:n.borderRadius}},left:!0,position:"absolute",right:!0,top:!0,children:e?(0,C.jsx)(d.Ee,{alt:"",color:"var(--sema-color-background-secondary)",fit:"cover",naturalHeight:1,naturalWidth:1,src:e}):(0,C.jsx)(d.xu,{color:"secondary"})})})})}function D({imageUrls:e}){(0,r.useEffect)(()=>{(0,t.Z)("UnauthMobileSocialBoardEducation","/app/www/unauth/UnauthMobileSocialBoardEducation.tsx")},[]);let n=(0,m.Z)(),{isRTL:l}=(0,_.B)(),a=(0,u.Z)(),i=(0,R.$p)(),{inviterAvatarUrl:s="",inviterName:o=""}=i?.data?.upsellData||{},[c="",p="",g=""]=e;(0,A.Z)(()=>{a({event_type:18031,component:15530})});let h=n._('Ideas we love', 'unauthMobileSocialBoardEducation.boardRep.text', 'Text for the board rep section'),y=(n._('Save and collaborate with {{ name }} on new finds', 'unauth.splp.upsell.group_board.popover.text', 'Upsell text near save button prompting user to save idea and collaborate with the inviter. name: inviter\'s name')).replace("{{ name }}",o);return(0,C.jsxs)(d.xu,{padding:4,width:232,children:[(0,C.jsxs)(d.xu,{dangerouslySetInlineStyle:{__style:{background:"var(--sema-color-background-default)"}},padding:1,rounding:400,children:[(0,C.jsxs)(d.xu,{display:"flex",overflow:"hidden",rounding:400,children:[(0,C.jsx)(d.sg,{span:8,children:(0,C.jsxs)(d.xu,{position:"relative",children:[(0,C.jsx)(K,{frameStyle:{borderRadius:"16px 0 0 16px",borderWidth:"1px 0 1px 1px"},imageUrl:c}),s&&(0,C.jsx)(d.xu,{left:!l,marginStart:2,marginTop:2,position:"absolute",right:l,top:!0,children:(0,C.jsx)(L.qE,{name:o,outline:!0,size:"sm",src:s})})]})}),(0,C.jsx)(d.sg,{span:4,children:[{key:"top",url:p},{key:"bottom",url:g}].map(({key:e,url:n})=>{let a;return a="top"===e?l?"16px 0 0 0":"0 16px 0 0":l?"0 0 0 16px":"0 0 16px 0",(0,C.jsx)(K,{frameStyle:{borderRadius:a,borderWidth:"top"===e?1:"0 1px 1px 1px"},imageUrl:n},e)})})]}),(0,C.jsx)(d.xu,{marginBottom:1,marginEnd:2,marginStart:2,marginTop:2,children:(0,C.jsx)(d.xv,{size:"300",children:h})})]}),(0,C.jsx)(d.xu,{marginTop:4,children:(0,C.jsx)(d.xv,{color:"inverse",size:"300",children:y})})]})}function Z({buttonText:e,clientTrackingParams:n,pinKey:a,pinnedToBoardId:w,shouldShowSavedButton:T,to:I,onTouch:E,...L}){(0,r.useEffect)(()=>{(0,t.Z)("SaveButtonContainer","/app/www/SaveButtonContainer.tsx")},[]);let A=(0,m.Z)(),R=(0,o.s0)(),K=(0,o.TH)(),Z=(0,f.Z)(),B=(0,u.Z)(),O=(0,S.ZP)(),{checkExperiment:N}=(0,h.Z)(),{isAuthenticated:M}=(0,_.B)(),U=(0,v.LO)(),z=M?U:null,V=(0,k.Z)(),H=(0,r.useRef)(null),G=(0,r.useRef)(null),W=(0,r.useRef)(!1),Y=(({i18n:e,isSaved:n})=>{let l=(0,c.Yc)();return n?{buttonText:e._('Saved', 'closeup.savedButton.text', 'Auth mobile web save button for pin closeup when user has saved the Pin being viewed'),color:l?"darkGray":"white",inline:!1}:Object.freeze({})})({i18n:A,isSaved:T}),$=function({elementRef:e}){let[n,l]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{let n=e.current;if(!n)return l(!1),()=>{};let a=()=>{l((e=>{let n=e;for(;n;){if("0"===window.getComputedStyle(n).opacity)return!1;n=n.parentElement}return!0})(n))};return a(),window.addEventListener("resize",a),window.addEventListener("scroll",a,{passive:!0}),()=>{window.removeEventListener("resize",a),window.removeEventListener("scroll",a)}},[e]),n}({elementRef:H});(0,y.Z)(z?{name:"UserResource",options:{user_id:z.id,field_set_key:"save_behavior"}}:null);let q=z?.save_behavior,X=(0,s.v9)(({session:e})=>e.unauthSavePinId),Q=M&&!!X,J=(0,p.Z)({id:1000152}),ee=q===b.Ex.SAVE_TO_PROFILE||Q,en=(void 0!==i||(i=l(452519)).hash&&"4d623c22364b81b06b09589bd0dea905"!==i.hash&&console.error("The definition of 'SaveButtonContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),el=(0,g.Z)(en,a),ea=(0,s.v9)(e=>e.upsell.showSaveEducationPopover),ei=new d.H3([P.Z]),et=()=>{B({event_type:18032,component:15530}),(N("migration_upsell_manager_redux").anyEnabled||N("migration_upsell_manager_redux_mweb").anyEnabled||N("migration_upsell_manager_redux_mweb_global").anyEnabled)&&V((0,x.QC)())},er=e=>{e.preventDefault(),B({event_type:18033,component:15530}),Z({action:"click",item:"unauth-social-group-board-education-popover"}),et();let n=new URLSearchParams(K.search);n.set(j._N,j.hg.SPLP_GROUP_BOARD_EDUCATION),R({pathname:"/signup/step1/",search:`?${n.toString()}`},{state:{next:K.pathname,..."object"==typeof K.state?K.state:{}}})};return(0,r.useEffect)(()=>{let e=H.current;if(!e)return()=>{};let n=e=>{let n=!!G.current;W.current=n,n&&e.stopPropagation()};return e.addEventListener("pointerdown",n),()=>{e.removeEventListener("pointerdown",n)}},[]),(0,C.jsxs)(d.xu,{ref:H,"data-test-id":"standard-save-button",children:[(0,C.jsx)(F,{clientTrackingParams:n,deviceType:O,experience:J,hasQuickSave:ee,hasSaveHandoffExperience:Q,pinKey:el,pinnedToBoardId:w,shouldShowSavedButton:T,to:I,...L,...Y,isLegoSaveStyle:!0,onTouch:e=>{W.current?er(e):E?.(e)}}),ea&&H.current&&$&&(0,C.jsx)(d.pl,{anchor:H.current,idealDirection:"up",onDismiss:et,size:"flexible",zIndex:ei,children:(0,C.jsx)(d.iP,{ref:G,onMouseDown:({event:e})=>er(e),children:(0,C.jsx)(D,{imageUrls:[el?.images_236x?.url??""]})})})]})}},145843:function(e,n,l){l.d(n,{U:()=>a,k:()=>i});let a=864e5,i=2},222913:function(e,n,l){l.d(n,{Z:()=>s});var a=l(686659),i=l(667294),t=l(391995),r=l(785893);class s extends i.Component{componentDidMount(){(0,a.Z)("ScrollTo","/app/www/ScrollTo.tsx"),this.anchor&&(!this.props.hash||this.props.hash&&`#${this.props.hash}`===window.location.hash)&&(this.anchor.scrollIntoView(),this.props.offset&&window.scrollBy(0,this.props.offset))}render(){let e=this.props.children?i.Children.only(this.props.children):null;return(0,r.jsx)(t.xu,{ref:e=>{this.anchor=e},children:e})}}},603284:function(e,n,l){l.d(n,{Z:()=>u});var a=l(686659),i=l(667294),t=l(746868),r=l(360033),s=l(495773),o=l(785893);class d extends i.Component{componentDidMount(){let{setCurrentPageData:e,viewData:n,viewParameter:l,viewType:a}=this.props;e({viewData:n,viewParameter:l,viewType:a})}componentDidUpdate(e){let{setCurrentPageData:n,viewData:l,viewParameter:a,viewType:i}=this.props;a===e.viewParameter&&i===e.viewType&&(0,r.ZP)(l,e.viewData)||n({viewData:l,viewParameter:a,viewType:i})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:n,component:l,objectIdStr:a,viewData:i,viewParameter:t,viewType:r,clientTrackingParams:d}=this.props;return(0,o.jsx)(s.Z,{auxData:e,clientTrackingParams:d,component:l,objectIdStr:a,viewData:i,viewParameter:t,viewType:r,children:n})}}function u(e){(0,i.useEffect)(()=>{(0,a.Z)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:n,clearViewContextData:l}=(0,t.A$)();return(0,o.jsx)(d,{...e,clearCurrentPageData:l,setCurrentPageData:n})}},495773:function(e,n,l){l.d(n,{Z:()=>r});var a=l(667294),i=l(104999),t=l(935833);function r(e){let{auxData:n,clientTrackingParams:l,children:r,component:s,element:o,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,g=(0,i.Z)(),m=JSON.stringify(n),h=JSON.stringify(u);return(0,a.useEffect)(()=>{(({viewType:e,viewParameter:n,viewData:l,auxData:a,objectIdStr:i,component:r,clientTrackingParams:s,element:o},d)=>{let u,c=Object.keys(u={event_type:13,view_type:e,view_parameter:n,view_data:l,aux_data:a,object_id_str:i,component:r,clientTrackingParams:s,element:o}).reduce((e,n)=>(void 0===u[n]&&delete e[n],e),{...u});-1===Object.keys(c).indexOf("view_type")&&(0,t.My)("mweb.logging.null_view_type"),d(c)})(e,g)},[g,m,l,s,o,d,h,c,p]),a.Children.only(r)}},720408:function(e,n,l){l.d(n,{Z:()=>t});var a=l(853930),i=l(29217);function t({action:e,collaboratedByMe:n,collaboratorPermissions:l,ownerId:t}){let r=(0,a.Z)(t),s=(0,i.Z)(n);return r||s&&!!l?.includes(e)}},979172:function(e,n,l){l.d(n,{Z:()=>u});var a=l(686659),i=l(667294),t=l(391995),r=l(774838),s=l(530786),o=l(40763),d=l(785893);function u({children:e,isImagePinForUnauthOnTablet:n}){(0,i.useEffect)(()=>{(0,a.Z)("ClickthroughOverlay","/app/www/closeup/duplo/ClickthroughOverlay.tsx")},[]);let{isAuthenticated:l}=(0,r.B)(),u=(0,o.Z)({skipExpActivation:!0});return(0,d.jsxs)(t.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{cursor:"pointer",width:n?"40vw":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!n||void 0,top:!0,zIndex:l?void 0:s.eu,children:[(0,d.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"#000",borderRadius:u?void 0:"6px 6px 0 0",WebkitTransition:"opacity .04s linear",transition:"opacity .04s linear"}},left:!0,opacity:40,position:"absolute",right:!0,top:!0}),e]})}},284009:function(e,n,l){l.d(n,{Z:()=>w});var a=l(686659),i=l(667294),t=l(391995),r=l(759271),s=l(24246),o=l(433069),d=l(835531),u=l(23641),c=l(774838),p=l(730448),g=l(739405),m=l(893957),h=l(979172),_=l(328154),y=l(40763),f=l(407678),k=l(411657),x=l(767415),S=l(354139),b=l(177433),P=l(484807),v=l(785893);let w=e=>{(0,i.useEffect)(()=>{(0,a.Z)("CloseupImage","/app/www/closeup/duplo/CloseupImage.tsx")},[]);let n=(0,s.Z)(),{alt:l,clickthroughOverlayOptions:w,color:T,isFlashlightPage:I,naturalHeight:C,naturalWidth:E,placeholder:F,pwtElementTimingId:j,setShowClickthroughOverlay:L,showSpinner:A,src:R,stickyFooter:K,isEligibleForPdp:D}=e,Z=(0,o.b)(),B=(0,b.Zv)(),O=(0,c.Ts)(),N=!Z,{isAuthenticated:M}=(0,c.B)(),U=(0,g.ZP)(),z=(0,i.useRef)(null),V=(0,y.Z)({skipExpActivation:!0}),H=(0,i.useRef)(!1),{mWebCloseupRedesignEnabled:G}=(0,r.Z)(),[W,Y]=(0,i.useState)(!N||!!R&&!!F&&F===R),$=(0,i.useRef)(""),q=()=>{(0,u.Nx)("PinPageMainImageRendered"),Z&&(0,x.LY)("earlyHydrationDebug.pwtConstraint.pinPageMainImageRendered",performance.now(),{tags:(0,S.M3)({handlerId:B,requestContext:O})}),H.current||((0,x.nP)("mweb.closeup.closeup_image.load"),H.current=!0)};(0,i.useEffect)(()=>{let e=new Image;e.onload=()=>Y(!0),e.src=R},[]);let X=(0,i.useRef)((0,k.u)()?.setHasScrolledPastMainContent);(0,i.useEffect)(()=>{let e=(0,p.Z)(()=>{if(z.current){let n=window.scrollY>z.current.offsetTop+z.current.offsetHeight;X.current?.(n),n&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]),(0,m.Z)(()=>{R||(0,x.nP)("mweb.closeup.closeup_image.no_image_url"),(0===C||0===E)&&(0,x.nP)("mweb.closeup.closeup_image.invalid_dimensions")});let Q=!I&&"tablet"===U,J=N?(0,v.jsx)(d.Z,{alt:l,color:T,elementTiming:j,naturalHeight:C,naturalWidth:E,onLoad:q,src:F}):null,ee=f.Hg;return(I||"phone"===U||V)&&(ee="100%"),(0,v.jsx)(P.Z,{metricName:"CloseupImage",children:(0,v.jsxs)(t.xu,{ref:z,"data-test-id":"pin-closeup-image",maxHeight:"100%",maxWidth:"tablet"===U?f.g6:void 0,minHeight:"auto",overflow:K?void 0:"hidden",position:"relative",rounding:600*(!I&&"phone"!==U),width:ee,children:[!M&&w&&(0,v.jsx)(h.Z,{isImagePinForUnauthOnTablet:!1,children:(0,v.jsx)(_.Z,{inviterFirstName:$.current,isEligibleForPdp:D,setShowClickthroughOverlay:L})}),J&&(Q?(0,v.jsx)(t.xu,{overflow:"hidden",rounding:600,children:J}):J),(0,v.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!!W,transition:W&&"desktop"!==U?"opacity .5s ease-in-out":void 0,backgroundColor:T}},left:!0,overflow:Q?"hidden":void 0,position:N?"absolute":"relative",right:!0,rounding:Q?600:500,top:!0,children:N?(0,v.jsx)(t.Ee,{alt:l,fetchPriority:G?"high":void 0,naturalHeight:C,naturalWidth:E,role:G?"img":void 0,src:R}):(0,v.jsx)(d.Z,{alt:l,color:T,elementTiming:j,fetchPriority:"high",naturalHeight:C,naturalWidth:E,onLoad:q,src:R})}),A&&(0,v.jsx)(t.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:+!W,transition:W?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!W&&(0,v.jsx)(t.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(t.xH,{accessibilityLabel:n._('Loading image', 'Loading higher resolution image', 'Loading higher resolution image'),show:!0})})}),K]})})}},914461:function(e,n,l){l.d(n,{Z:()=>r});var a=l(391995),i=l(24246),t=l(785893);function r(){let e=(0,i.Z)();return(0,t.jsx)(a.xu,{padding:5,children:(0,t.jsx)(a.xH,{accessibilityLabel:e._('Loading pin data', 'closeupPage.loadingPinData', 'accessibility label for pin loading spinner'),show:!0})})}},625655:function(e,n,l){l.d(n,{Z:()=>s});var a=l(391995),i=l(351736),t=l(806513),r=l(785893);let s=function({marginStart:e=t.D6}){let n=(0,i.vs)();return(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:`${-(4*e)}px`,marginRight:`${-(4*e)}px`,backgroundColor:n?i.Ov:"#E9E9E9"}},height:1})}},874202:function(e,n,l){l.d(n,{L:()=>a});function a(e){return"IsStoryPin"===e.kind}},136920:function(e,n,l){l.d(n,{Z:()=>b});var a,i=l(686659),t=l(667294),r=l(581722);l(167912);var s=l(391995),o=l(759271),d=l(104999),u=l(319226),c=l(183e3),p=l(24246),g=l(507006),m=l(216975),h=l(774838),_=l(438185),y=l(338065),f=l(680717),k=l(157498),x=l(785893);let S=(void 0!==a||(a=l(61730)).hash&&"90a35c5ea8a0b7c83b6783a5e41eaa0d"!==a.hash&&console.error("The definition of 'OfficialUserAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function b({hideFollowButton:e,hideFollowerCount:n,viewerId:l,justifyContent:a,avatarSize:b,seeMoreButton:P,pinKey:v,clientTrackingParams:w,isSmallAvatarEnabled:T}){(0,t.useEffect)(()=>{(0,i.Z)("OfficialUserAttribution","/app/www/closeup/duplo/OfficialUserAttribution.tsx")},[]);let I=(0,p.Z)(),{isAuthenticated:C}=(0,h.B)(),E=(0,c.Z)(S,v),F=E?.closeupUnifiedAttribution,j=(0,k.mN)()(F?.entityId??""),L=j?.avatar_color_index,A=(0,r.I0)(),R=(0,t.useRef)(null),K=(0,d.Z)(),{mWebCloseupRedesignEnabled:D}=(0,o.Z)(),[Z,B]=(0,t.useState)(j?j.explicitly_followed_by_me:F?.followedByMe);if(!F)return null;let O=E?.entityId,N=E?.imageSignature,M=F.entityId,U=F.imageMediumUrl,z=F.followerCount,V=F.username??"",H=!!F.isAdsOnlyProfile,G=F.adsOnlyProfileSite,W=H&&G,Y=W&&G?G:`/${!C?V.toLowerCase():V}/`;return(0,x.jsxs)(s.xu,{alignItems:"center","data-test-id":"official-user-attribution",direction:"row",display:"flex",justifyContent:D?"start":a||"center",children:[(0,x.jsx)(s.kC,{alignItems:"stretch",flex:"shrink",height:D?16:void 0,justifyContent:"start",width:D?16:void 0,children:(0,x.jsx)(s.Tg,{dataTestId:"creator-profile-link",href:Y,onTap:()=>{W&&K({event_type:9371,element:13382,component:123})},rel:W?"nofollow":"none",target:W?"blank":null,children:(0,x.jsx)(u.qE,{color:L,name:V??"",size:D?"fit":b||"md",src:U??""})})}),(0,x.jsxs)(s.xu,{"data-test-id":"follower-count",direction:"column",display:"flex",justifyContent:"center",marginStart:T?1:2,minWidth:0,children:[(0,x.jsx)(_.Z,{fontWeight:"bold",pinKey:E,size:D?"100":void 0}),!n&&C&&!D&&(0,x.jsx)(s.xe,{size:"200",children:(0,m.nk)(I.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', z ?? 0, 'closeup.officialUser.followerCount', 'Official user\'s follower count followerCount: number of followers'),{followerCount:(0,x.jsx)(g.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:z??0},z)})})]}),P,!e&&!D&&(0,x.jsx)(t.Fragment,{children:(0,x.jsx)(s.xu,{ref:R,"data-test-id":"follow-button-box",marginStart:"auto",children:(0,x.jsx)(y.Z,{auxData:O&&N?{pin_id:O,image_signature:N}:void 0,clientTrackingParams:w,followEventType:45,id:M,isFollowed:Z,isUserFollowButton:!0,isUserMe:l===M,onFollow:e=>{B(!0),A((0,f.ZN)(e,null,w))},onUnfollow:e=>{B(!1),A((0,f.fv)(e,null,w))},pinKey:E,shouldUseLegoColors:!0,size:"lg",unfollowEventType:46,viewType:3})})})]})}},438185:function(e,n,l){l.d(n,{Z:()=>g});var a,i=l(686659),t=l(667294);l(167912);var r=l(391995),s=l(104999),o=l(183e3),d=l(774838),u=l(880201),c=l(785893);let p=(void 0!==a||(a=l(378671)).hash&&"302280af43fdbc94ba2060410a37e076"!==a.hash&&console.error("The definition of 'OfficialUserAttributionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function g({getDisplayName:e,fontWeight:n="normal",onMouseDown:l,pinKey:a,size:g}){(0,t.useEffect)(()=>{(0,i.Z)("OfficialUserAttributionText","/app/www/closeup/duplo/OfficialUserAttributionText.tsx")},[]);let m=(0,s.Z)(),{isAuthenticated:h}=(0,d.B)(),_=(0,o.Z)(p,a),y=_?.closeupUnifiedAttribution;if(!y)return null;let{adsOnlyProfileSite:f}=y,k=y.fullName??"",x=y.isAdsOnlyProfile??!1,S=!!y.isVerifiedMerchant,b=y.username??"",P=y.verifiedIdentity?.verified,v=S||P,w=x&&f,T=w&&f?f:`/${!h?b.toLowerCase():b}/`,I=e?e(k):k;return(0,c.jsx)(r.Tg,{href:T,onMouseDown:()=>{l&&l()},onTap:()=>{w&&m({event_type:9371,element:13382,component:123})},rel:w?"nofollow":"none",target:w?"blank":null,children:(0,c.jsxs)(r.kC,{alignItems:"center",direction:"row",justifyContent:"start",minWidth:0,children:[(0,c.jsx)(r.xu,{"data-test-id":"creator-profile-name",children:(0,c.jsx)(r.xe,{lineClamp:1,size:g,weight:n,children:I})}),v&&(0,c.jsx)(r.xu,{marginEnd:2,marginStart:1,children:(0,c.jsx)(u.Z,{isVerifiedMerchant:S,showVerifiedIdentity:!S,size:"sm"})})]})})}},27139:function(e,n,l){l.d(n,{AI:()=>r,IN:()=>i,V3:()=>s,ow:()=>t});var a=l(391995);let i=3,t=new a.Ry(2),r=new a.Ry(1),s=new a.Ry(4)},376312:function(e,n,l){l.d(n,{Z:()=>y});var a=l(686659),i=l(667294),t=l(391995),r=l(458465),s=l(812928),o=l(501010),d=l(825605),u=l(923298),c=l(736328),p=l(473687),g=l(413211),m=l(107889),h=l(40763),_=l(785893);function y(e){(0,i.useEffect)(()=>{(0,a.Z)("UnauthCommentComposer","/app/www/closeup/duplo/UnauthCommentComposer.tsx")},[]);let{clientTrackingParams:n,viewParameter:l,isStoryPin:y}=e,f=(0,u.Z)(),k=(0,c.Z)(),{checkExperiment:x}=(0,o.Z)(),S=(0,p.Z)(),b=x("migration_upsell_manager_redux").anyEnabled||x("migration_upsell_manager_redux_dweb").anyEnabled||x("migration_upsell_manager_redux_mweb").anyEnabled||x("migration_upsell_manager_redux_dweb_global").anyEnabled||x("migration_upsell_manager_redux_mweb_global").anyEnabled,P=(0,h.Z)({skipExpActivation:!0});return(0,_.jsx)(d.Z,{fallback:null,children:(0,_.jsx)(t.xu,{bottom:!!P,color:P?"default":void 0,dangerouslySetInlineStyle:P?{__style:{position:"sticky"}}:void 0,"data-test-id":"unauth-comment-composer",marginStart:y?void 0:2,marginTop:P?void 0:4,paddingY:P?4:void 0,children:(0,_.jsx)(s.Z,{clientTrackingParams:n,commentWarningModalState:r.A9.NONE,dismissCommentWarningModal:()=>{},objectType:m.o.pin,onEnter:()=>{k({action:"click",item:y?"comment-compose-story-pin":"comment-compose-pin",within:"comment-composer-modal"}),b?S((0,g.WE)()):f({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"tap_unauth_comment_composer",desktopOptions:{modalType:"login",modalOptions:{source:"commentComposer",container:"closeup"}}})},statusType:"textStaticDisplay",viewParameter:l})})})}},863290:function(e,n,l){l.d(n,{Z:()=>a});function a({canUpsellNativeApp:e,downloadImageUrl:n,pinId:l,shouldShowReactions:a,isAuthenticated:i,shouldShowVisitInMoreOptions:t}){return l?{react:a,editPin:i,downloadImageUrl:n,openInApp:e,reportPin:i,sendPin:a,visitPin:t,hidePin:i,seeLess:i,seeMore:i}:Object.freeze({})}},805146:function(e,n,l){l.d(n,{v:()=>a});let a="imgViewer"},849770:function(e,n,l){l.d(n,{Z:()=>i});var a=l(863290);function i(e,n,l){let i=(0,a.Z)(e);return!!(i.react||i.openInApp||i.sendPin||i.downloadImageUrl||i.reportPin||i.visitPin||n||l||i.hidePin)}},328154:function(e,n,l){l.d(n,{Z:()=>h});var a=l(686659),i=l(667294),t=l(391995),r=l(24246),s=l(501010),o=l(923298),d=l(935833),u=l(736328),c=l(473687),p=l(413211),g=l(739405),m=l(785893);function h({setShowClickthroughOverlay:e,isEligibleForPdp:n,isEligibleForDesktopSocialInviteOverlay:l,inviterFirstName:h}){(0,i.useEffect)(()=>{(0,a.Z)("UnauthClickthroughOverlayContent","/app/www/closeup/duplo/unauth/UnauthClickthroughOverlayContent.tsx")},[]);let _=(0,r.Z)(),y=(0,u.Z)(),f=(0,o.Z)(),k=(0,i.useRef)(null),x="desktop"===(0,g.ZP)(),S=h&&l,b=S&&(_._('Sign up to join {{ name }} on Pinterest', 'pin.closeup.wash.desktop.shareNotification', 'Clickthrough overlay for desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",h),P=_._('Click to make the most out of this idea with a free account', 'web.unauth.plp.clickable_wash.header', 'Copy shown on hover to sign up for an account'),v=_._('Tap to make the most out of this idea with a free account', 'mweb.unauth.plp.clickable_wash.header', 'Pin clickable wash header text'),w=(0,c.Z)(),{checkExperiment:T}=(0,s.Z)();return(0,m.jsx)(t.iP,{onMouseEnter:()=>{S&&(0,d.My)("dweb.main_pin.social.wash.view"),(0,d.My)("dweb.pin.wash.view")},onMouseLeave:()=>{S?y({action:"dismiss",item:"main-pin-social-wash"}):y({action:"dismiss",item:"main-pin-wash"})},onTap:({event:e})=>{x&&(e.preventDefault(),y({action:"click",item:"pin-image"}),l&&h&&y({action:"click",item:"main-pin-social-wash"}),y({action:"click",item:"main-pin-image-signup-modal"}),T("migration_upsell_manager_redux").anyEnabled||T("migration_upsell_manager_redux_dweb").anyEnabled||T("migration_upsell_manager_redux_mweb").anyEnabled||T("migration_upsell_manager_redux_dweb_global").anyEnabled||T("migration_upsell_manager_redux_mweb_global").anyEnabled?w((0,p.QA)()):f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}}),n&&y({action:"click",item:"pdp-pin-image"}))},children:(0,m.jsxs)(t.xu,{zIndex:new t.Ry(2),children:[(0,m.jsx)(t.xu,{ref:k,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:l?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,m.jsx)(t.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:240,paddingY:10,children:(0,m.jsx)(t.xu,{marginTop:8,children:(0,m.jsx)(t.qd,{align:"center",color:"light",size:S?"600":"400",children:x?b||P:v})})})}),!x&&(0,m.jsx)(t.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(t.hU,{accessibilityLabel:_._('Close pin clickable wash', 'mweb.unauth.plp.clickable_wash.close_button', 'Close button'),icon:"close",iconColor:"inverse",onClick:({event:n})=>{n.stopPropagation(),e&&(e(!1),y({action:"dismiss",item:"main-pin-hover-overlay"}))},size:"md"})})]})})}},390588:function(e,n,l){l.d(n,{Z:()=>m});var a,i=l(686659),t=l(667294),r=l(167912),s=l(312048),o=l(825605),d=l(787194),u=l(228612),c=l(785893);let p=(0,t.lazy)(()=>l.e("20300").then(l.bind(l,963404))),g=(void 0!==a||(a=l(966131)).hash&&"dd5623c0c7ff2bcd752285dfed3e4aa7"!==a.hash&&console.error("The definition of 'UnauthContextMenuController_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function m({graphqlRef:e,children:n,onSendButtonClick:l}){(0,t.useEffect)(()=>{(0,i.Z)("UnauthContextMenuController","/app/www/closeup/duplo/unauth/UnauthContextMenuController.tsx")},[]);let a=(0,r.useFragment)(g,e)??null,[m,h]=(0,t.useState)(null),[_,y]=(0,t.useState)(""),[f,k]=(0,t.useState)("default"),{pathname:x}=(0,s.TH)(),S=!!m,b=(0,t.useMemo)(()=>({modal:{isShown:S},showUnauthContextMenu:({location:e,pinId:n,vaseSection:l,showSaveCount:a,seoDrawerOptions:i,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r})=>{h({vaseSection:l,seoDrawerOptions:i,showSaveCount:a,seoDrawerModalBody:t,isUnauthAmazonModuleAd:r}),y(n),k(e)},dismissMobileUnauthContextMenu:()=>h(null)}),[S]);(0,t.useEffect)(()=>{h(null)},[x]);let P=(0,u.S6)()(_),v=a||(P?{type:"Legacy",data:P}:null);return(0,c.jsxs)(d.M,{value:b,children:[n,m&&v&&(0,c.jsx)(o.Z,{children:(0,c.jsx)(p,{isUnauthAmazonModuleAd:m.isUnauthAmazonModuleAd,location:f||"default",onDismiss:b.dismissMobileUnauthContextMenu,onSendButtonClick:l,pinKey:v,seoDrawerModalBody:m.seoDrawerModalBody,seoDrawerOptions:m.seoDrawerOptions,showSaveCount:m.showSaveCount,vaseSection:m.vaseSection})})]})}},971350:function(e,n,l){l.d(n,{Z:()=>t});var a=l(501010),i=l(774838);function t(e,n){let{countryFromIp:l,country:t}=(0,i.B)(),{checkExperiment:r}=(0,a.Z)();if(n||!e||!["US"].includes(l||t))return!1;let{anyEnabled:s}=r("mweb_closeup_unauth_asr_module");return s}},173285:function(e,n,l){l.d(n,{Z:()=>s,m:()=>r});var a=l(667294),i=l(785893);let t=(0,a.createContext)({isScrolledToPins:!1,scrollToPins:()=>{}});function r({children:e}){let[n,l]=(0,a.useState)(!1),r=(0,a.useMemo)(()=>({isScrolledToPins:n,scrollToPins:l}),[n,l]);return(0,i.jsx)(t,{value:r,children:e})}let s=()=>(0,a.use)(t)},270914:function(e,n,l){l.d(n,{Z:()=>t});var a=l(501010),i=l(774838);function t(e){let{locale:n,isAuthenticated:l}=(0,i.B)();return function({translatedText:e,locale:n,experimentsClient:l,isAuthenticated:a}){if(a||!e)return!1;let{group:i}=l.checkExperiment("unauth_web_closeup_text_machine_translation",{dangerouslySkipActivation:!0}),t=!!i;return n.startsWith("en")&&t?!!(l.checkExperiment("unauth_web_closeup_text_machine_translation").group||"".startsWith("enabled_en")):!!t&&!!(l.checkExperiment("unauth_web_closeup_text_machine_translation").group||"".startsWith("enabled_intl"))}({translatedText:e,locale:n,experimentsClient:(0,a.Z)(),isAuthenticated:l})}},823131:function(e,n,l){l.d(n,{Z:()=>t,j:()=>a});let{Provider:a,get:i}=(0,l(213491).Z)("MoreLikeThisContext"),t=i},329706:function(e,n,l){l.r(n),l.d(n,{default:()=>h});var a=l(686659),i=l(667294),t=l(391995),r=l(104999),s=l(935059),o=l(24246),d=l(736328),u=l(893957),c=l(953238),p=l(301527),g=l(305375),m=l(785893);function h({pinId:e,padding:n,withReactions:l=!0,onCommentButtonClick:h}){(0,i.useEffect)(()=>{(0,a.Z)("CommentThreadModalEntryPoint","/app/www/comments/CommentThreadModalEntryPoint.tsx")},[]);let _=(0,o.Z)(),y=(0,r.Z)(),{comment_id:f}=(0,g.Z)(),{unauthCommentPinId:k}=(0,p.o)(),{isStoryPin:x,commentModalConfig:{isCommentThreadModalOpen:S,setIsCommentThreadModalOpen:b}}=(0,c.B)(),{isAuth:P}=(0,s.Z)(),v=(0,d.Z)(),w=_._('comments', 'closeup.storyPin.actionBar.commentThread', 'Comments entry point');return(0,u.Z)(()=>{!S&&(f||P&&k&&e&&k===e)&&b(!0)}),(0,m.jsx)(i.Fragment,{children:(0,m.jsx)(t.xu,{"data-test-id":"comment-button",children:(0,m.jsx)(t.hU,{accessibilityLabel:w,icon:P&&l?"speech-heart":"speech",onClick:()=>{P||v({action:"click",item:"comment-button"}),y({event_type:102,element:2,view_type:3}),y({component:x?13801:13464,element:x?10944:2,event_type:10554,view_type:x?1:3}),b(!0),h&&h()},padding:n,size:"lg"})})})}},899681:function(e,n,l){l.d(n,{EU:()=>r,IO:()=>t,ZR:()=>s,rT:()=>i,zu:()=>a});let a="OPEN_UNAUTH",i=["US","CA","NZ","AU"],t=new Set(["GB","IE"]),r=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),s=new Set(["BR","MX","AR","CL","CO","PE"])},623830:function(e,n,l){l.d(n,{Z:()=>i});var a=l(767415);let i=e=>{(0,a.nP)(`closeup.image.clicked.${e}`,{sampleRate:1,tags:{platform:"mobile"}})}},846277:function(e,n,l){function a(e){return!!e?.is_matured_new_user}l.d(n,{IR:()=>r,V0:()=>a,Wn:()=>t,xT:()=>i});let i=e=>!!e&&2===e.login_state,t=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function r(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}},407678:function(e,n,l){l.d(n,{$K:()=>r,Hg:()=>i,g6:()=>t,w6:()=>a});let a=(e,n)=>Array.from({length:n-e},(n,l)=>l+e),i=508,t=600;function r(e){return null!=e}},838751:function(e,n,l){l.d(n,{Z:()=>a});let a=({name:e,width:n,height:l})=>{let a=`${n}${"number"==typeof n?"px":""}`,i=`${l}${"number"==typeof l?"px":""}`,t="number"==typeof n?n:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${t} ${i};
  width: ${a};
  height: ${i};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${t}px 0;
  }
  100% {
      background-position: ${t}px 0;
  }
}
`}},26499:function(e,n,l){l.d(n,{Bb:()=>y,Bx:()=>d,F4:()=>o,Qj:()=>u,_6:()=>_,gv:()=>s,hg:()=>c,is:()=>m,jP:()=>h,lt:()=>r,oM:()=>p,wI:()=>g});var a=l(37321),i=l(646108),t=l(341687);let r=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),s=({firstName:e,i18n:n})=>e?(n._('{{ name }} invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends({{ name }}) board')).replace("{{ name }}",e):n._('Your friends invited you to join their board', 'limitedLogin.modalHeader.groupBoardCollab', 'Mobile Modal prompting users to join a friends board'),o=e=>{let n=(0,t.Z)(e.search).board_url;if(n){let e=(0,i.Z)(n),l=(0,a.Z)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${l}`:`${e}?${l}`}return e.pathname},d=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),u=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return n},c=e=>e._('Log in to send this Pin', 'limitedLogin.modalHeader.send', 'Title on mobile web limited login modal to prompt users to login after they clicked send button.'),p=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),g=e=>{let n=e.pathname;if(n.startsWith("/pin/")){let e=n.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return n},m=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.'),h=e=>e._('Log in to hide this Pin', 'limitedLogin.modalHeader.hidePin', 'Title on mobile web limited login modal to prompt users to login after they clicked hide Pin button.'),_=e=>e._('Log in to share the profile', 'limitedLogin.modalHeader.shareProfile', 'Title on mobile web limited login modal to prompt users to login after they clicked share button on profile page.'),y=e=>e._('Log in to create a board', 'limitedLogin.modalHeader.createBoard', 'Title on mobile web limited login modal to prompt users to login to create a board.')},127672:function(e,n,l){l.d(n,{Z:()=>tJ});var a,i,t,r,s,o,d,u,c,p,g,m,h,_,y,f,k,x,S,b,P,v,w,T,I,C,E,F,j,L,A,R,K,D,Z,B,O,N,M,U,z,V=l(686659),H=l(667294),G=l(581722),W=l(422578),Y=l(312048),$=l(391995),q=l(489325),X=l(4533),Q=l(818244),J=l(629724),ee=l(824870),en=l(955106),el=l(935059),ea=l(183e3),ei=l(400962),et=l(433069),er=l(456871),es=l(566431),eo=l(501010),ed=l(830031),eu=l(23641),ec=l(774838),ep=l(565649),eg=l(341687),em=l(854897),eh=l(739405),e_=l(893957),ey=l(874288),ef=l(68876),ek=l(167912),ex=l(759271),eS=l(64471),eb=l(104999),eP=l(198617),ev=l(319226),ew=l(24246),eT=l(216975),eI=l(736328),eC=l(481889),eE=l(20717),eF=l(785893);function ej({onDismiss:e}){(0,H.useEffect)(()=>{(0,V.Z)("SocialUnauthPinLandingReplyBannerUpsell","/app/packages/desktopLoginModal/SocialUnauthPinLandingReplyBannerUpsell.tsx")},[]);let n=(0,ew.Z)(),l=(0,Q.g)(),a=(0,eE.cO)(),i=a?.data?.popoverData,{expGroup:t=""}=i||{},{trackConversionUpsell:r}=(0,eC.Z)(),s=(0,eI.Z)();if("enabled_banner_reply"!==t||!i)return null;let{inviterAvatarUrl:o,inviterName:d}=i;return(0,eF.jsx)($.kC,{justifyContent:"center",children:(0,eF.jsx)($.xu,{marginBottom:3,maxWidth:960,paddingX:5,children:(0,eF.jsxs)($.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",display:"flex",paddingX:3,paddingY:2,rounding:400,children:[(0,eF.jsx)($.xu,{marginEnd:2,children:(0,eF.jsx)(ev.qE,{name:d,outline:!0,size:"md",src:o})}),(0,eF.jsxs)($.xu,{direction:"column",display:"flex",flex:"grow",marginEnd:16,children:[(0,eF.jsx)($.xu,{children:(0,eF.jsx)($.qd,{size:"300",children:(0,eT.nk)(n._('Let {{ name }} know what you think', 'dweb.unauth.bottom_right_upsell.banner_reply.title', 'Prompt shown on the bottom right upsell for unauth social pin landing page. name: sender name'),{name:d})})}),(0,eF.jsx)($.xu,{children:(0,eF.jsx)($.xv,{children:n._('Sign up for Pinterest to continue the conversation and share your own ideas', 'dweb.unauth.bottom_right_upsell.banner_reply.text', 'Prompt shown on the bottom right upsell for unauth social pin landing page.')})})]}),(0,eF.jsx)($.xu,{marginEnd:3,children:(0,eF.jsx)($.zx,{color:"primary",onClick:()=>{r({element:13506,eventType:14689}),s({action:"click",item:"unauth-social-reply-button",within:"unauth-social-reply"}),l?.showDesktopSignupModal({...eP.xp,signupFlow:{type:"login"}})},text:n._('Reply', 'unauth.dweb.banner_upsell.reply.button.text', 'Text on the upsell banner to encourage the user to reply to the sender')})}),(0,eF.jsx)($.xu,{children:(0,eF.jsx)($.hU,{accessibilityLabel:n._('Dismiss banner', 'unauth.dweb.banner_upsell.dismiss.button.text', 'Text on the upsell banner to dismiss the banner'),icon:"close",onClick:e,size:"sm"})})]})})})}var eL=l(470205),eA=l(647636),eR=l(375217),eK=l(81342),eD=l(664300),eZ=l(176714),eB=l(331357),eO=l(583845),eN=l(31725),eM=l(783734),eU=l(173874),ez=l(126206),eV=l(415645),eH=l(124631),eG=l(455211),eW=l(427052),eY=l(825605),e$=l(233550),eq=l(923298),eX=l(730448),eQ=l(935833),eJ=l(698808),e0=l(413211);function e1(e,n){let[l,a]=(0,H.useState)(e),i=(0,H.useRef)(new Map),t=(0,H.useRef)(n),r=t.current;if(r!==n){t.current=n,i.current.set(r,l);let s=i.current.get(n)??e;return a(s),[s,a]}return[l,a]}var e2=l(535917),e3=l(721193),e6=l(464094),e5=l(720408),e4=l(899497),e8=l(806513),e9=l(112658),e7=l(335335),ne=l(40763);let nn=()=>{let e=(0,ne.Z)({skipExpActivation:!0});return{boxShadow:e?void 0:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32,border:e?"1px solid #CDCDCD":void 0,zIndex:e?1:void 0,overflow:"clip"}};var nl=l(310758),na=l(407678),ni=l(819331);let nt=({children:e,mainImageEventHandlers:n})=>{let l=(0,eh.ZP)();return n?(0,eF.jsx)(nl.Z,{onMouseEnter:n?.onMouseEnter,onMouseLeave:n?.onMouseLeave,onTouch:n?.onTouch,pressState:"desktop"===l?"none":"compress",rounding:200,children:e}):e},nr=({detail:e,inPinCardOverflowExp:n,isShowingBreadcrumbs:l,media:a,sideBySideOptions:{mainImageEventHandlers:i}})=>{let t=(0,eh.ZP)(),{isRTL:r}=(0,ec.B)(),s=(0,ne.Z)({skipExpActivation:!0}),o=nn(),d=(0,H.useRef)(null),[u,c]=(0,H.useState)(),p="desktop"===t?8:"undefined"!=typeof window&&window.screen&&window.screen.width<750?0:54,g="phone"!==t?na.Hg:"47vw";s&&(g="100%");let m="phone"!==t?0:"desktop"===t?8:10;return(0,H.useEffect)(()=>{if(d.current){let{clientHeight:e}=d.current;c(e)}},[d]),(0,eF.jsx)($.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{...o,paddingLeft:s?r?"16px":void 0:"20px",paddingRight:s?r?void 0:"16px":"20px"}},maxWidth:s?void 0:1059,paddingY:s?void 0:5,width:s?"100%":void 0,children:(0,eF.jsxs)($.xu,{dangerouslySetInlineStyle:"phone"!==t?{__style:{justifyContent:"center"}}:{__style:{marginTop:54*!l,marginRight:p,marginBottom:54,marginLeft:p,boxShadow:"desktop"===t?void 0:"0px 0px 8px rgba(0, 0, 0, 0.1)"}},display:"flex",minHeight:s?"100%":"40vh",overflow:"phone"!==t?void 0:"hidden",position:"relative",rounding:"desktop"===t?void 0:600,children:[(0,eF.jsx)($.xu,{ref:d,display:"phone"!==t?"block":"flex",height:"100%",justifyContent:"center",overflow:"phone"!==t?void 0:"hidden",paddingX:m,rounding:"desktop"!==t||s?void 0:800,width:g,children:(0,eF.jsx)(nt,{mainImageEventHandlers:i,children:a})}),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{containerType:s?"size":void 0}},direction:"column",display:"flex",height:n&&!s?u:void 0,justifyContent:"between",minHeight:s?"fit-content":void 0,overflow:n?"auto":void 0,paddingX:m,width:g,children:e})]})})})},ns=({closeupPinActionBar:e,detail:n,inPinCardOverflowExp:l,isShowingBreadcrumbs:a,media:i,sideBySideOptions:t})=>{let r;(0,H.useEffect)(()=>{(0,V.Z)("CloseupBodyLayout","/app/www/closeup/duplo/CloseupBodyLayout.tsx")},[]);let s=(0,eh.ZP)(),{storyPinHeight:o}=(0,ni.Z)();return r="desktop"===s?void 0:"phone"===s?na.g6:"number"==typeof o?9*o/16:na.Hg,t?(0,eF.jsx)($.xu,{"data-test-id":"closeup-body-landscape",marginEnd:"auto",marginStart:"auto",children:(0,eF.jsx)(q.Z,{id:"CloseupBodySideBySideLayout",children:(0,eF.jsx)(nr,{detail:n,inPinCardOverflowExp:l,isShowingBreadcrumbs:a,media:i,sideBySideOptions:t})})}):(0,eF.jsxs)($.xu,{"data-test-id":"closeup-body-portrait",marginEnd:"auto",marginStart:"auto",maxWidth:r,children:[a||"desktop"===s?(0,eF.jsx)(e7.Z,{roundedForLargeDevice:!0,children:i}):i,e,n]})};var no=l(704089),nd=l(633735),nu=l(361004),nc=l(369756),np=l(228495),ng=l(724903),nm=l(351736),nh=l(171556),n_=l(178315),ny=l(447926),nf=l(696749),nk=l(385114);let nx=(void 0!==a||(a=l(769335)).hash&&"2e464db34007ea4c1c0752bf62bbb542"!==a.hash&&console.error("The definition of 'VaseFullBleedModal_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function nS({pinKey:e,onClose:n,zIndex:l}){(0,H.useEffect)(()=>{(0,V.Z)("VaseFullBleedModal","/app/packages/VaseFullBleedModal.tsx")},[]);let a=(0,ea.Z)(nx,e),i=a.board?.name,t=a.board?.privacy==="protected"?null:a.board?.url,r=(0,ew.Z)(),s=(0,eI.Z)(),o=t&&i?{boardName:i,boardUrl:t,username:t.split("/")[1]}:null;return(0,e_.Z)(()=>{a.description?.trim()||o||(0,eQ.My)("lop.dweb.plp.more_info.empty")}),(0,eF.jsx)("div",{"data-test-id":"more-information-modal",onClick:()=>{s({action:"click",item:"close-more-information-modal"}),n()},style:{backgroundColor:"rgba(85, 85, 85, 0.9)",color:"#333",height:"100vh",left:0,position:"fixed",top:0,WebkitFontSmoothing:"antialiased",width:"100vw",zIndex:l||2},children:(0,eF.jsxs)($.xu,{as:"section",color:"default",dangerouslySetInlineStyle:{__style:{left:"50%",top:"50%",transform:"translate(-50%, calc(-50% - 32px))",paddingBottom:"10px"}},onClick:e=>e.stopPropagation(),position:"absolute",rounding:200,width:414,children:[(0,eF.jsxs)($.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:"solid 1px #efefef",padding:"0 24px"}},display:"flex",height:60,justifyContent:"end",children:[(0,eF.jsx)("div",{onClick:()=>n(),onKeyUp:()=>n(),role:"button",style:{cursor:"pointer",fill:"#767676",marginTop:"20px"},tabIndex:0,children:(0,eF.jsx)($.xu,{"data-test-id":"close-more-information-modal",children:(0,eF.jsx)($.JO,{accessibilityLabel:r._('Cancel', 'close modal icon', 'close modal icon'),icon:"close",inline:!0,size:18})})}),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{fontSize:"21px",fontWeight:"bold",left:"50%",transform:"translateX(-50%)"}},marginTop:5,position:"absolute",children:r._('More information', 'more information label', 'more information label')})]}),(0,eF.jsxs)($.xu,{dangerouslySetInlineStyle:{__style:{maxHeight:"calc(60vh - 60px)",overflowY:"auto",padding:"0 24px 24px 24px"}},children:[!!a.description&&(0,eF.jsx)("h2",{style:{fontSize:"16px",marginTop:"15px"},children:a.description}),!!o&&(0,eF.jsx)($.xu,{marginTop:3,children:(0,eF.jsx)($.xe,{children:(0,eT.nk)(r._('Find this Pin and more on {{ board_link }} by {{ profile_link }}.', 'Link to pin\'s board and board\'s owner', 'Link to pin\'s board and board\'s owner'),{board_link:(0,eF.jsx)($.xe,{inline:!0,weight:"bold",children:(0,eF.jsx)($.rU,{display:"inlineBlock",href:o.boardUrl,onClick:()=>(0,eQ.NC)("click_vase_modal_board",!0),underline:"hover",children:o.boardName},"board-link")}),profile_link:(0,eF.jsx)($.xe,{inline:!0,weight:"bold",children:(0,eF.jsx)($.rU,{display:"inlineBlock",href:`/${o.username}/`,onClick:()=>(0,eQ.NC)("click_vase_modal_profile",!0),underline:"hover",children:a.pinner?.fullName||o.username},"profile-link")})})})})]})]})})}var nb=l(15392);let nP=(void 0!==i||(i=l(402891)).hash&&"91cf1b742f42f2f57e9e89991ad2eebd"!==i.hash&&console.error("The definition of 'CloseupDescriptionMediaAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function nv({pin:e}){let n=(0,ew.Z)(),{author:l,authorUrl:a,ccUrl:i,link:t,mediaType:r,providerName:s}=e.mediaAttribution||{},o=!!s&&"Unknown"!==s,d={author:(0,eF.jsx)($.xu,{display:"inlineBlock",children:(0,eF.jsx)($.rU,{href:a||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",weight:"bold",children:l})},"author")},"author"),provider:o?(0,eF.jsx)($.xu,{display:"inlineBlock",marginEnd:1,children:(0,eF.jsx)($.rU,{href:t||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",weight:"bold",children:s})},"provider")},"provider"):null},u=o?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return l&&(u="VIDEO"===r?o?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):o?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,eF.jsx)($.xu,{"data-test-id":"media-attribution",display:"inlineBlock",children:(0,eF.jsxs)($.xe,{inline:!0,size:"200",children:[!!u&&(0,eT.nk)(u,d),i&&(0,eF.jsx)($.rU,{href:i,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nw({pinKey:e}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupDescriptionMediaAttribution","/app/www/closeup/duplo/CloseupDescriptionMediaAttribution.tsx")},[]);let n=(0,ea.Z)(nP,e);return n&&(0,eF.jsx)(nv,{pin:n})}let nT=(void 0!==t||(t=l(969834)).hash&&"5dff28be2de95106e382c42d78ad1833"!==t.hash&&console.error("The definition of 'CloseupDescriptionPhotoAttribution_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t);function nI({pin:e}){let n=(0,ew.Z)(),{authorUrl:l,authorName:a,url:i,providerName:t,ccUrl:r}=e.attribution||{},s=e.attribution?.embed?.src,{type:o,src:d,subtype:u}=e.embed||{},c=!!t&&"Unknown"!==t,p={author:(0,eF.jsx)($.xu,{display:"inlineBlock",children:(0,eF.jsx)($.rU,{href:l||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",weight:"bold",children:a})},"author")},"author"),provider:c?(0,eF.jsx)($.xu,{display:"inlineBlock",marginEnd:1,children:(0,eF.jsx)($.rU,{href:i||"",onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"always",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",weight:"bold",children:t})},"provider")},"provider"):null},g=c?n._('from {{ provider }}', 'closeup.description.imageSourceWithProvider', 'Image source attribution without author on pin closeup'):null;return a&&(g=(d||s)&&"gif"!==o&&"pinstory"!==u?c?n._('Video by {{ author }} on {{ provider }}', 'closeup.description.videoSourceWithProvider', 'Video source attribution on pin closeup'):n._('Video by {{ author }}', 'closeup.description.videoSource', 'Video source attribution without provider on pin closeup'):c?n._('Photo by {{ author }} on {{ provider }}', 'closeup.description.photoSourceWithProvider', 'Photo source attribution on pin closeup'):n._('Photo by {{ author }}', 'closeup.description.photoSource', 'Photo source attribution without provider on pin closeup')),(0,eF.jsx)($.xu,{"data-test-id":"photo-attribution",display:"inlineBlock",children:(0,eF.jsxs)($.xe,{inline:!0,size:"200",children:[!!g&&(0,eT.nk)(g,p),r&&(0,eF.jsx)($.rU,{href:r,onClick:({dangerouslyDisableOnNavigation:e})=>e(),rel:"nofollow",underline:"none",children:(0,eF.jsx)($.xe,{inline:!0,size:"200",children:n._('(cc)', 'creative commons link text', 'creative commons link text')})},"link")]})})}function nC({pinKey:e}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupDescriptionPhotoAttribution","/app/www/closeup/duplo/CloseupDescriptionPhotoAttribution.tsx")},[]);let n=(0,ea.Z)(nT,e);return n&&(0,eF.jsx)(nI,{pin:n})}var nE=l(743260),nF=l(677650),nj=l(269544),nL=l(113759),nA=l(767415);let nR=(void 0!==r||(r=l(88491)).hash&&"b4f48330d3cfef3a6198d0d824c5d6d5"!==r.hash&&console.error("The definition of 'CloseupDescriptionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),nK=(void 0!==s||(s=l(621824)).hash&&"f37e1b73e206db5c55cd60f9da135e1e"!==s.hash&&console.error("The definition of 'CloseupDescriptionTextContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function nD({instagramPostLink:e,text:n,shouldTruncateDescription:l,expandedText:a,setExpandedText:i,pinKey:t}){let r=(0,ea.Z)(nK,t),{isAuthenticated:s,isBot:o}=(0,ec.B)(),d=(0,eh.ZP)(),u=l?1:2,c=(0,eI.Z)(),p=(0,nm.vs)(),{closeupWithinMasonryEnabled:g,peekCloseupEnabled:m}=(0,nL.x4)(),{mWebCloseupRedesignEnabled:h,mWebCloseupRedesignExpGroup:_}=(0,ex.Z)(),y=(0,H.useCallback)(()=>{a||s||((0,eQ.NC)("click_open_description"),c({action:"click",item:"more-description"})),i(!a),h&&(0,nA.nP)("mweb.closeup.description.toggle",{tags:{in_experiment:h,exp_group:_??"none"}})},[a,s,c,i,h,_]);return o?(0,eF.jsx)($.xe,{inline:!0,children:(0,nF.Z)({closeupWithinMasonryEnabled:g,peekCloseupEnabled:m,text:n})}):"desktop"!==d?(0,eF.jsx)(nj.Z,{description:n,handleToggle:y,instagramPostLink:e,isExpanded:a,maxHeight:h?23*u:22*u,pinKey:r,Wrapper:({children:e})=>(0,eF.jsx)("h2",{style:{fontSize:"14px",wordWrap:"break-word",textAlign:"start",marginBottom:h?"4px":void 0,marginTop:h?"4px":void 0},children:e})}):(0,eF.jsxs)(nE.Z,{isDarkMode:p,children:[(0,nF.Z)({text:n}),e]})}function nZ({instagramPostLink:e,photoAttribution:n,text:l,shouldTruncateDescription:a=!1,expandedText:i,setExpandedText:t,additionalNote:r="",pinKey:s}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupDescriptionText","/app/www/closeup/duplo/CloseupDescriptionText.tsx")},[]);let o=(0,ea.Z)(nR,s),d=(0,eh.ZP)(),u=(0,eI.Z)(),c=l?`${l}

${r}`:r;return l=r?c:l,(0,eF.jsxs)($.xu,{dangerouslySetInlineStyle:{__style:r?{textAlign:"phone"===d?"start":void 0,whiteSpace:"pre-line"}:{textAlign:"phone"===d?"start":void 0}},"data-test-id":"CloseupDescriptionContainer",maxWidth:"100%",children:[n,l&&(0,eF.jsx)($.xu,{"data-test-id":"main-pin-description-text",children:(0,eF.jsx)($.iP,{onTap:()=>{u({action:"click",item:"main-pin-description-text"})},children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{cursor:"auto"}},children:(0,eF.jsx)(nD,{expandedText:i,instagramPostLink:e,pinKey:o,setExpandedText:t,shouldTruncateDescription:a,text:l})})})})]})}var nB=l(270914);let nO=(void 0!==o||(o=l(521777)).hash&&"27b9d263a6be0490f4e228b3a3144e28"!==o.hash&&console.error("The definition of 'CloseupDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function nN({instagramPostLink:e,pinKey:n,shouldTruncateDescription:l=!1,expandedText:a,setExpandedText:i}){let t;(0,H.useEffect)(()=>{(0,V.Z)("CloseupDescription","/app/www/closeup/duplo/CloseupDescription.tsx")},[]);let r=(0,ew.Z)(),{isAuthenticated:s,locale:o}=(0,ec.B)(),d=(0,ea.Z)(nO,n),{closeupUnifiedDescription:u}=d?.translations||{closeupUnifiedDescription:""},c=(0,nB.Z)(u);if(!d)return null;let{closeupUnifiedDescription:p,unauthOnPageDescription:g}=d,m=d.richMetadata?.article?.datePublished??"",h=!!d.attribution,_=!!d.mediaAttribution,y=d.pinAdditionalNote||"",f=m&&new Date(m),k=null;c&&(k=u);let x=k||g,S=s?p?.trim():x,b=f&&((e,n)=>{if(e){let n=e.getTime();return new Date().getTime()-n<=63072e6}return!1})(f,0)&&S?(0,eT.nk)(r._('{{ pinDescription }} Published on {{ date }}', 'closeup.details.descirptionWithPublishedDate', 'Pin description with publish date'),{date:function(e,n){try{return new Intl.DateTimeFormat(n,{month:"long",day:"numeric",year:"numeric",calendar:"gregory"}).format(e)}catch(n){return e?e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate():""}}(f,o),pinDescription:S}).join(""):S;return(h||_)&&(t=(0,eT.nk)(S?"{{ credit }}   ":"{{ credit }}",{credit:_?(0,eF.jsx)(nw,{pinKey:d},"article-pin"):(0,eF.jsx)(nC,{pinKey:d},"article-pin"),descriptionToDisplay:b})),(0,eF.jsx)(nZ,{additionalNote:y,expandedText:a,instagramPostLink:e,photoAttribution:t,pinKey:d,setExpandedText:i,shouldTruncateDescription:l,text:S})}var nM=l(234278),nU=l(530786),nz=l(625655);let nV=(void 0!==d||(d=l(916965)).hash&&"66ce59eb9fa2a37bf75972a3f30769af"!==d.hash&&console.error("The definition of 'CloseupDetailsBasicsLayout_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d);function nH({pinKey:e}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupDetailsBasicsLayout","/app/www/closeup/duplo/CloseupDetailsBasicsLayout.tsx")},[]);let n=(0,ew.Z)(),l=(0,ea.Z)(nV,e),a=l.storyPinData?.metadata?.basics,i=a?.listBlocks,t=l.storyPinData?.metadata?.templateType,r=new Map([[null,n._('Notes', 'Closeup.CloseupDetailsBasicsLayout.notesLayoutTitle', 'Label for button to expand notes Story Pin details')],[1,n._('Ingredients', 'Closeup.CloseupDetailsBasicsLayout.recipeLayoutTitle', 'Label for button to expand ingredients Story Pin details')],[2,n._('Supplies', 'Closeup.CloseupDetailsBasicsLayout.diyHomeLayoutTitle', 'Label for button to expand supplies Story Pin details')]]);return(0,eF.jsx)($.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:i&&i.length>0&&(0,eF.jsxs)($.xu,{dangerouslySetInlineStyle:{__style:{rowGap:16}},direction:"column",display:"flex",marginTop:4,children:[(0,eF.jsx)(nz.Z,{marginStart:e8.D6+nU.xh}),(0,eF.jsx)(nM.Z,{heading:r.get(t)||"",children:(0,eF.jsx)(({children:e})=>(0,eF.jsx)($.kC,{direction:"column",gap:4,children:e}),{children:i.map((e,n)=>{let l=`${e.heading||"empty"}-${n}-listHeading`;return(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{}),(0,eF.jsx)($.xe,{size:nu.n,weight:"bold",children:e.heading}),(e.blocks??[]).map((n,l)=>{let a=`item-${l}-${e.heading||"empty"}`;return(0,eF.jsx)(H.Fragment,{children:(0,eF.jsx)($.xu,{marginBottom:1,children:(0,eF.jsxs)($.xe,{size:nu.n,children:[" ",n.text?n.text:""]})})},a)})]},l)})})})]})})}var nG=l(251089),nW=l(546151);let nY=(void 0!==u||(u=l(198941)).hash&&"b6ff0bacc7b201a7809b5103754b885e"!==u.hash&&console.error("The definition of 'CloseupPinLinkCredits_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function n$({onClickTitleOrDomain:e,nativeCreatorVerifiedWebsite:n,pinKey:l}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupPinLinkCredits","/app/www/closeup/duplo/CloseupPinLinkCredits.tsx")},[]);let{isAuthenticated:a}=(0,ec.B)(),i=(0,nG.Z)(),t=(0,ew.Z)(),r=(0,eI.Z)(),s=(0,eb.Z)(),o=(0,ea.Z)(nY,l),d=o?.domain,u=o?.richMetadata?.products?.[0],c=o?.richSummary?.products?.[0],p=o?.imageSignature,g=!!u?.offerSummary,m=u?.name,h=!!u?.offerSummary,_=c?.name,y=(0,es._S)(d)?(0,nW.Fc)({i18n:t,hasRichMetadataProductOfferSummary:g,richMetadataProductName:m,richSummaryProductName:_,hasRichSummaryProductOfferSummary:h}):void 0,f=n||d,k=n?new URL(n).hostname:d,x=(0,es._S)(f);return(0,eF.jsx)($.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:(0,eT.nk)(t._('{{ pinCreditPrefix }} {{ pinCredit }}', 'tells the user where the pin is from in the form of Saved from website', 'tells the user where the pin is from in the form of Saved from website'),{pinCreditPrefix:(0,eF.jsx)($.xu,{display:"inlineBlock",children:(0,eF.jsx)($.xe,{inline:!0,size:nu.n,children:y})},"pinCreditsPrefix"),pinCredit:x?(0,eF.jsx)($.xu,{"data-test-id":"pin-domain-link",display:"inlineBlock",marginStart:+!!y,maxWidth:"60vw",children:(0,eF.jsx)($.iP,{onTap:({event:l})=>{a||s({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!n}}),l.preventDefault(),l.stopPropagation(),r({action:"click",item:"pin-domain-link"}),a||((0,eQ.NC)("click_pin_closeup_link_clickthrough"),i({imageSignature:p,pinId:o?.entityId??"",domain:f,link:f,source:nG.W.PIN_DOMAIN_LINK})),e()},tapStyle:"compress",children:(0,eF.jsx)($.xe,{lineClamp:1,size:nu.n,children:(0,eF.jsx)("span",{style:{textDecoration:"underline"},children:k})},"pinLinkDomain")})},"pinCredits"):""})})}var nq=l(331506),nX=l(157498),nQ=l(222913);let nJ=({children:e,handleTap:n})=>n?(0,eF.jsx)(nl.Z,{onTouch:n,pressState:"compress",children:e}):e,n0=(void 0!==c||(c=l(528642)).hash&&"5a2bf83c3b936ae5d462a5ccf3103923"!==c.hash&&console.error("The definition of 'CloseupTitle_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c);function n1({onClick:e,hasLink:n,forceSmallerHeading:l,textAlign:a,pinKey:i,lineClamp:t,size:r}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupTitle","/app/www/closeup/duplo/CloseupTitle.tsx")},[]);let s=(0,ea.Z)(n0,i),o=(0,eh.ZP)(),{isAuthenticated:d,isBot:u}=(0,ec.B)(),c=(0,nX.LO)(),p=(0,eI.Z)(),g=(0,eN.Z)(c?.created_at)&&!c?.is_matured_new_user,{gridTitle:m,isGoLinkless:h,seoNoindexReason:_,storyPinDataId:y}=s,f=s.pinJoin?.visualAnnotation||void 0,k=s.title,x=s.richMetadata?.title??"",S=s.richSummary?.displayName??"",b=s.storyPinData?.metadata?.pinTitle,{unauthOnPageTitle:P}=s,v=(0,nq.Ly)({pinTitle:k,gridTitle:m,richSummaryDisplayName:S,richMetadataTitle:x,storyPinDataId:y,storyPinDataMetadataPinTitle:b,pinJoinVisualAnnotation:f,seoNoindexReason:_,shouldUseSimplifiedTitle:!d}),{closeupUnifiedTitle:w}=s.translations||{closeupUnifiedTitle:""},T=(0,nB.Z)(w),I=null;T&&(I=w);let C=!d&&(I||P)||v;return(0,eF.jsx)(nQ.Z,{hash:"details",offset:-n_.R$,children:(0,eF.jsx)($.kC,{alignItems:"desktop"===o?"start":"center",direction:"column",justifyContent:"center",children:(0,eF.jsx)($.xu,{alignSelf:"start","data-test-id":"pinTitle",maxWidth:"100%",children:(0,eF.jsx)(nJ,{handleTap:"desktop"!==o&&n&&!h?n=>{n.preventDefault(),n.stopPropagation(),p({action:"click",item:"pin-title",within:"pin-image"}),d||(0,eQ.NC)("unauth_click_pin_closeup_title"),e()}:null,children:(0,eF.jsx)($.qd,{accessibilityLevel:1,align:a||"start",lineClamp:u?void 0:t,overflow:"breakWord",size:r||(l||g?"400":"600"),children:C})})})})})}var n2=l(874202),n3=l(136920),n6=l(27139),n5=l(528395),n4=l(2061);let n8=(void 0!==p||(p=l(195828)).hash&&"2ed8f79733cbeedba9e8a7ed03435228"!==p.hash&&console.error("The definition of 'PinActionBarVisitButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p),n9=({actionButtonText:e,clickthroughInterstitialExperience:n,fullWidth:l,isDesktop:a,nativeCreatorVerifiedWebsite:i,onClick:t,pinKey:r,unauthPdp:s})=>{(0,H.useEffect)(()=>{(0,V.Z)("PinActionBarVisitButton","/app/www/closeup/duplo/PinActionBarVisitButton.tsx")},[]);let o=(0,eb.Z)(),d=(0,ea.Z)(n8,r),u=(0,n5.Z)({clickthroughInterstitialExperience:n,pinKey:d,nativeCreatorVerifiedWebsite:i}),c=(0,eI.Z)(),{logStat:p}=(0,n4.Yg)();return(0,eF.jsx)($.xu,{"data-test-id":"main-pin-section-visit-button",children:(0,eF.jsx)($.zx,{accessibilityLabel:e,color:s&&a?"primary":"secondary",fullWidth:l||!s,onClick:()=>{c({action:"click",item:"main-pin-section-visit-button"}),o({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:!!i}}),p("main_pin_clickthrough"),t&&t(),u()},size:"lg",text:e||""})})};var n7=l(697856);let le=e=>{let n=0;return e.reduce((e,l)=>{let a=l.replace(/,/g,"").split(" ");return n+a.length<=5&&(e.push(a.join(" ")),n+=a.length),e},[]).join(", ")};var ln=l(680405),ll=l(971350);let la=(void 0!==g||(g=l(47978)).hash&&"24328a0181bac8efd06f2d3a98514e10"!==g.hash&&console.error("The definition of 'UnauthAmazonModule_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g);function li({isAuthenticated:e,isPhone:n,pinKey:a,isUnauthAmazonModuleExpanded:i,setIsUnauthAmazonModuleExpanded:t,clientTrackingParams:r}){(0,H.useEffect)(()=>{(0,V.Z)("UnauthAmazonModule","/app/www/closeup/duplo/unauth/UnauthAmazonModule.tsx")},[]);let s=(0,eb.Z)(),o=(0,ew.Z)(),d=(0,n7.Z)(),u=(0,H.useRef)(null),c=(0,H.useRef)(!1),p=(0,ll.Z)(n,e),g=(0,ea.Z)(la,a),m=g.pinJoin?.visualAnnotation;return!function(e,n,a,i){let t=(0,eb.Z)(),{checkExperiment:r}=(0,eo.Z)(),{anyEnabled:s}=r("mweb_closeup_unauth_asr_module_img_signature"),{csp_nonce:o}=(0,ln.N)(),d=(0,H.useRef)(!1);(0,H.useEffect)(()=>{let r=async()=>{if(!d.current)try{await Promise.all([l.e("63406").then(l.t.bind(l,196723,23)),l.e("96433").then(l.t.bind(l,150085,23))])}catch(e){return}if(window.apstag){let{apstag:e}=window,l={publisher:{id:"1cad6947-9007-486e-bc6d-7d5b461925d3"},search:n,...s&&a?{ext:{imageSignature:a}}:{}};e.init({pubID:"5180",signals:{ortb2:{site:l}}}),d.current=!0,e.queue.push(()=>{try{e?.customPlacements().hint("unauth-amazon-module-closeup","default",{nonce:o})}catch(e){}}),e.queue.push(()=>{try{e?.customPlacements().enable()}catch(e){}})}};e&&""!==n&&(r(),t({event_type:16459,view_type:3,view_parameter:4102,component:15248,aux_data:{current_page_url:window.location.href,pin_id:i}}))},[a,s,n,t,o,e,i])}(p,(0,H.useMemo)(()=>le(m||[]),[m]),g.imageSignature||"",g.entityId),(0,H.useEffect)(()=>{let e=new ResizeObserver(n=>{if(c.current)return;let[l]=n,{width:a,height:i}=l?.contentRect??{width:0,height:0},o=a>100&&i>100;o&&(c.current=!0,t(o),s({event_type:170,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:r}),e.disconnect())}),n=u.current;return n&&e.observe(n),()=>{e.disconnect()}},[r,s,t]),(0,H.useEffect)(()=>{let e=e=>{"AMAZON_CUSTOMPLACEMENT_CREATIVE_EVENT"===e.data.type&&"USER_INTERACTION"===e.data.payload.eventCategory&&"showMoreInfo"===e.data.payload.eventName&&d({pinId:g.entityId||"",location:"main-pin-more-information",isUnauthAmazonModuleAd:!0})};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[g.entityId,d]),(0,H.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),s({event_type:12,view_type:3,view_parameter:4102,component:15248,clientTrackingParams:r}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[r,s]),p&&g&&(0,eF.jsxs)(H.Fragment,{children:[i&&(0,eF.jsx)(nz.Z,{}),(0,eF.jsx)($.xu,{display:"flex",justifyContent:"center",marginBottom:2*!!i,marginTop:4*!!i,children:(0,eF.jsx)($.iP,{ref:u,accessibilityLabel:o._('Amazon Shopping Recommendation Module', 'closeup.unauthAmazonModule', 'Accessibility label for tap area that opens Amazon Shopping Recommendation module'),children:(0,eF.jsx)($.xu,{id:"unauth-amazon-module-closeup"})})})]})}let lt=(void 0!==m||(m=l(273204)).hash&&"8357577fd82491ef1bc82e88024f7e01"!==m.hash&&console.error("The definition of 'UnauthIndexExchangeContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m),lr="unauth-index-exchange-ad-closeup";function ls({isUnauthIndexExchangeAdExpanded:e,setIsUnauthIndexExchangeAdExpanded:n,isAuthenticated:a,isPhone:i,pinKey:t,clientTrackingParams:r}){(0,H.useEffect)(()=>{(0,V.Z)("UnauthIndexExchangeContainer","/app/www/closeup/duplo/unauth/UnauthIndexExchangeContainer.tsx")},[]);let s=(0,eb.Z)(),o=(0,ew.Z)(),d=(0,H.useRef)(null),u=(0,H.useRef)(!1),c=function(e,n){let{countryFromIp:l,country:a}=(0,ec.B)(),{checkExperiment:i}=(0,eo.Z)();if(n||!e||["US","CA","MX"].includes(l||a))return!1;let{anyEnabled:t}=i("mweb_closeup_unauth_index_exchange_ad");return t}(i,a),p=(0,ea.Z)(lt,t),g=p?.pinJoin?.visualAnnotation,m=(0,H.useMemo)(()=>le(g||[]),[g]);var h="1150347";let _=(0,eb.Z)(),y=(0,H.useRef)(!1),f=(0,H.useCallback)(e=>{if(e&&e.adId){let n=document.getElementById(e.adUnitCode);if(n){let l=document.createElement("iframe");if(l.scrolling="no",l.frameBorder="0",l.marginHeight="0",l.marginHeight="0",l.name=`prebid_ads_iframe_${e.adUnitCode}`,l.title="3rd party ad content",l.sandbox.add("allow-forms","allow-popups","allow-popups-to-escape-sandbox","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"),l.setAttribute("aria-label","Advertisment"),l.style.setProperty("border","0"),l.style.setProperty("margin","0"),l.style.setProperty("overflow","hidden"),n.appendChild(l),l.contentWindow&&window.pbjs){let n=l.contentWindow.document;window.pbjs.renderAd(n,e.adId);let a=n.createElement("style");a.appendChild(n.createTextNode("/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */button,hr,input{overflow:visible}progress,sub,sup{vertical-align:baseline}[type=checkbox],[type=radio],legend{box-sizing:border-box;padding:0}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}details,main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:ButtonText dotted 1px}fieldset{padding:.35em .75em .625em}legend{color:inherit;display:table;max-width:100%;white-space:normal}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}[hidden],template{display:none}")),n.head.appendChild(a),(0,nA.nP)("mweb.closeup.ix_ad.success",{sampleRate:1})}}}},[]),k=(0,H.useCallback)(()=>{window.pbjs&&window.pbjs.getHighestCpmBids().forEach(f)},[f]);return(0,H.useEffect)(()=>{async function e(){if(!y.current){try{await l.e("8689").then(l.t.bind(l,128363,23)),(0,nA.nP)("mweb.closeup.ix_ad.prebid_load.success",{sampleRate:1})}catch(e){(0,nA.nP)("mweb.closeup.ix_ad.prebid_load.failure",{sampleRate:1})}if(window.pbjs){let{pbjs:e}=window;e.setConfig({debug:!0,ortb2:{site:{keywords:m,search:m}}}),e.bidderSettings={ix:{storageAllowed:!0}},y.current=!0;let n=[{code:lr,mediaTypes:{banner:{sizes:[[320,50],[300,50],[320,100]]}},bids:[{bidder:"ix",params:{siteId:h}}]}];e.que=e.que||[],e.que.push(()=>{e.addAdUnits(n),e.requestBids({timeout:8e3,bidsBackHandler:k})})}}}c&&m&&(e(),(0,nA.nP)("mweb.closeup.ix_ad.pending",{sampleRate:1}),_({event_type:16824,view_type:3,view_parameter:4117,component:15302}))},[lr,c,m,_,k,h]),(0,H.useEffect)(()=>{c&&""===m&&(0,nA.nP)("mweb.closeup.ix_ad.no_keywords",{sampleRate:.1,tags:{pinId:p?.entityId,pinAnnotations:JSON.stringify(g)}})},[c,m,g,p?.entityId]),(0,H.useEffect)(()=>{let e=new ResizeObserver(l=>{if(u.current)return;let[a]=l,{width:i,height:t}=a?.contentRect??{width:0,height:0},o=i>25&&t>25;o&&(u.current=!0,n(o),s({event_type:18,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:r,object_id_str:p?.entityId}),e.disconnect())}),l=d.current;return l&&e.observe(l),()=>{e.disconnect()}},[r,s,p?.entityId,n]),(0,H.useEffect)(()=>{let e=()=>{setTimeout(()=>{let e=document.activeElement;e&&"IFRAME"===e.tagName&&(e.blur(),s({event_type:12,view_type:3,view_parameter:4117,component:15302,clientTrackingParams:r,object_id_str:p?.entityId}),s({event_type:8948,view_type:3,view_parameter:4117,component:15302,aux_data:{click_type:"clickthrough"},clientTrackingParams:r,object_id_str:p?.entityId}))})};return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}},[r,s,p?.entityId]),c&&(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{display:"flex",justifyContent:"center",marginBottom:2*!!e,marginTop:2*!!e,children:(0,eF.jsx)($.iP,{accessibilityLabel:o._('Index Exchange Ad', 'closeup.unauthIndexExchangeContainer', 'Accessibility label for tap area that opens Index Exchange ad'),children:(0,eF.jsx)($.xu,{id:lr})})}),(0,eF.jsx)($.xu,{direction:"column",display:"flex",height:34,marginBottom:-1,marginTop:2,paddingX:2,children:(0,eF.jsxs)($.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,eF.jsx)($.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,eF.jsx)($.xu,{marginTop:1,children:(0,eF.jsx)($.xe,{color:"subtle",lineClamp:1,size:"100",weight:"normal",children:"Sponsored"})})}),(0,eF.jsx)($.xu,{marginTop:-1,children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{float:"right"}},"data-test-id":"IndexExchangeSeeMoreButton",right:!0,children:(0,eF.jsx)($.hU,{accessibilityLabel:o._('See more', 'more information icon', 'more information icon'),icon:"ellipsis",iconColor:"default",onClick:({event:e})=>{e.stopPropagation()},padding:1,size:"md"})})})]})})]})}var lo=l(376312),ld=l(373779),lu=l(400289),lc=l(255508),lp=l(276469);let lg=(void 0!==h||(h=l(765193)).hash&&"e4ec29e546b4d84af24bae98169500db"!==h.hash&&console.error("The definition of 'ProductDescriptionDropdown_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h);function lm({pinKey:e}){(0,H.useEffect)(()=>{(0,V.Z)("ProductDescriptionDropdown","/app/www/shopping/duplo/ProductDescriptionDropdown.tsx")},[]);let n=(0,ea.Z)(lg,e),l={commerceData:{},shouldShowComments:!1,structuredDescription:[{type:lp.X.PARAGRAPH,content:n.closeupUnifiedDescription}],type:"expandable"};return(0,eF.jsx)(lc.Z,{...l})}var lh=l(438185),l_=l(488598),ly=l(675312);let lf=(void 0!==_||(_=l(372102)).hash&&"2a90bea5b9c3258c85eb6cca2267485a"!==_.hash&&console.error("The definition of 'ProductDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_);function lk({closeupCommentModule:e,isImagePinForUnauthOnTablet:n,onClickTitleOrDomain:l,inlinePinActionBar:a,pinKey:i,setIsActionBarInline:t}){let r;(0,H.useEffect)(()=>{(0,V.Z)("ProductDetails","/app/www/shopping/duplo/ProductDetails.tsx")},[]);let{isAuthenticated:s}=(0,ec.B)(),{mWebCloseupRedesignEnabled:o}=(0,ex.Z)(),[d,u]=(0,H.useState)(!1),c=(0,ea.Z)(lf,i),p=c.pinJoin?.visualAnnotation||[],{richMetadata:g,richSummary:m}=c;g?.products?.[0]&&g.products[0].name&&g.products[0].offerSummary&&(r=g.products[0].offerSummary),!r&&m?.products?.[0]&&m.products[0].name&&m.products[0].offerSummary&&(r=m.products[0].offerSummary);let h={min_price:r?.minPrice,max_price:r?.maxPrice,price:r?.price,standard_price:r?.standardPrice,unit_price:r?.unitPrice,unit_pricing_base_units:r?.unitPricingBaseUnits,unit_pricing_unit_type:r?.unitPricingUnitType},_={rating_value:g?.aggregateRating?.ratingValue??void 0,review_count:g?.aggregateRating?.reviewCount??void 0,rating_count:g?.aggregateRating?.ratingCount??void 0},y={free_shipping_price:g?.products?.[0].shippingInfo?.freeShippingPrice,free_shipping_value:g?.products?.[0].shippingInfo?.freeShippingValue},f=c.isOosProduct||r?.inStock===!1,k=!!c.isStaleProduct,x=c.closeupUnifiedDescription??"",{gridTitle:S}=c,b=c.link,P=c.title,v=g?.title??"",w=m?.displayName??"",{storyPinDataId:T}=c,I=c.storyPinData?.metadata?.pinTitle,C=(0,nW.AH)(b),E=x&&x.trim(),F=S||P;s||(F=(0,nq.Ly)({pinTitle:P,gridTitle:S,richSummaryDisplayName:w,richMetadataTitle:v,storyPinDataId:T,storyPinDataMetadataPinTitle:I,pinJoinVisualAnnotation:p})??null);let j=function({isImagePinForUnauthOnTablet:e}){return e?3:2}({isImagePinForUnauthOnTablet:n}),L=(0,ly.Z)(c),A=(0,lp.j)({components:L,pinDescription:E}),R=F&&(0,eF.jsx)($.xu,{marginBottom:o?1:2,marginTop:2*!o,children:(0,eF.jsx)(n1,{forceSmallerHeading:!n,hasLink:C,lineClamp:o&&!d?1:j,onClick:l,pinKey:c,size:o?"300":void 0,textAlign:"start"})}),K=(0,Y.TH)(),D=!s&&(0,eU.isBoardPage)(K),Z=!!(c.promoter&&!c.isDownstreamPromotion)&&c.promoter?.entityId===c.nativeCreator?.entityId,{sponsorship:B,storyPinData:O,affiliateLink:N,affiliateDisclosure:M}=c,U=!!N,z=!!O?.hasAffiliateProducts,G=(!!B||z||U)&&!Z&&!D,W=G&&U||e?2:4,{rating_count:q,review_count:X,rating_value:Q}=_||{},J=!!(q||X)&&!!Q,ee=(0,eF.jsx)(np.Z,{bracket:!0,count:q||X,countFormat:"number",countType:Number(q||0)?"rating":"review",hideSeparationDot:!0,ratingValue:Q,shippingInfo:y&&{freeShippingPrice:y.free_shipping_price,freeShippingValue:y.free_shipping_value}}),en=(0,eF.jsx)(lc.Z,{structuredDescription:A,type:"expandable"}),el=(0,eF.jsx)(nZ,{additionalNote:"",expandedText:d,instagramPostLink:null,photoAttribution:null,pinKey:c,setExpandedText:u,shouldTruncateDescription:!0,text:E||""}),ei=(0,H.useCallback)(e=>[(0,eF.jsx)($.xv,{inline:!0,size:o?"100":void 0,weight:"bold",children:e},"brand-name")],[o]),et=(0,eF.jsx)($.xu,{marginBottom:2*!!o,children:(0,eF.jsx)(lh.Z,{getDisplayName:ei,pinKey:c,size:o?"100":void 0})}),er=(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{display:"inlineBlock",marginStart:2,children:(0,eF.jsx)($.xv,{inline:!0,size:"200",children:""})}),(0,eF.jsx)($.xu,{display:"inlineBlock",marginStart:2,children:ee})]}),es=(0,eF.jsx)(nc.Z,{colorOverride:"default",inlineComponent:o&&J?er:null,isSoldOut:f,isStale:k,productDetails:{maxPrice:h?.max_price,minPrice:h?.min_price,price:h?.price,standardPrice:h?.standard_price,unitPrice:h?.unit_price,unitPricingBaseUnits:h?.unit_pricing_base_units,unitPricingUnitType:h?.unit_pricing_unit_type},textSize:o?"200":void 0,type:"mobileHeading"}),eo=o?3:W;return(0,eF.jsxs)($.xu,{"data-test-id":"product-details",children:[(0,eF.jsx)($.kC,{alignItems:"start",direction:"column",justifyContent:"start",children:(0,eF.jsx)(nh.Z,{onVisibilityChange:e=>{if(!(e&&e.length>0&&t))return;let{intersectionRatio:n,boundingClientRect:l}=e[0],a=l.y<0;t(1===n||a)},options:{threshold:[1]},children:n=>(0,eF.jsxs)($.xu,{ref:n,children:[(0,eF.jsxs)($.xu,{marginBottom:o&&E?0:eo,children:[o?et:null,R,es,!o&&J?(0,eF.jsx)($.xu,{marginBottom:2,children:ee}):null,o?null:et]}),G&&(0,eF.jsx)($.xu,{marginBottom:2,children:(0,eF.jsx)(l_.Z,{affiliateDisclosure:M,hasAffiliateLink:U,hasAffiliateProducts:U})}),o?el:null,e?(0,eF.jsx)($.xu,{marginBottom:3,children:e}):null]})})}),(0,eF.jsx)($.xu,{marginBottom:o?6:void 0,marginTop:o?2:void 0,children:a}),!o&&A.length>0&&(0,eF.jsx)($.xu,{marginTop:o?2:6,width:"100%",children:en})]})}var lx=l(85835),lS=l(392824),lb=l(130384),lP=l(674230),lv=l(673350),lw=l(9065);let lT=(0,lw.Z)(()=>l.e("91578").then(l.bind(l,416709)),void 0,e=>416709,"app-www-Reactions-ReactionAggregation",e=>["91578"]),lI=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,691495)),void 0,e=>691495,"app-www-SeeMoreButton",e=>[]),lC=(0,lw.Z)(()=>l.e("10760").then(l.bind(l,29762)),void 0,e=>29762,"app-www-closeup-duplo-PinRecipe",e=>["10760"]),lE=(0,lw.Z)(()=>l.e("32077").then(l.bind(l,657361)),void 0,e=>657361,"app-common-react-components-GroupBoardCloseup-SavedInfo",e=>["32077"]),lF=(0,lw.Z)(()=>l.e("35563").then(l.bind(l,176658)),void 0,e=>176658,"app-www-closeup-duplo-PinRecipeRating",e=>["35563"]),lj=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,657654)),{ssr:!1},e=>657654,void 0,void 0),lL=(0,lw.Z)(()=>l.e("78706").then(l.bind(l,662896)),{ssr:!1},e=>662896,void 0,void 0),lA=(0,lw.Z)(()=>l.e("29507").then(l.bind(l,58266)),{ssr:!1},e=>58266,void 0,void 0),lR=(0,lw.Z)(()=>l.e("81501").then(l.bind(l,935054)),{ssr:!1},e=>935054,void 0,void 0),lK=H.Fragment,lD=({children:e,excludeHeaderOffset:n})=>{(0,H.useEffect)(()=>{(0,V.Z)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx")},[]);let l=(0,ne.Z)({skipExpActivation:!0});return"lg"===(0,lu.g)()?(0,eF.jsx)($.Le,{top:68*!n,children:(0,eF.jsx)($.xu,{marginStart:l?2:4,children:e})}):e},lZ=(void 0!==y||(y=l(582422)).hash&&"3208f75a293572ec8af155f2a06cd2ef"!==y.hash&&console.error("The definition of 'CloseupDetailsSourceUser_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y),lB=(void 0!==f||(f=l(748783)).hash&&"d9cbb483f05a7aee13df60d7ab0a18d2"!==f.hash&&console.error("The definition of 'CloseupDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f);function lO(e){let n,l;(0,H.useEffect)(()=>{(0,V.Z)("CloseupDetails","/app/www/closeup/duplo/CloseupDetails.tsx")},[]);let a=(0,ew.Z)(),{inPinCardOverflowExp:i,instagramPostLink:t,isImagePinForUnauthOnTablet:r,isStoryPin:s,onClickTitleOrDomain:o,shouldShowReactions:d,shouldShowSEOPinInfo:u,showCloseupCommentModule:c,viewParameter:p,viewerId:g,pinActionBar:m,isActionBarInline:h,setIsActionBarInline:_,clientTrackingParams:y,pinKey:f,nativeCreatorVerifiedWebsite:k,unauthCloseupRedesignEnabled:x}=e,{checkExperiment:S}=(0,eo.Z)(),[b,P]=(0,H.useState)(!1),v=(0,ea.Z)(lB,f),w=(0,eh.ZP)(),T="desktop"===w,I="phone"===w,{isAuthenticated:C,country:E,locale:F,isBot:j,regionFromIp:L}=(0,ec.B)(),A=I&&!C&&!S("lop_ucan_mau_ui_holdout").anyEnabled,[R,K]=(0,H.useState)(!1),[D,Z]=(0,H.useState)(!1),B=(0,nX.mN)(),O=(0,el.Z)(),N=(0,nm.vs)(),M=(0,no.Z)(v,O),U=(0,lv.Z)(v),z=(0,ea.Z)(lZ,v),{mWebCloseupRedesignEnabled:G}=(0,ex.Z)(),{pinner:W,nativeCreator:X,originPinner:Q}=z,J=z.linkDomain?.officialUser,ee=v.promoter&&!v.isDownstreamPromotion?v.promoter:null,en=v.richMetadata?.products?.[0],ei=v.richSummary?.products?.[0],et=(v.aggregatedPinData?.commentCount||0)+(v.aggregatedPinData?.didItData?.imagesCount||0);n=X||(z.linkDomain?J:Q||W),C||n||(n=W);let er=!!v.closeupUnifiedAttribution;en&&en.name&&en.offerSummary&&(l=en.offerSummary),!l&&ei&&ei.name&&ei.offerSummary&&(l=ei.offerSummary);let{commentsDisabled:es,isEligibleForPdp:ed,shipsToUserCountry:eu}=v,ep=!!z.linkDomain,eg=!!z.nativeCreator,em=!!z.originPinner,e_=!!l,ey=!!ee,ef=!!en?.shippingInfo,ek=!!v.richMetadata?.recipe,eS=!!v.richMetadata?.recipe?.displayCookTime||!!v.richMetadata?.recipe?.servingsSummary||!!v.richMetadata?.recipe?.aggregateRating,eb=!!n,eP=v.domain,ev=v.link,eT=l?.inStock,eI=l?.maxPrice,eC=l?.minPrice,eE=l?.unitPrice,ej=l?.unitPricingBaseUnits,eA=l?.unitPricingUnitType,eR=l&&(0,ng.Z)({maxPrice:l.maxPrice,minPrice:l.minPrice,price:l.price}),eK=l?.standardPrice,eD=ee?.fullName,eZ=en?.shippingInfo?.freeShippingPrice,eB=en?.shippingInfo?.freeShippingValue,eO=v.richMetadata?.aggregateRating?.ratingValue,eM=v.richMetadata?.aggregateRating?.ratingCount,ez=v.isEligibleForAggregatedComments,eV=n?.blockedByMe,eH=n?.explicitlyFollowedByMe,eG=n?.followerCount,eW=n?.fullName,eY=n?.entityId,e$=n?.imageLargeUrl,eq=n?.imageMediumUrl,eX=n?.imageSmallUrl,eQ=n?.isVerifiedMerchant,eJ=n?.username,e0=n?.verifiedIdentity?.verified,e1=v.storyPinData?.metadata?.basics?.keyValueBlocks,e2=ed&&C,e3=!T&&!ed,e6=e2||e3,e5=(0,Y.TH)(),e4=ey&&v.promoter?.entityId===v.nativeCreator?.entityId,e8=!C&&(0,eU.isBoardPage)(e5),{sponsorship:e9,storyPinData:e7,affiliateLink:ne,affiliateDisclosure:nn}=v,nl=!!ne,na=!!e9?.sponsor,ni=!!e7?.hasAffiliateProducts,nt=(na||ni||nl)&&!e4&&!e8,nr=c?(0,eF.jsx)(q.Z,{id:"UnifiedCommentModule",children:(0,eF.jsx)(lj,{pinKey:v,viewParameter:p})}):null,ns=!T&&(!C||e6&&h||!ed),nx=!C&&e_&&(ed||j),nP=!!v?.isGoLinkless&&O?.isAuth&&v.originPinner?.entityId!==O.id,nv=T||j?null:(0,eF.jsx)(q.Z,{id:"DuploShoppingModule",children:(0,eF.jsx)(lL,{pinKey:v,view:3,viewParameter:140})});if(C&&ed)return(0,eF.jsx)(lD,{excludeHeaderOffset:i,children:(0,eF.jsxs)($.xu,{"data-test-id":"CloseupDetails",children:[(0,eF.jsx)($.xu,{marginBottom:G?2:void 0,marginTop:G?2:void 0,paddingX:2,paddingY:G?void 0:3,width:"100%",children:(0,eF.jsx)(q.Z,{id:"ProductDetails",children:(0,eF.jsx)(lk,{closeupCommentModule:nr,inlinePinActionBar:ns||G?m:void 0,onClickTitleOrDomain:o,pinKey:v,setIsActionBarInline:e6&&!G?_:void 0})})}),nv]})});let nw=!C&&ed,{pinCreditLink:nT,pinCredit:nI}=(0,nW.Xe)({hasLinkDomain:ep,hasNativeCreator:eg,hasOriginPinner:em,pinDomain:eP,sourceUserUsername:eJ,sourceUserFullName:eW}),nC=(0,nW.AH)(ev),nE=eb&&(!C||nI&&nT),nF=d&&!!U&&!C,nj=O?.isAuth&&(0,eN.Z)(O.createdAt)&&!O.isMaturedNewUser,nL=j||!e6,nA=A?"xs":void 0,nR=!T&&u&&!nw&&(0,eF.jsx)($.xu,{children:(0,eF.jsx)(q.Z,{id:"SeeMoreButton",children:(0,eF.jsx)(lI,{dedupeVisualAnnotations:null,fallback:(0,eF.jsx)($.xH,{accessibilityLabel:a._('Loading See More', 'closeupDetails.SeeMoreButton.loading.label', 'Spinner indicates see more button is loading'),show:!0}),isAuth:C,isMainPin:!0,onClickTitleOrDomain:o,pinKey:v,renderOnlyHiddenSEOContent:e6&&j,shouldShowSeoDrawerNewfields:!O?.isAuth,shouldShowSeoDrawerOption:!O?.isAuth,trafficSource:"pin",viewObjectIdStr:v.entityId,viewParameter:p,viewType:3})})}),nK=er&&(0,eF.jsx)($.xu,{marginBottom:2,children:(0,eF.jsx)(q.Z,{id:"OfficialUserAttribution",children:(0,eF.jsx)(n3.Z,{avatarSize:nA,clientTrackingParams:y,hideFollowButton:T||!C,isSmallAvatarEnabled:A,justifyContent:T||!C?"start":"center",pinKey:v,seeMoreButton:nL&&nR,viewerId:g})})}),nD=eY&&B(eY),nZ=nD?nD.explicitly_followed_by_me:!!eH,nB=nD?nD.avatar_color_index:void 0,nO=!!nE&&!er&&(0,eF.jsxs)($.xu,{alignItems:"center","data-test-id":"CloseupUserRep",display:"flex",flex:"grow",justifyContent:"between",marginBottom:G||A?1.5:void 0,width:"100%",children:[(0,eF.jsx)(lP.Z,{avatarColorIndex:nB,avatarSize:G?"fit":nA,blockedByMe:eV??!1,clientTrackingParams:y,explicitlyFollowedByMe:nZ,followerCount:eG??0,fullName:eW??"",hideButtons:G,id:eY??"",imageLargeUrl:e$??"",imageMediumUrl:eq??"",imageSmallUrl:eX??"",isEligibleForPdp:!!ed,isImagePinForUnauthOnTablet:r??!1,isOnCloseup:!0,isSmallAvatarEnabled:A,isVerifiedMerchant:eQ??!1,pinKey:v,textColor:"default",type:"row",username:eJ??"",verifiedIdentityVerified:e0??!1,viewParameter:p,viewType:3}),nL&&nR]}),nM=nF&&(0,eF.jsx)(eL.Z,{name:"SafeSuspense_CloseupDetails_ReactionAggregation",children:(0,eF.jsx)($.xu,{alignSelf:"center",display:"flex",justifyContent:"start",marginTop:T?2:void 0,children:(0,eF.jsx)(q.Z,{id:"ReactionAggregation",children:(0,eF.jsx)(lT,{disableModal:!C,pinKey:v,reactionCounts:U,textSize:nu.n,textWeight:"bold",viewParameter:156,viewType:3})})})}),nz=(e1||[]).map((e,n)=>(0,eF.jsx)(lS.Z,{categoryType:e.categoryType,size:"300",type:"compact",value:e.value},`key-val-component-${n}`)).filter(e=>null!=e),nV=T?4:2,nG=G?2:lx.dP,nY=nF||I?nG:1,nq=C?void 0:8,nJ=!!ef&&eu,n0=e_&&(0,eF.jsx)(q.Z,{id:"CloseupProductRatingAndShipping",children:(0,eF.jsx)(np.Z,{count:eM||void 0,countFormat:"number",countType:"review",hideSeparationDot:!1,ratingValue:eO||void 0,shippingInfo:nJ?{freeShippingPrice:eZ,freeShippingValue:eB}:void 0})}),n5=!T&&e6&&!C&&!S("lop_ucan_mau_ui_holdout").anyEnabled,n4=I&&!C&&!S("lop_ucan_mau_ui_holdout").anyEnabled,n8=n4||G,n7=n4||G?1:void 0,le=G?6:4,ln=T&&!C?-n6.IN:void 0;return(0,eF.jsx)(lD,{excludeHeaderOffset:i,children:(0,eF.jsxs)($.xu,{"data-test-id":"CloseupDetails",children:[x&&(0,eF.jsx)($.xu,{color:"default",dangerouslySetInlineStyle:{__style:{position:"sticky"}},marginStart:ln,top:!0,zIndex:new $.Ry(1),children:!ns&&m}),(0,eF.jsxs)($.xu,{marginBottom:n5||G?0:4,marginTop:G?2:4,paddingX:nU.xh,width:"100%",children:[!x&&(0,eF.jsx)($.xu,{marginStart:ln,children:!ns&&m}),I&&nK,C&&nM,(T||nx||nC&&(!nE||r)&&!G)&&(0,eF.jsx)($.xu,{"data-test-id":"callToActionButton",display:(C||T||r||nx)&&!nP?void 0:"none",marginTop:A?0:nY,children:!nw&&(!v.isGoLinkless||C)&&(0,eF.jsx)(q.Z,{id:"CloseupPinLinkCredits",children:(0,eF.jsx)(n$,{isImagePinForUnauthOnTablet:r,nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:o,pinKey:v})})}),(0,eF.jsxs)(lK,{children:[I&&nO,(0,eF.jsx)($.xu,{marginBottom:+!!G,marginTop:A||n8?0:4,children:(0,eF.jsx)(q.Z,{id:"CloseupTitle",children:(0,eF.jsx)(n1,{forceSmallerHeading:I,hasLink:nC,lineClamp:b?void 0:n7,onClick:o,pinKey:v,size:G?"300":void 0,textAlign:"start"})})})]}),(0,eF.jsx)(lK,{children:I&&(0,eF.jsx)($.xu,{marginTop:A||n8?0:lx.dP,children:(0,eF.jsx)(nk.Z,{color:N?"light":"default",items:nz})})}),!T&&eR&&ed&&(0,eF.jsx)($.xu,{marginTop:A?1:void 0,children:(0,eF.jsx)($.kC,{alignItems:"stretch",justifyContent:"start",children:(0,eF.jsx)(q.Z,{id:"ProductPrice",children:(0,eF.jsx)(nc.Z,{colorOverride:"default",isSoldOut:!1===eT,productDetails:{minPrice:eC,maxPrice:eI,price:eR,standardPrice:eK,unitPrice:eE,unitPricingBaseUnits:ej,unitPricingUnitType:eA},textSize:G?"200":void 0,type:"mobileHeading"})})})}),ek&&eS&&!nj&&(0,eF.jsx)(lF,{boldText:!1,fallback:(0,eF.jsx)($.xH,{accessibilityLabel:a._('Loading Pin recipe rating', 'closeupDetails.PinRecipeRating.loading.label', 'Spinner indicates pin recipe rating is loading'),show:!0}),marginTop:A||G?1:lx.dP,pinKey:v,textSize:G?"200":"300"}),T&&nx&&eR&&(0,eF.jsx)($.xu,{marginTop:2,children:(0,eF.jsx)(q.Z,{id:"ProductPrice",children:(0,eF.jsx)(nc.Z,{colorOverride:"default",isSoldOut:!1===eT,productDetails:{maxPrice:eC,minPrice:eI,price:eR,standardPrice:eK,unitPrice:eE,unitPricingBaseUnits:ej,unitPricingUnitType:eA},type:"heading"})})},"product-price"),T&&(ef||eO)&&(0,eF.jsx)($.xu,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:3,children:n0}),!T&&nw&&(0,eF.jsxs)($.xu,{"data-test-id":"unauth-pdp-rating-and-review",marginTop:1,children:[n0,(0,eF.jsx)($.xu,{marginTop:A?1:2,children:(0,eF.jsx)(q.Z,{id:"CloseupPinLinkCredits",children:(0,eF.jsx)(n$,{isImagePinForUnauthOnTablet:r,onClickTitleOrDomain:o,pinKey:v})})})]}),!C&&nt&&(0,eF.jsx)($.xu,{marginTop:2,children:(0,eF.jsx)(q.Z,{id:"SponsorshipText",children:(0,eF.jsx)(l_.Z,{affiliateDisclosure:nn,hasAffiliateLink:nl,hasAffiliateProducts:ni})})}),e_&&T&&(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{padding:"15px 0"}},"data-test-id":"visit-button-unauth",children:(0,eF.jsx)(q.Z,{id:"PinActionBarVisitButton",children:(0,eF.jsx)(n9,{actionButtonText:a._('Visit site', 'closeup.shop.button', 'shop button'),clickthroughInterstitialExperience:null,isDesktop:T,pinKey:v,unauthPdp:!0})})}),(0,eF.jsxs)(lK,{children:[nw&&ns&&(0,eF.jsx)($.xu,{marginBottom:4,marginTop:4,children:m}),(0,eF.jsx)(nh.Z,{onVisibilityChange:e6&&!G?e=>{if(!(e&&e.length>0&&_))return;let{intersectionRatio:n,boundingClientRect:l}=e[0],a=l.y<0;_(1===n||a)}:()=>{},options:{threshold:[1]},children:e=>(0,eF.jsx)($.xu,{ref:e,children:(0,eF.jsxs)($.xu,{marginTop:A||n8?1:nV,children:[nx?(0,eF.jsx)(q.Z,{id:"ProductDescriptionDropdown",children:(0,eF.jsx)(lm,{onClickTitleOrDomain:o,pinKey:v,shouldTruncateDescription:n8})}):(0,eF.jsx)(q.Z,{id:"CloseupDescription",children:(0,eF.jsx)(nN,{expandedText:b,instagramPostLink:t,pinKey:v,setExpandedText:P,shouldTruncateDescription:n8})}),C&&I&&nt&&(0,eF.jsx)($.xu,{marginTop:2,children:(0,eF.jsx)(q.Z,{id:"SponsorshipText",children:(0,eF.jsx)(l_.Z,{affiliateDisclosure:nn,hasAffiliateLink:nl,hasAffiliateProducts:ni})})}),(0,eF.jsx)($.xu,{marginTop:-1,children:nr})]})})})]}),!nw&&ns&&!G&&(0,eF.jsx)($.xu,{marginBottom:4,marginTop:c?3:le,children:m}),!nw&&ns&&G&&m,!I&&(0,eF.jsx)($.xu,{marginTop:lx.dP,children:nO}),!I&&(0,eF.jsx)($.xu,{marginTop:8,children:nK}),T&&C&&(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{visibility:"hidden"}},"data-test-id":"UnauthVaseFullBleedModalContainer",children:(0,eF.jsx)(nS,{onClose:()=>{},pinKey:v})}),!T&&ey&&(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{marginTop:lx.dP,children:(0,eF.jsx)($.iz,{})}),(0,eF.jsxs)($.xu,{alignItems:"center",display:"flex",justifyContent:"between",margin:2,paddingX:1,children:[(0,eF.jsx)($.xe,{inline:!0,size:"200",weight:"bold",children:a._('Promoted Pin', 'Denotes promoted pin in closeup', 'Denotes promoted pin in closeup')}),(0,eF.jsx)(eL.Z,{name:"SafeSuspense_CloseupDetails_PinFeedbackButton",children:(0,eF.jsx)(q.Z,{id:"PinFeedbackButton",children:(0,eF.jsx)(lR,{pinKey:v,promoter:eD??"",type:"promoted"})})})]}),(0,eF.jsx)($.iz,{})]}),!nj&&ek&&(0,eF.jsx)(nQ.Z,{hash:"recipe",offset:-n_.R$,children:(0,eF.jsx)(lC,{fallback:(0,eF.jsx)($.xH,{accessibilityLabel:a._('Loading Pin recipe', 'closeupDetails.PinRecipe.loading.label', 'Spinner indicates Pin recipe is loading'),show:!0}),pinKey:v})}),!nj&&(0,n2.L)(s)&&(0,eF.jsx)(nH,{pinKey:v}),!C&&I&&"IN"===E&&(F||"").startsWith("en")&&lb.N3.includes(L)&&3>=Number((0,ny.qn)("indiaUnauthLocaleShowCount",0))&&(0,eF.jsx)(eL.Z,{name:"SafeSuspense_CloseupDetails_UnauthSwitchLanguageModal",children:(0,eF.jsx)(lA,{})})]}),(0,eF.jsx)(q.Z,{id:"UnauthAmazonModule",children:(0,eF.jsx)(li,{clientTrackingParams:y,isAuthenticated:C,isPhone:I,isUnauthAmazonModuleExpanded:R,pinKey:v,setIsUnauthAmazonModuleExpanded:K})}),(0,eF.jsx)(q.Z,{id:"UnauthIndexExchangeContainer",children:(0,eF.jsx)(ls,{clientTrackingParams:y,isAuthenticated:C,isPhone:I,isUnauthIndexExchangeAdExpanded:D,pinKey:v,setIsUnauthIndexExchangeAdExpanded:Z})}),!R&&!D&&nv,T&&!j&&!x&&(0,eF.jsx)($.xu,{marginStart:2,children:(0,eF.jsx)(q.Z,{id:"ShoppingModule",children:(0,eF.jsx)(nd.Z,{moduleWidth:nb.Gg-nb.g9,pinKey:v,trafficSource:"pin",viewParameter:140})})}),T&&ez&&!e_&&(0,eF.jsx)(eL.Z,{name:"CommentThread",children:(0,eF.jsxs)($.xu,{marginTop:nq,paddingX:2,children:[(0,eF.jsx)($.qd,{accessibilityLevel:2,id:"comment-count-and-label",size:"400",children:et&&!es?(0,nf.Z)(a.ngettext('{{ count }} Comment', '{{ count }} Comments', et, 'desktopPinCloseup.sectionTitle.commentsCountLabel', 'Comments on a Pin. count: number of comments'),{count:et.toString()}):a._('Comments', 'desktopPinCloseup.sectionTitle', 'Title of comments section')}),(0,eF.jsx)(q.Z,{id:"CommentThreadContainer",children:(0,eF.jsx)(ld.Z,{isReadOnly:!0,pinKey:v,viewParameter:p})}),!x&&!j&&!es&&(0,eF.jsx)(q.Z,{id:"UnauthCommentComposer",children:(0,eF.jsx)(lo.Z,{clientTrackingParams:y,isStoryPin:!1,viewParameter:p})})]})}),!T&&!!M&&(0,eF.jsx)($.xu,{marginStart:2,marginTop:2,children:(0,eF.jsx)(q.Z,{id:"GroupBoardSavedInfo",children:(0,eF.jsx)(lE,{pinKey:v,showFavoritesInformation:!v.storyPinData?.isDeleted})})}),x&&!j&&!es&&T&&ez&&!e_&&(0,eF.jsx)(eL.Z,{name:"UnauthCommentComposer",children:(0,eF.jsx)(q.Z,{id:"UnauthCommentComposer",children:(0,eF.jsx)(lo.Z,{clientTrackingParams:y,isStoryPin:!1,viewParameter:p})})})]})})}let lN=({pinKey:e})=>{(0,H.useEffect)(()=>{(0,V.Z)("CloseupMainIframe","/app/www/closeup/duplo/CloseupMainIframe.tsx")},[]);let n=(0,ea.Z)((void 0!==k||(k=l(74103)).hash&&"4c04fc9afb579bae0b83adb0bc6d3959"!==k.hash&&console.error("The definition of 'CloseupMainIframe_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k),e),a=n.embed?.src,i=n.images_736x?n.images_736x?.url:void 0,t=(0,ew.Z)(),r={};a&&a.includes("youtube")&&a.includes("/embed/")&&i&&(r.background=`url("${i}")`,r.backgroundSize="cover",r.backgroundPosition="center");let s=a?.replace("http://","https://");return s&&s.startsWith("https://www.youtube.com/embed/")&&(s=s.replace("https://www.youtube.com/embed/","https://www.youtube-nocookie.com/embed/")),(0,eF.jsx)($.xu,{column:12,dangerouslySetInlineStyle:{__style:{paddingBottom:"50%",background:r.background,backgroundSize:r.backgroundSize,backgroundPosition:r.backgroundPosition}},overflow:"hidden",position:"relative",rounding:200,children:(0,eF.jsx)("iframe",{allowFullScreen:!0,frameBorder:0,src:s,style:{width:"100%",height:"100%",position:"absolute",border:0},title:t._('Embedded content', 'Embedded iframe accessibility title', 'Embedded iframe accessibility title')})})};var lM=l(885884),lU=l(953994),lz=l(763672),lV=l(464974);let lH="closeupImage";var lG=l(843716),lW=l(473687),lY=l(184285),l$=l(986523),lq=l(646949),lX=l(284009),lQ=l(953238),lJ=l(273250),l0=l(303151),l1=l(874132),l2=l(146566),l3=l(583522);function l6({animateShopButton:e,buttonText:n,onButtonClick:l,dataTestId:a,handleAnimationEnd:i,icon:t,isHovering:r,surfaceType:s,textRef:o,showButtonText:d}){(0,H.useEffect)(()=>{(0,V.Z)("ButtonWithAnimation","/app/common/react/components/shopping/CloseupShop/ButtonWithAnimation.tsx")},[]);let u=(0,ew.Z)(),{isRTL:c}=(0,ec.B)(),p=(0,nm.vs)(),g=(0,eh.HG)(),[m,h]=(0,H.useState)(),[_,y]=(0,H.useState)(),{isCloseupMediaViewerEnabled:f}=(0,l3.Z)({isShufflePin:!1}),k=(0,l$.Z)(),{mWebCloseupRedesignEnabled:x}=(0,ex.Z)(),S=(0,ne.Z)({skipExpActivation:!0}),b=x||S?24:16;(0,H.useEffect)(()=>{!k&&(f?r?(h(`buttonSlideIn${s} 1s ease-in forwards`),y("stelaSlideIn 1s ease-in forwards")):(h(`shopButtonSlideOut${s} .3s ease-in-out forwards`),y("stelaSlideOut .3s ease-in-out forwards")):e&&(h("shopButtonSlideInThenOut 3s ease-in-out forwards"),y("stelaSlideInThenOut 3s ease-in-out forwards")))},[e,k,f,r,s]);let P=u._('close-up image action', 'closeup.image.button.defaultAccessibilityLabel', 'accessibility label for the button on the closeup image overlay. This button navigates users to the image search landing page. buttonText: image search button text'),v=n||P,w={buttonStyle:{animation:m,marginRight:S&&!c?"4px":void 0,marginLeft:S&&c?"4px":void 0},textStyle:{animation:_,whiteSpace:"nowrap"}},T=(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:w.buttonStyle},children:d&&(0,eF.jsx)($.xu,{ref:o,dangerouslySetInlineStyle:{__style:w.textStyle},children:(0,eF.jsx)($.mg,{size:S?"400":"300",children:n})})}),I=(48-b)/2,C=(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{bottom:I,right:c?void 0:I,left:c?I:void 0}},position:"absolute",children:(0,eF.jsx)($.JO,{accessibilityLabel:v,color:"default",icon:t,size:b})}),E=(0,H.useMemo)(()=>p&&g?"rgba(17, 17, 17, 0.9)":r?"var(--comp-button-color-hover-background-tertiary-semi-transparent-default)":"var(--comp-button-color-background-tertiary-semi-transparent-default)",[p,g,r]);return(0,eF.jsx)($.iP,{accessibilityLabel:v,onTap:l,rounding:"circle",children:(0,eF.jsx)($.xu,{alignItems:"center",color:"default",dangerouslySetInlineStyle:{__style:{backgroundColor:E}},"data-test-id":a,display:"flex",justifyContent:"center",minHeight:48,minWidth:48,onAnimationEnd:f?void 0:i,paddingX:4,paddingY:2,position:"relative",rounding:400,children:(0,eF.jsx)($.kC,{alignItems:"stretch",justifyContent:"center",children:c?(0,eF.jsxs)(H.Fragment,{children:[C,T]}):(0,eF.jsxs)(H.Fragment,{children:[T,C]})})})})}var l5=l(15881),l4=l(59111),l8=l(895813),l9=l(34550),l7=l(418282),ae=l(619784);let an=(void 0!==x||(x=l(697465)).hash&&"a36cbee90f76e1bfd0e6c4b9b0c5ecd3"!==x.hash&&console.error("The definition of 'ButtonWithAnimationWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x);function al({actionUrl:e,animateOnRender:n,animateShopButton:l,dataTestId:a,pinKey:i,imageSignature:t,onAnimationComplete:r=()=>{},onButtonClick:s,surfaceType:o,variant:d}){let u;(0,H.useEffect)(()=>{(0,V.Z)("ButtonWithAnimationWrapper","/app/common/react/components/auth-desktop-web-closeup/CloseupBody/CloseupImage/ImageOverlay/ButtonWithAnimationWrapper.tsx")},[]);let{checkExperiment:c}=(0,eo.Z)(),p=(0,H.useRef)(null),g=(0,eb.Z)(),[m,h]=(0,H.useState)(),[_,y]=(0,H.useState)(!1),f=(0,Y.s0)(),k=(0,l9.M0)(),x=(0,l7.Nl)(),{isCloseupMediaViewerEnabled:S}=(0,l3.Z)({isShufflePin:!1}),b=(0,ea.Z)(an,i),P=(0,l2.Z)({variant:d}),v="visual-search"===d&&"media-viewer"!==o,w=x.getItem(l5.Ml)||0,{animationSeenCount:T,lastAnimationTimestamp:I}=k.getItem(X.Yn)||{animationSeenCount:0,lastAnimationTimestamp:0},C=(0,l0.Z)(new Date(I),new Date);return(0,e_.Z)(()=>{if("media-viewer"===o?g({event_type:120,element:15864,view_type:3,aux_data:{image_signature:t}}):"stl"===o?g({event_type:120,element:11963,view_type:3,aux_data:{image_signature:t}}):g({event_type:120,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),v&&!C&&k.setItem(X.Yn,{animationSeenCount:0,lastAnimationTimestamp:I}),!n||v&&![0,1].includes(w+1)&&c("sg_dweb_improved_share_animation_on_closeup").anyEnabled)return;let e=setTimeout(()=>{y(!0),v&&k.setItem(X.Yn,{animationSeenCount:T+1,lastAnimationTimestamp:Date.now()});let e=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(e)},l1.S);return()=>clearTimeout(e)}),u="media-viewer"===o&&"view-larger"===d?"maximize":"magnifying-glass-sparkle",(0,H.useEffect)(()=>{if(p.current&&!m&&(l&&!S||_&&S)){let e=p.current.getBoundingClientRect().width;e&&h(e)}},[p,m,l,S,_]),(0,eF.jsxs)($.xu,{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[(0,eF.jsx)(l4.Z,{unsafeCSS:S?(0,l8.q)(m||0,o):(0,l8.Z)(m||0)}),(0,eF.jsx)(l6,{animateShopButton:l,buttonText:P,dataTestId:a,handleAnimationEnd:r,icon:u,isHovering:_,onButtonClick:S?s:({event:n})=>{["flashlight","stela"].includes(o)&&g({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:t}}),n?.stopPropagation(),e?f(e):f((0,ae.Z)({pinId:b.entityId,isProductPage:!1,surfaceType:o}))},showButtonText:S?_:l,surfaceType:o,textRef:p})]})}var aa=l(116980),ai=l(341097);let at=(void 0!==S||(S=l(943169)).hash&&"cf81c765c2918cf13091a1ef301f4499"!==S.hash&&console.error("The definition of 'AnimatedVisualSearchButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S);function ar({imageSignature:e,pinKey:n}){(0,H.useEffect)(()=>{(0,V.Z)("AnimatedVisualSearchButton","/app/www/closeup/duplo/AnimatedVisualSearchButton.tsx")},[]);let l=(0,ea.Z)(at,n),a=(0,eh.HG)(),i=(0,eh.ml)(),{isAuthenticated:t}=(0,ec.B)(),r=(0,eb.Z)(),s=(0,Y.s0)(),[o,d]=(0,H.useState)(!1),[u,c]=(0,H.useState)(!1),p=(0,H.useRef)(null),g=(0,eI.Z)();(0,e_.Z)(()=>{let e=(0,eX.Z)(()=>{if(!p.current)return;let{top:n}=p.current.getBoundingClientRect(),l=n>(i?aa.SB:aa.Pw);!u&&l&&(d(!0),c(!0),window.removeEventListener("scroll",e))},10);return a||t?d(!0):window.addEventListener("scroll",e),()=>{t||window.removeEventListener("scroll",e)}});let m="flashlight",h=(0,ai.Z)({pinKey:l,storyKey:null,surfaceType:m});return(0,eF.jsx)($.xu,{ref:p,alignItems:"stretch","data-test-id":"visual-search-icon",display:"flex",justifyContent:"end",paddingX:2*!!a,children:(0,eF.jsx)($.xu,{overflow:"hidden",children:(0,eF.jsx)($.iP,{onTap:()=>{g({action:"click",item:"visual-search-icon",within:"pin-image"})},children:(0,eF.jsx)(al,{actionUrl:h,animateOnRender:!0,animateShopButton:o,dataTestId:"flashlight",imageSignature:e,onAnimationComplete:()=>{d(!1)},onButtonClick:({event:n})=>{r({event_type:101,component:128,element:234,view_type:3,aux_data:{image_signature:e}}),n?.stopPropagation(),h?s(h):s((0,ae.Z)({pinId:l.entityId,isProductPage:!1,surfaceType:m}))},pinKey:l,surfaceType:"flashlight",variant:"visual-search"})})})})}var as=l(230201);let ao=(void 0!==b||(b=l(649441)).hash&&"daed7871ea3349b195a482d98f047526"!==b.hash&&console.error("The definition of 'FlashlightButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),b);function ad({imageSignature:e,pinKey:n,viewParameter:l}){(0,H.useEffect)(()=>{(0,V.Z)("FlashlightButton","/app/www/closeup/duplo/FlashlightButton.tsx")},[]);let a=(0,ew.Z)(),{logContextEvent:i}=(0,as.u)(),t=(0,eI.Z)(),{isAuthenticated:r}=(0,ec.B)(),s=(0,nm.vs)(),o=(0,eh.HG)(),d=(0,Y.s0)(),u=(0,ne.Z)({skipExpActivation:!0});(0,e_.Z)(()=>{i({aux_data:{image_signature:e},component:128,element:234,event_type:120,view_parameter:l,view_type:3})});let c=(0,ea.Z)(ao,n),p=u?48:44;return(0,eF.jsx)($.iP,{onTap:({event:n})=>{r||((0,eQ.My)(`${o?"dweb":"mweb"}_pin_page.flashlight_icon_click`),t({action:"click",item:"visual-search-icon",within:"pin-image"})),n.stopPropagation(),n.preventDefault(),i({aux_data:{image_signature:e},component:128,element:234,event_type:102,view_parameter:l,view_type:3}),d&&c?d(`/pin/${c.entityId}/visual-search/`):(0,eQ.My)(`${o?"dweb":"mweb"}_pin_page.flashlight_icon_click.error`)},tapStyle:"compress",children:(0,eF.jsx)($.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:s?"rgba(51, 51, 51, 0.8)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"visual-search-icon",display:"flex",height:p,justifyContent:"center",rounding:"pill",width:p,children:(0,eF.jsx)($.JO,{accessibilityLabel:a._('Visual search', 'flashlight.button', 'Button to search for visually similar Pins'),color:"default",icon:"magnifying-glass-frame",size:20})})})}var au=l(173285),ac=l(823131);let ap=({pinId:e,viewParameter:n})=>{(0,H.useEffect)(()=>{(0,V.Z)("MoreLikeThisButton","/app/www/closeup/duplo/MoreLikeThisButton.tsx")},[]);let{logContextEvent:l}=(0,as.u)(),{isScrolledToPins:a,scrollToPins:i}=(0,au.Z)(),{moreLikeThisButtonRef:t}=(0,ac.Z)(),r=(0,ew.Z)();return a&&i(!1),(0,H.useEffect)(()=>{l({event_type:13,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},[l,e,n]),(0,eF.jsx)($.xu,{ref:t,"data-test-id":"more-like-this-button",children:(0,eF.jsx)($.iP,{onTap:({event:a})=>{a.stopPropagation(),a.preventDefault(),i(!0),l({event_type:101,view_parameter:n,component:13283,element:14445,aux_data:{pin_id:e}})},children:(0,eF.jsx)($.zx,{accessibilityLabel:r._('Scroll to related pins button', 'mobilePinPage.relatedPins.scroll', 'Button to auto scroll to the related pins section'),color:"tertiary",dataTestId:"more-like-this-button",iconEnd:"compact-chevron-down",size:"lg",text:r._('More to explore', 'pinPage.relatedPins.title', 'On web pin page, title for related pins beneath pin closeup')})})})},ag=(void 0!==P||(P=l(733743)).hash&&"a2ad4e53c7de61af48ceeaf2f7ee4647"!==P.hash&&console.error("The definition of 'MobileStickyFooter_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P);function am({imageSignature:e,pinKey:n,type:l,viewParameter:a}){(0,H.useEffect)(()=>{(0,V.Z)("MobileStickyFooter","/app/www/closeup/duplo/MobileStickyFooter.tsx")},[]);let{isAuthenticated:i,isRTL:t}=(0,ec.B)(),r=(0,eh.HG)(),s=(0,ea.Z)(ag,n),{mWebCloseupRedesignEnabled:o}=(0,ex.Z)(),d=s?.digitalMediaSourceType,u=d&&(0,nW.zX)(d),c=!i&&u,p=(({isDesktop:e})=>e?-68:-60)({isDesktop:r});return(0,eF.jsxs)($.xu,{position:"relative",zIndex:nU.sp,children:[(u||c)&&(0,eF.jsx)($.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:o?"-4px":void 0,marginTop:p}},margin:o?void 0:1,padding:2,position:"absolute",right:!1,children:(0,eF.jsx)(lJ.Z,{digitalMediaType:d,isMobile:o&&!r,isViewedByOwnerEmployeeOrAgency:s?.isViewedByOwnerOrEmployeeOrPartnerOfBusiness||!1})})}),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:o&&t?"-4px":void 0,marginRight:o&&!t?"-4px":void 0,marginTop:p}},left:t,padding:2,position:"absolute",right:!t,zIndex:new $.Ry(2),children:"moreLikeThisButton"===l?(0,eF.jsx)(ap,{}):s&&"visualSearch"===l?(0,eF.jsx)(ar,{imageSignature:e,pinKey:s}):(0,eF.jsx)(ad,{imageSignature:e,pinKey:s,viewParameter:a})})]})}var ah=l(352015),a_=l(514837),ay=l(150147),af=l(979172),ak=l(328154),ax=l(766162),aS=l(411657);let ab=(void 0!==v||(v=l(210894)).hash&&"cc55e39c42ca4b105ea13e5ab293a9c7"!==v.hash&&console.error("The definition of 'UnauthCloseupCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v);function aP({actionBarIsMinifiedToMainPinImage:e,children:n,displayHeight:l,displayWidth:a,embedType:i,hasPromoter:t,imageSignature:r,isEligibleForPdp:s,isHiddenPin:o,isRelatedPinsFeedIsEmpty:d,isUnsafePin:u,onIndexChange:c,pinKey:p,selectedIndex:g=0,showClickthroughOverlay:m,viewParameter:h=156}){(0,H.useEffect)(()=>{(0,V.Z)("UnauthCloseupCarousel","/app/www/closeup/duplo/UnauthCloseupCarousel.tsx")},[]);let _=(0,ea.Z)(ab,p),{entityId:y}=_,f=(0,H.useRef)(null),[k,x]=(0,H.useState)(!1),[S,b]=(0,H.useState)(!1),{isAuthenticated:P,userAgent:v}=(0,ec.B)(),{canUseNativeApp:w}=v,T=(0,eh.HG)(),I=(0,eh.ml)(),C=(0,ah.Z)(_),E=C?.carouselSlots??[],F=(0,aS.u)(),j=F?.hasScrolledPastMainContent,L=null,A=(0,lU.Z)({isHiddenPin:o,isUnsafePin:u});P||d||j||T?!A||!P&&I&&!w||P&&(t||(0,es.sY)(i)||e)||(L="visualSearch"):L="moreLikeThisButton";let R=(0,H.useCallback)(e=>{e>=1&&(0,eu.Nx)("image")},[]),K=(0,H.useCallback)(({nextIndex:e})=>{c?.(e)},[c]),D=(0,H.useCallback)((e,n)=>{let l=e.imageSignature,a={image_signature:e.imageSignature??void 0,images:e.imageSizeMap,details:e.details??void 0},i=(0,eF.jsx)(ax.Z,{fit:"cover",onLoad:()=>R(n),slot:a,slotIndex:n});return(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:m?"none":"auto"}},height:"100%",width:"100%",children:i},`${y}-${l||n}`)},[y,R,m]),Z=(0,H.useMemo)(()=>({...C,carouselId:C?.carouselId??"",carouselSlots:C?.carouselSlots??[],index:C?.index??0,type:"canonical"}),[C]);return!E.length||E.length<=1?n?(0,eF.jsx)(H.Fragment,{children:n}):null:(0,eF.jsxs)($.xu,{ref:f,height:"100%",onMouseEnter:()=>{x(!0),b(!0)},onMouseLeave:()=>{x(!1),b(!1)},position:"relative",width:"100%",children:[(0,eF.jsx)(a_.Z,{carouselData:Z,contextLogData:void 0,height:l,id:y,impressionType:"Pin",index:g,slideWidth:a,view:3,viewParameter:h}),(0,eF.jsx)(ay.Z,{forceShowNavigationButtons:k,itemHeight:l,items:E,itemWidth:a,mode:"single",onIndexChange:K,renderItem:({item:e,index:n})=>D(e,n),selectedIndex:g,showNavigationButtons:!0,showScrollMarkers:!0}),m&&S&&(0,eF.jsx)(af.Z,{isImagePinForUnauthOnTablet:!1,children:(0,eF.jsx)(ak.Z,{inviterFirstName:"",isEligibleForPdp:s})}),L&&0===g&&(0,eF.jsx)($.xu,{bottom:!0,left:!0,position:"absolute",right:!0,width:"100%",children:(0,eF.jsx)(am,{imageSignature:r,isPdp:s,pinKey:_,type:L,viewParameter:h})})]})}var av=l(153040),aw=l(846277);let aT=(0,lw.Z)(()=>Promise.all([l.e("92160"),l.e("73269"),l.e("47063")]).then(l.bind(l,22202)),void 0,e=>22202,"app-www-closeup-duplo-ShuffleRendererWrapper",e=>["92160","73269","47063"]),aI=(0,H.lazy)(()=>l.e("74409").then(l.bind(l,65917))),aC=(void 0!==w||(w=l(265906)).hash&&"4d851656dcda7ef595b8aeeb9700c6fe"!==w.hash&&console.error("The definition of 'CloseupMainPinImage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w),aE=({children:e,onTouch:n,isMWebCloseupRedesign:l=!1,withMarginTop:a=!1,unauthCloseupRedesignEnabled:i=!1})=>{let t,r=(0,eh.ZP)(),s="phone"===r,{isRTL:o}=(0,ec.B)();return s?l&&(t=400):t=600,(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:i?{__style:{borderRadius:o?"0px 32px 32px 0px":"32px 0px 0px 32px",position:"relative"}}:void 0,marginEnd:l?1:void 0,marginStart:l?1:void 0,marginTop:l&&a?1:void 0,overflow:!s||s&&l?"hidden":void 0,rounding:i?void 0:t,children:"desktop"===r?e:(0,eF.jsx)(nl.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),n()},pressState:"none",children:e})})};function aF({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,onImageClick:l,setShowClickthroughOverlay:a,viewParameter:i,pinKey:t,fullPinKey:r,isRelatedPinsFeedIsEmpty:s,shouldRenderAsStaticImageIdeaPin:o,renderStoryPinBlock:d,setPinImageHeight:u,shouldRenderAsStoryPinVideo:c}){let p,g=(0,ew.Z)(),m=(0,eh.HG)(),h=(0,eh.Wb)(),_=(0,eh.ml)(),{checkExperiment:y}=(0,eo.Z)(),f=(0,av.D)(),{onSendButtonClick:k}=(0,lQ.B)(),x=(0,n7.Z)(),S=(0,ea.Z)(aC,t),b=null!=t&&"type"in t&&"Legacy"===t.type,P=()=>S?b?t:S:null,v=()=>S?b?t:S:null,w=(0,eG.Z)(S),T=S?.images_236x||S?.images_136x136,I=!!((T=T&&{height:T.height,width:T.width,url:T.url})&&!S?.images_236x),C=S?.shuffle?.entityId,{isAuthenticated:E,isBot:F,isSocialBot:j,countryFromIp:L,isRTL:A,userAgent:{platform:R,canUseNativeApp:K}}=(0,ec.B)(),D=!!S?.shuffle&&!F,Z=(0,l$.Z)(),B=m&&!E&&!!r&&y("unauth_dweb_closeup_carousel").anyEnabled,[O,N]=(0,H.useState)(0),{mWebCloseupRedesignEnabled:M}=(0,ex.Z)(),{referrerFromCookie:U}=(0,ec.B)(),z=(0,lG.Xn)((0,lG.an)(U)),V=(0,ey.Z)(),G=(0,ne.Z)({skipExpActivation:!0}),{domain:W}=S??{},{dominantColor:Y}=S??{},X=S?.embed&&S.embed.src,Q=S?.embed&&S.embed.type,J=!!S?.promoter&&!S.isDownstreamPromotion,{imageSignature:ee}=S??{},en=!!S?.isEligibleForPdp,el=S?.isHidden,ei=S?.isUnsafe,et=S?.pinner?.connectionType,{seoAltText:er}=S??{},ed=(0,lM.Z)({shuffleId:C,shouldRenderShuffle:D}),eu=(0,eh.ZP)(),ep=`${R}.${eu}`,eg=(0,H.useRef)(Date.now()),em=(0,H.useRef)(null),e_=(0,H.useRef)(null),ef=!E&&!m&&["ios","ipad","android"].includes(R),ek=!E&&_&&["ios","android"].includes(R),eS=!E&&_&&["ios","android"].includes(R);(0,lq.Z)(e_,{metricName:"mweb.closeup.closeup_main_pin_image.invalid_dimensions",tags:{isAuthenticated:E}});let{shouldShowLearningUpsell:eb,setShouldShowLearningUpsell:eP,hasScrolledPastMainContent:ev}=(0,aS.u)()??Object.freeze({}),eT=(0,nX.LO)(),eC=null,ej=(0,lU.Z)({isHiddenPin:el,isUnsafePin:ei}),eL=!E&&_&&!K;E||s||ev||m?!ej||eL||E&&((0,eN.Z)(eT?.created_at)&&!(0,aw.V0)(eT)||J||(0,es.sY)(Q)||e)||(eC="visualSearch"):eC="moreLikeThisButton";let eA=(0,eI.Z)(),eR=(0,eE.w2)();(0,H.useEffect)(()=>{if(eR?.setPinImageUrl&&w){let e=w["474x"]||w["236x"]||w.orig||"";e&&eR.setPinImageUrl(e)}},[eR,w]),(0,H.useEffect)(()=>{u&&e_.current&&u(e_.current.getBoundingClientRect().height)},[u]);let eK=(0,eH.Z)({imagesUrls:w,embedSrc:X,embedType:Q,preferredResolution:function({countryFromIp:e,isBot:n,isDesktop:l,pinnerConnectionType:a,shouldRenderSIIP:i}){return i?"236x":l?void 0:(0,lV.Z)(e||"",n,l)&&["Dialup","Cellular"].includes(a??"")?"236x":"736x"}({isDesktop:m,countryFromIp:L,isBot:F,pinnerConnectionType:et,shouldRenderSIIP:o&&!m}),excludeOriginals:!F&&!j}),eD="phone"===eu||h?"100%":na.Hg,eZ=["phone"].includes(eu)?void 0:na.Hg,eB=(0,eF.jsx)(q.Z,{id:"CloseupImage",children:(0,eF.jsx)(lX.Z,{alt:er||g._('Pin image', 'Pin closeup image', 'Pin closeup image'),clickthroughOverlayOptions:n?{onConfirm:n,visitButtonText:"Uploaded by user"===W?g._('Uploaded by user', 'pin.default_domain', 'default domain for the pin'):W||""}:void 0,color:Y||"#efefef",isEligibleForPdp:en,naturalHeight:T?.height??1,naturalWidth:T?.width??1,placeholder:!Z&&T?.url?.startsWith("https://i.pinimg.com/")?(0,lz.Z)(T?.url)||T?.url||"":T?.url||"",pwtElementTimingId:lH,setShowClickthroughOverlay:a,showSpinner:I,src:eK,stickyFooter:eC&&S&&(0,eF.jsx)(am,{imageSignature:ee,isPdp:en,pinKey:P(),type:eC,viewParameter:i})})}),eO=(0,lY.ZP)(),eM=y("migration_upsell_manager_redux").anyEnabled||y("migration_upsell_manager_redux_dweb").anyEnabled||y("migration_upsell_manager_redux_mweb").anyEnabled||y("migration_upsell_manager_redux_dweb_global").anyEnabled||y("migration_upsell_manager_redux_mweb_global").anyEnabled,eU=(0,lW.Z)();!G&&(_?M&&(p=400):p=600);let ez=B&&(r??t)&&!o&&!D?(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:G?{__style:{borderRadius:A?"0px 32px 32px 0px":"32px 0px 0px 32px",position:"relative"}}:void 0,overflow:"hidden",rounding:p,children:(0,eF.jsx)($.xu,{ref:e_,dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!E&&en&&(0,eQ.My)("unauth.pdp.pin.context_menu.open",{device:eu}),e.preventDefault(),e.stopPropagation(),m?(f((0,eF.jsx)(eY.Z,{children:(0,eF.jsx)(aI,{desktopContextMenuState:{x:e.clientX,y:e.clientY},isMainPinImage:!0,onSendButtonClick:k,pinKey:v()})})),(0,eQ.My)("pcons.dweb.main_pin.context_menu.open")):(0,eQ.My)(`${E?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},position:"relative",children:(0,eF.jsx)(aP,{actionBarIsMinifiedToMainPinImage:e,displayHeight:T?.height??300,displayWidth:T?.width??300,embedType:Q,hasPromoter:J,imageSignature:ee,isEligibleForPdp:en,isHiddenPin:el??void 0,isRelatedPinsFeedIsEmpty:s,isUnsafePin:ei??void 0,onIndexChange:e=>N(e),pinKey:S,selectedIndex:O,showClickthroughOverlay:!E,viewParameter:i,children:eB})})}):null,eV=(0,eF.jsx)(aE,{isMWebCloseupRedesign:M,onTouch:()=>{eM?eU((0,e0.Pu)({upsellContext:eO,learningUpsellScenario:eS,pinId:S?.entityId??"",onImageClick:l,trackInteraction:eA})):(eS&&eP?(eb?eA({action:"dismiss",item:"learning-upsell"}):eA({action:"click",item:"learning-upsell"}),eP(!eb)):l(),ef&&(0,eQ.My)(`unauth.mweb.${ep}.pin.image.touch`),!E&&en&&eA({action:"click",item:"pdp-pin-image"}))},unauthCloseupRedesignEnabled:G,withMarginTop:!(z&&V),children:(0,eF.jsxs)($.xu,{ref:e_,dangerouslySetInlineStyle:{__style:{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}},"data-test-id":"closeup-container",display:"flex",justifyContent:"center",onContextMenu:e=>{!E&&en&&(0,eQ.My)("unauth.pdp.pin.context_menu.open",{device:eu}),e.preventDefault(),e.stopPropagation(),m?(f((0,eF.jsx)(eY.Z,{children:(0,eF.jsx)(aI,{desktopContextMenuState:{x:e.clientX,y:e.clientY},isMainPinImage:!0,onSendButtonClick:k,pinKey:v()})})),(0,eQ.My)("pcons.dweb.main_pin.context_menu.open")):(0,eQ.My)(`${E?"auth":"unauth"}.mweb_pin_closeup_page.pin_image.long_press`)},onTouchEnd:e=>{if(!ef&&!ek)return;e.stopPropagation(),(0,eQ.My)(`unauth.mweb.${ep}.pin.image.touch.end`);let n=Date.now()-eg.current>500,l=!1,a=em.current;if(e.changedTouches&&e.changedTouches.length>0&&a){let n=e.changedTouches.item(0),i=n.clientX-a.x,t=n.clientY-a.y;l=n&&Math.pow(i,2)+Math.pow(t,2)>100}ef&&n&&!l&&((0,eQ.My)(`unauth.mweb.${ep}.pin.image.long.touch`),e.preventDefault(),E||m||x({pinId:S?.entityId??"",location:"main-pin-long-press"}))},onTouchMove:e=>{ek&&e.stopPropagation()},onTouchStart:e=>{if((ef||ek)&&(e.stopPropagation(),eg.current=Date.now(),(0,eQ.My)(`unauth.mweb.${ep}.pin.image.touch.start`),e.changedTouches&&e.changedTouches.length>0)){let n=e.changedTouches.item(0);n&&(em.current={x:n.clientX,y:n.clientY})}},children:[(!o||m)&&(D?(0,eF.jsx)(aT,{fallback:eB,naturalHeight:T?.height??1,naturalWidth:T?.width??1,rounded:!_,shuffle:ed,width:eZ,children:eB}):eB),o&&(m?(0,eF.jsx)($.xu,{bottom:!0,dangerouslySetInlineStyle:G?{__style:{borderRadius:"32px 0px 0px 32px",position:"relative"}}:void 0,left:!0,marginEnd:-2,marginStart:-2,overflow:"hidden",position:"absolute",right:!0,rounding:G?void 0:600,top:!0,children:d({placeholder:T&&{height:T.height,width:T.width}})}):(0,eF.jsxs)($.xu,{marginEnd:-2,marginStart:-2,overflow:eC?void 0:"hidden",width:eD,children:[d({placeholder:T&&{height:T.height,width:T.width}}),eC&&!c&&S&&(0,eF.jsx)(am,{imageSignature:ee,isPdp:en,pinKey:P(),type:eC,viewParameter:i})]}))]})});return(0,eF.jsx)($.xu,{position:"relative",width:"100%",children:B?ez:eV})}function aj({graphqlRef:e,...n}){let l=(0,ek.useFragment)(aC,e),a=(0,eG.Z)(l),i=l.images_236x||l.images_136x136,t=!!(i&&!l.images_236x),{isBot:r}=(0,ec.B)(),s=l.shuffle?.entityId,o=!!l.shuffle&&!r;return(0,eF.jsx)(aF,{...n,domain:l.domain,dominantColor:l.dominantColor,embedSrc:l.embed&&l.embed.src,embedType:l.embed&&l.embed.type,fullPinKey:e,hasPromoter:!!l.promoter&&!l.isDownstreamPromotion,imageSignature:l.imageSignature,imagesUrls:a,isSmallestImgPlaceholder:t,isUnsafePin:l.isUnsafe,pinKey:e,pinnerConnectionType:l.pinner?.connectionType,placeholder:i&&{height:i.height,width:i.width,url:i.url},seoAltText:l.seoAltText,shouldRenderShuffle:o,shuffleId:s})}function aL({pinKey:e,...n}){let l=e&&"type"in e&&"Legacy"===e.type?e.data:null,a=l?.images?.["236x"]||l?.images?.["136x136"],i=!!(a&&!l?.images?.["236x"]),t=(0,eG.Z)(null!=l?{type:"Legacy",data:l}:null),{isBot:r}=(0,ec.B)(),s=l?.shuffle?.id,o=l?{type:"Legacy",data:l}:null;return(0,eF.jsx)(aF,{...n,domain:l?.domain,dominantColor:l?.dominant_color,embedSrc:l?.embed?.src,embedType:l?.embed?.type,fullPinKey:o,hasPromoter:!!(l&&l.promoter&&!l.is_downstream_promotion),imageSignature:l?.image_signature,imagesUrls:t,isSmallestImgPlaceholder:i,isUnsafePin:l?.is_unsafe,pinKey:o,pinnerConnectionType:l?.pinner?.connection_type,placeholder:a&&{height:a.height,width:a.width,url:a.url},seoAltText:l?.seo_alt_text,shouldRenderShuffle:!!s&&!r,shuffleId:s})}function aA({graphqlRef:e,...n}){return(0,H.useEffect)(()=>{(0,V.Z)("CloseupMainPinImage","/app/www/closeup/duplo/CloseupMainPinImage.tsx")},[]),e?(0,eF.jsx)(aj,{...n,graphqlRef:e}):(0,eF.jsx)(aL,{...n})}var aR=l(306598),aK=l(69841),aD=l(252286);let aZ=(void 0!==T||(T=l(51807)).hash&&"ef89ffee0f6092e6cf575f4fe7263737"!==T.hash&&console.error("The definition of 'CloseupMainPinImpression_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T),aB=({children:e,pinKey:n})=>{(0,H.useEffect)(()=>{(0,V.Z)("CloseupMainPinImpression","/app/www/closeup/duplo/CloseupMainPinImpression.tsx")},[]);let l=(0,Y.TH)(),a=(0,Y.ur)(),i=(0,eh.HG)(),t=(0,ea.Z)(aZ,n),{imageLargeUrl:r}=t??{},{clientTrackingParams:s,viewParameter:o,isGoLinklessEnabledOverflow:d}=(0,lQ.B)(),{logStat:u}=(0,n4.Yg)(),c=(0,aD.s)({skipExpActivation:!0})&&i,p=(0,ne.Z)({skipExpActivation:!0}),g=t?.videos?.entityId;return(0,e_.Z)(()=>{u("main_pin_impression")}),(0,eF.jsx)($.xu,{"data-layout-shift-boundary-id":"CloseupPageBody",marginTop:c&&!p?4:void 0,children:(0,eF.jsx)(aK.dL,{auxData:{closeup_navigation_type:(0,aR.Z)(a,l),is_go_linkless:d},component:g?179:85,impressionData:{imageURL:r,type:13},loggingId:t?.entityId??"",slotIndex:-1,trackingParams:s,viewData:{pin_id:t?.entityId},viewParameter:o,viewType:3,children:({impressionTrackerRef:n})=>(0,eF.jsx)($.xu,{ref:n,"data-test-id":"CloseupMainPin",maxWidth:"100%",position:"relative",children:e})},t?.entityId)})},aO=new $.H3([new $.Ry(0)]);function aN({onMoreButtonTap:e,onSendButtonTap:n}){(0,H.useEffect)(()=>{(0,V.Z)("LinklessPinActionBar","/app/www/closeup/duplo/LinklessPinActionBar.tsx")},[]);let{userAgent:{platform:l}}=(0,ec.B)();return(0,eF.jsxs)($.xu,{display:"flex",justifyContent:"end",padding:6,position:"absolute",top:!0,width:"100%",zIndex:aO,children:[(0,eF.jsx)($.hU,{accessibilityLabel:"share",bgColor:"washDark",icon:"android"===l?"share-android":"share",onClick:n,size:"md"}),(0,eF.jsx)($.xu,{marginStart:2,children:(0,eF.jsx)($.hU,{accessibilityLabel:"overflow menu",bgColor:"washDark",icon:"ellipsis",onClick:e,size:"md"})})]})}var aM=l(746868),aU=l(805146),az=l(623830),aV=l(520803);function aH(){let{isAuthenticated:e}=(0,ec.B)(),n=(0,Y.TH)(),l=(0,Y.s0)(),a=(0,eI.Z)(),{viewType:i}=(0,aM.SU)(),{trackConversionUpsell:t}=(0,eC.Z)(),[r,s]=(0,H.useState)(!1),o=(0,aV.Z)(),d=n.state?.trackingParams;return({linkType:n,viewParameter:u})=>{if((0,eQ.NC)("click_pin_closeup_image"),e||a({action:"click",item:"pin-image"}),(0,az.Z)(n),e){o.params.id&&l(`/pin/${o.params.id}#${aU.v}`,{state:{trackingParams:d}});return}r?(t({eventType:14688,element:13319,component:14215,viewType:i,viewParameter:u,upsellReason:"click_pin_closeup_image"}),a({action:"click",item:"main-pin-wash"}),l("/signup")):((0,eQ.My)("main.pin.wash.show"),s(!r))}}var aG=l(228612),aW=l(200301);function aY({alt:e,dominantColor:n,height:l,onImageTap:a,onLoad:i,src:t,width:r,unauthLazyLoad:s,index:o}){(0,H.useEffect)(()=>{(0,V.Z)("ProductCarouselImage","/app/www/shopping/duplo/productCarousel/ProductCarouselImage.tsx")},[]);let{isAuthenticated:d}=(0,ec.B)(),u=(0,eh.ZP)(),c=(0,H.useRef)(!1),p=(0,H.useRef)(null),{mWebCloseupRedesignEnabled:g}=(0,ex.Z)(),m=(0,H.useCallback)(()=>{c.current||((0,nA.nP)("mweb.closeup.product_carousel_image.load"),c.current=!0),i&&i()},[i]);return(0,e_.Z)(()=>{t||(0,nA.nP)("mweb.closeup.product_carousel_image.no_image_url")}),(0,lq.Z)(p,{metricName:"mweb.closeup.product_carousel_image.invalid_dimensions",tags:{isAuthenticated:d}}),(0,eF.jsxs)($.iP,{onTap:()=>{d||(0,eQ.My)("unauth.pdp.carousel.click",{device:u,index:o}),a()},tapStyle:"compress",children:[(0,eF.jsx)($.xu,{ref:p,dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},height:"100%",position:"absolute",top:!0,width:"100%",zIndex:new $.Ry(1)}),(0,eF.jsx)($.Ee,{alt:e,color:n,fetchPriority:g?"high":void 0,loading:s?"lazy":"auto",naturalHeight:l,naturalWidth:r,onLoad:m,src:t})]})}let a$=(void 0!==I||(I=l(445238)).hash&&"c680e00cd7b9416b1b23b78e3d6e22db"!==I.hash&&console.error("The definition of 'ProductCarousel_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),I);function aq({onImageTap:e,pinKey:n,viewParameter:l,unauthLazyLoad:a}){(0,H.useEffect)(()=>{(0,V.Z)("ProductCarousel","/app/www/shopping/duplo/productCarousel/ProductCarousel.tsx")},[]);let i=(0,aV.Z)(),t=(0,ew.Z)(),r=(0,eb.Z)(),[s,o]=(0,H.useState)(0),{isAuthenticated:d}=(0,ec.B)(),{mWebCloseupRedesignEnabled:u}=(0,ex.Z)(),c=(0,H.useRef)(null),p=(0,H.useRef)([]),g=(0,ea.Z)(a$,n),m=()=>{(0,eu.Nx)("PinPageMainImageRendered")},h=t._('Pin image', 'Pin closeup image', 'Pin closeup image'),_=(0,lU.Z)({isHiddenPin:g?.isHidden,isUnsafePin:g?.isUnsafe})&&0===s,y=(0,ah.Z)(g),f=(y?.carouselSlots??[]).filter(({imageSizeMap:e})=>(0,aW.Z)(e)),k=f.length,{imageSignature:x}=f[s]||{},S=()=>{if(!c.current)return;let{left:e,width:n}=c.current.getBoundingClientRect(),l=e+n/2;for(let e=0;e<k;e++){let{x:n}=p.current[e].current.getBoundingClientRect(),{x:a=1/0}=p.current[e+1]?.current.getBoundingClientRect()||{};if(n<=l&&a>l){o(e);break}}};(0,e_.Z)(()=>{p.current=Array(k).fill().map((e,n)=>p.current[n]||(0,H.createRef)());let e=c.current;return e&&e.addEventListener("scroll",S),()=>{e?.removeEventListener("scroll",S)}}),(0,H.useEffect)(()=>{x&&r({event_type:13,view_type:3,view_parameter:144,element:10555,aux_data:{view_object_image_signature:x}})},[r,x]);let b=(0,H.useRef)((0,aS.u)()?.setHasScrolledPastMainContent);(0,H.useEffect)(()=>{let e=(0,eX.Z)(()=>{if(c.current){let n=window.scrollY>c.current.offsetTop+c.current.offsetHeight;b.current?.(n),n&&window.removeEventListener("scroll",e)}},10);e(),window.addEventListener("scroll",e)},[]);let{hasScrolledPastMainContent:P}=(0,aS.u)()??Object.freeze({}),v="visualSearch";return d||P||(v="moreLikeThisButton"),(0,eF.jsxs)($.xu,{marginEnd:-e8.D6,marginStart:-e8.D6,position:"relative",children:[(0,eF.jsx)($.xu,{ref:c,display:"flex",maxHeight:"60vh",minHeight:"30vh",overflow:"scrollX",children:f.map((n,l)=>{let i=0===l,t=l===k-1,r=(0,aW.Z)(n.imageSizeMap);return(0,eF.jsx)($.xu,{ref:p.current[l],alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#ffffff00"}},display:"flex",flex:"none",marginEnd:u?1:2*!t,marginStart:u?+!!i:void 0,overflow:u?"hidden":void 0,position:"relative",rounding:u?400:void 0,width:"80%",children:(0,eF.jsx)(aY,{alt:h,dominantColor:"#ffffff00",height:r?.height??1,index:l,onImageTap:e,onLoad:m,src:r?.url??"",unauthLazyLoad:a&&!i,width:r?.width??1})},`${g?.entityId??""}_${l}`)})}),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 500ms,                          visibility 500ms ease-in-out",visibility:_?"visible":"hidden"}},marginEnd:u?1:void 0,opacity:100*!!_,children:(0,eF.jsx)(am,{imageSignature:x,pinId:i.params.id||g?.entityId||"",pinKey:g,type:v,viewParameter:l})})]})}let aX=(0,lw.Z)(()=>Promise.all([l.e("88122"),l.e("55054")]).then(l.bind(l,166508)),void 0,e=>166508,"app-www-closeup-duplo-CloseupStoryPinBlock",e=>["88122","55054"]),aQ=(0,lw.Z)(()=>Promise.all([l.e("22244"),l.e("88122"),l.e("14532"),l.e("13094")]).then(l.bind(l,846435)),void 0,e=>846435,"app-www-storyPins-duplo-StoryPinCloseup",e=>["22244","88122","14532","13094"]),aJ=(0,lw.Z)(()=>l.e("49473").then(l.bind(l,63222)),void 0,e=>63222,"app-www-closeup-duplo-CloseupVideo",e=>["49473"]),a0=(0,lw.Z)(()=>Promise.all([l.e("22244"),l.e("88122"),l.e("14532"),l.e("18917")]).then(l.bind(l,278905)),void 0,e=>278905,"app-www-closeup-duplo-StoryPinCloseupBodyOnDesktop",e=>["22244","88122","14532","18917"]),a1=(0,lw.Z)(()=>l.e("90637").then(l.bind(l,385960)),void 0,e=>385960,"app-www-closeup-duplo-StoryPinCloseupDetailsOnDesktop",e=>["90637"]),a2=(0,lw.Z)(()=>Promise.all([l.e("22244"),l.e("88122"),l.e("14532"),l.e("13094"),l.e("18153")]).then(l.bind(l,417806)),void 0,e=>417806,"app-www-closeup-duplo-StoryPinCloseupBodyOnMobile",e=>["22244","88122","14532","13094","18153"]),a3=(0,lw.Z)(()=>l.e("40947").then(l.bind(l,984089)),void 0,e=>984089,"app-www-SeoDebugModule-SeoDebugModulePin",e=>["40947"]),a6=(0,lw.Z)(()=>l.e("22269").then(l.bind(l,942782)),void 0,e=>942782,"app-packages-rich-snippet-LeafSnippet",e=>["22269"]),a5=({setIsShowingCloseupDetailsSuspenseFallback:e})=>((0,H.useEffect)(()=>(e(!0),()=>e(!1)),[e]),null),a4=({children:e,queryRef:n})=>e((0,ea.Z)((void 0!==C||(C=l(674901)).hash&&"6eb3aa6fbf1cc1f0828a3a00fad8d439"!==C.hash&&console.error("The definition of 'CloseupMainPinDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),C),(0,ek.usePreloadedQuery)(e4.default,n).v3GetPinQuery?.data)),a8=({children:e,fallback:n,queryRef:l})=>l?(0,eF.jsx)(H.Suspense,{fallback:n,children:(0,eF.jsx)(a4,{queryRef:l,children:n=>n&&e(n)})}):e(null);function a9({actionBarIsMinifiedToMainPinImage:e,clickthrough:n,closeupPinActionBar:a,closeupIsFirstPageInHistoryStack:i,embedSrc:t,embedSubtype:r,embedType:s,graphqlRefs:o,hasImages:d,hasProductAdditionalImages:u,shouldRenderAsStoryPinVideo:c,instagramPostLink:p,isActionBarInline:g,isEligibleForPdp:m,isImagePinForUnauthOnTablet:h,isRelatedPinsFeedIsEmpty:_,isSendPinModalOpen:y,isVideoPin:f,nativeCreatorVerifiedWebsite:k,onMoreButtonClick:x,onSendPin:S,pinActionBar:b,pinId:P,pinLink:v,pinMobileLink:w,pinTrackedLink:T,pinUtmLink:I,setIsActionBarInline:C,setIsShowingCloseupDetailsSuspenseFallback:F,setPinImageHeight:j,shouldShowReactions:L,shouldShowSEOPinInfo:A,showCloseupCommentModule:R,unauthCloseupRedesignEnabled:K,viewerId:D,legacyPin:Z}){let B=null!=Z?{type:"Legacy",data:Z}:null,O=o?.pageRef??B,{isAuthenticated:N,isBot:M}=(0,ec.B)(),{seoDebug:U}=(0,G.v9)(({session:e})=>e),{clientTrackingParams:z,isStoryPin:V,viewParameter:W,shouldRenderAsStoryPin:X}=(0,lQ.B)(),{checkExperiment:J}=(0,eo.Z)(),ee=(0,Y.TH)(),en=(0,eh.Wb)(),el=(0,lu.g)(),ei=(0,eh.HG)(),[et,er]=(0,H.useState)(!1),[ed,eu]=(0,H.useState)(!0),ep=(0,Q.g)(),eg=ep?.pinLinkClickHandler,em=!N&&ei&&!X&&J("ce_dweb_unauth_pin_card_overflow").anyEnabled,e_=()=>{n(),eg&&eg()},ey=aH(),ef=()=>ey({linkType:w&&"mobile"||I&&"utm"||T&&"tracked"||v&&"external"||"original",viewParameter:W}),ek=(0,G.I0)(),ex=(0,G.v9)(({pinNavContext:e})=>e?.pinId!==P?{}:e,(e,n)=>e?.pinId===n?.pinId);(0,H.useEffect)(()=>{ex?.pinId&&ex.pinId!==P&&ek({type:"PIN_NAV_CONTEXT_DELETE"})},[]);let eS=(0,ea.Z)((void 0!==E||(E=l(273545)).hash&&"7f55d29866a7f8059aae87f5e59a6f91"!==E.hash&&console.error("The definition of 'CloseupMainPinStoryPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),E),o?.storyPinRef??null),eb=eS??B,eP=nn();return(0,eF.jsx)(q.Z,{id:"CloseupMainPinImpression",children:(0,eF.jsxs)(aB,{pinKey:"IsStoryPin"===V.kind?eb:O,children:[U&&ed&&(0,eF.jsx)(a3,{pinKey:"IsStoryPin"===V.kind?eb:O,setShowSeoDebugModule:eu}),e&&(0,eF.jsx)(aN,{onMoreButtonTap:x,onSendButtonTap:S}),X?(0,eF.jsxs)(H.Fragment,{children:[ei?(0,eF.jsx)(q.Z,{id:"StoryPinCloseupBodyOnDesktop",children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:K?{__style:eP}:void 0,children:(0,eF.jsx)(a0,{clientTrackingParams:z,pinActionBar:b,pinKey:eb})})}):(0,eF.jsx)(q.Z,{id:"StoryPinCloseupBodyOnMobile",children:(0,eF.jsx)(a2,{clientTrackingParams:z,pinKey:eS,viewParameter:W})}),(0,eF.jsx)(a8,{queryRef:o?.detailRef,children:e=>{let n=e??B;return ei||h||null==n?null:(0,eF.jsx)(q.Z,{id:"CloseupDetails",children:(0,eF.jsx)(lO,{clientTrackingParams:z,instagramPostLink:p,isActionBarInline:g,isStoryPin:{kind:"IsStoryPin",optionalFragmentRef:null},nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:N?ef:e_,setIsActionBarInline:C,shouldShowReactions:L,shouldShowSEOPinInfo:A,showCloseupCommentModule:R,unauthCloseupRedesignEnabled:K,viewParameter:W,pinKey:n})})}})]}):(0,eF.jsx)(q.Z,{id:"CloseupBodyLayout",children:(0,eF.jsx)(ns,{closeupPinActionBar:a,detail:(0,n2.L)(V)&&!X&&ei?(0,eF.jsx)(q.Z,{id:"CloseupDetailsLayout",children:(0,eF.jsx)(lD,{excludeHeaderOffset:em,children:(0,eF.jsxs)($.xu,{padding:K?void 0:3,children:[b,(0,eF.jsx)(q.Z,{id:"StoryPinCloseupDetailsOnDesktop",children:(0,eF.jsx)(a1,{clientTrackingParams:z,disableScroll:!0,pinKey:eS,shouldHideReactions:!0})})]})})}):(0,eF.jsx)(a8,{fallback:(0,eF.jsx)(a5,{setIsShowingCloseupDetailsSuspenseFallback:F}),queryRef:o?.detailRef,children:n=>{let l=n??B;return null!=l?(0,eF.jsx)(q.Z,{id:"CloseupDetails",children:(0,eF.jsx)(lO,{clientTrackingParams:z,inPinCardOverflowExp:em,instagramPostLink:p,isActionBarInline:g,isImagePinForUnauthOnTablet:h,isStoryPin:V,nativeCreatorVerifiedWebsite:k,onClickTitleOrDomain:e_,pinActionBar:e?null:b,pinId:P,setIsActionBarInline:C,shouldShowReactions:L,shouldShowSEOPinInfo:A,showCloseupCommentModule:R,unauthCloseupRedesignEnabled:K,viewerId:D,viewParameter:W,pinKey:l})}):null}}),inPinCardOverflowExp:em,isShowingBreadcrumbs:!N&&!((0,n2.L)(V)&&!ei),media:(0,eF.jsx)(e9.Z,{clientTrackingParams:z,component:f?179:85,viewParameter:W,children:f?(0,eF.jsx)(q.Z,{id:"CloseupVideo",children:(0,eF.jsx)(aJ,{handleVideoTimeChange:e=>{ek({type:"PIN_NAV_CONTEXT_CREATE",payload:{pinId:P,video:{elapsedTime:e}}})},isAuthenticated:N,isFirstPageInHistoryStack:i,isSendPinModalOpen:y,onSendPin:S,pinKey:O,startTimeAt:ex?.video?.elapsedTime})}):(0,es.cL)({embedSrc:t,embedSubtype:r,embedType:s})?(0,eF.jsx)(a8,{queryRef:o?.detailRef,children:e=>{let n=e??B;return n?(0,eF.jsx)(lN,{pinKey:n}):null}}):!ei&&u&&(N?m:!M)?(0,eF.jsx)(a8,{queryRef:o?.detailRef,children:e=>{let n=e??B;return null!=n?(0,eF.jsx)(q.Z,{id:"ProductCarousel",children:(0,eF.jsx)(aq,{onImageTap:ef,unauthLazyLoad:!N,viewParameter:W,pinKey:n})}):null}}):d?(0,eF.jsx)(av.x,{children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{margin:N&&!en?`0 ${-e8.yt}px`:void 0}},children:(0,eF.jsx)(q.Z,{id:"CloseupMainPinImage",children:(0,eF.jsx)(aA,{actionBarIsMinifiedToMainPinImage:e,clickthrough:et?e_:void 0,graphqlRef:o?.pageRef??null,isRelatedPinsFeedIsEmpty:_,onImageClick:e=>{e&&(e.preventDefault(),e.stopPropagation()),c||ef()},pinKey:O,renderStoryPinBlock:({placeholder:e})=>c&&!ei?(0,eF.jsx)(aQ,{clientTrackingParams:z,location:ee,pinKey:eb,viewParameter:W}):(0,eF.jsx)(aX,{pinKey:eb,placeholder:e}),setPinImageHeight:j,setShowClickthroughOverlay:er,shouldRenderAsStaticImageIdeaPin:(0,n2.L)(V)&&!X,shouldRenderAsStoryPinVideo:c,viewParameter:W})})})}):(0,eF.jsx)(H.Fragment,{children:null})}),sideBySideOptions:"lg"===el||ei?{mainImageEventHandlers:f?void 0:ei?{onMouseEnter:()=>{er(!0)},onMouseLeave:()=>{er(!1)}}:void 0}:null})}),!N&&(0,eF.jsx)(a8,{queryRef:o?.detailRef,children:e=>{let n=e??B;return null!=n?(0,eF.jsx)(a6,{pinKey:n}):null}})]})})}function a7({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:n,graphqlRefs:a,onLinklessPinTap:i,unauthPdp:t,pinId:r,nativeCreatorVerifiedWebsite:s,...o}){let d=(0,ea.Z)((void 0!==F||(F=l(960811)).hash&&"88b715b02de24c58b96d42c04c179d19"!==F.hash&&console.error("The definition of 'CloseupMainPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F),a.pageRef),u=(0,n5.Z)({clickthroughInterstitialExperience:n,linklessOptions:(0,es.rM)({mobileLink:d.mobileLink,trackedLink:d.trackedLink,link:d.link,utmLink:d.utmLink})?{actionBarIsMinifiedToMainPinImage:e,onTap:i}:void 0,nativeCreatorVerifiedWebsite:s,pinKey:d}),c=d.richMetadata?.products?.[0],p=Number(c?.additionalImageSpec_236x?.length)>0||Number(c?.additionalImageSpec_474x?.length)>0||Number(c?.additionalImageSpec_564x?.length)>0||Number(c?.additionalImageSpec_736x?.length)>0,g=d.storyPinData?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),m=g?.some(e=>e.blocks?.find(e=>3===e.blockType))||(g?.length||0)>1;return(0,eF.jsx)(a9,{...o,actionBarIsMinifiedToMainPinImage:e,clickthrough:u,clickthroughInterstitialExperience:n,embedSrc:d.embed?.src,embedSubtype:d.embed?.subtype,embedType:d.embed?.type,graphqlRefs:{...a,pageRef:d},hasImages:!!d.images_orig,hasProductAdditionalImages:p,isEligibleForPdp:d.isEligibleForPdp,legacyPin:null,nativeCreatorVerifiedWebsite:s,onLinklessPinTap:i,pinId:r,pinImageLargeUrl:d.imageLargeUrl,pinLink:d.link,pinMobileLink:d.mobileLink,pinTrackedLink:d.trackedLink,pinUtmLink:d.utmLink,shouldRenderAsStoryPinVideo:m})}function ie({actionBarIsMinifiedToMainPinImage:e,clickthroughInterstitialExperience:n,unauthPdp:l,onLinklessPinTap:a,pinId:i,nativeCreatorVerifiedWebsite:t,...r}){let s=(0,aG.S6)()(i),o=(0,n5.Z)({clickthroughInterstitialExperience:n,linklessOptions:(0,es.rM)({mobileLink:s?.mobile_link,trackedLink:s?.tracked_link,link:s?.link,utmLink:s?.utm_link})?{actionBarIsMinifiedToMainPinImage:e,onTap:a}:void 0,nativeCreatorVerifiedWebsite:t,pinKey:null!=s?{type:"Legacy",data:s}:null}),d=s?.story_pin_data?.pages?.filter(e=>!(2===e.layout&&!e.ad||5===e.layout||6===e.layout)),u=d?.some(e=>e.blocks?.find(e=>3===e.block_type))||(d?.length||0)>1;return s?(0,eF.jsx)(q.Z,{id:"CloseupMainPin",children:(0,eF.jsx)(a9,{...r,actionBarIsMinifiedToMainPinImage:e,clickthrough:o,clickthroughInterstitialExperience:n,embedSrc:s.embed?.src,embedSubtype:s.embed?.subtype,embedType:s.embed?.type,hasImages:!!s.images,hasProductAdditionalImages:Number(s.rich_metadata?.products?.[0].additional_images?.length)>0,isEligibleForPdp:s.is_eligible_for_pdp,legacyPin:s,nativeCreatorVerifiedWebsite:t,onLinklessPinTap:a,pinId:i,pinImageLargeUrl:s.image_large_url,pinLink:s.link,pinMobileLink:s.mobile_link,pinTrackedLink:s.tracked_link,pinUtmLink:s.utm_link,shouldRenderAsStoryPinVideo:u})}):null}function il({unauthPdp:e,graphqlRefs:n,...l}){return(0,H.useEffect)(()=>{(0,V.Z)("CloseupMainPin","/app/www/closeup/duplo/CloseupMainPin.tsx")},[]),n?(0,eF.jsx)(a7,{...l,graphqlRefs:n,unauthPdp:e}):(0,eF.jsx)(ie,{...l,unauthPdp:e})}var ia=l(707855),ii=l(134136),it=l(369594),ir=l(390588);function is({children:e,imageViewer:n}){return(0,H.useEffect)(()=>{(0,V.Z)("WithImageViewer","/app/www/closeup/duplo/WithImageViewer.tsx")},[]),(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-out"}},"data-layout-shift-boundary-id":"CloseupPageContainerInner",display:n?"visuallyHidden":"block",opacity:100*!n,children:!n&&e}),(0,eF.jsx)(eL.Z,{name:"SafeSuspense_Closeup_ImageViewer",children:(0,eF.jsx)(eY.Z,{children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.2s ease-in"}},display:n?"block":"visuallyHidden",opacity:100*!!n,children:n})})})]})}let io=(void 0!==j||(j=l(576683)).hash&&"fe3ae48c7e040b2bea5919c1aeefabdf"!==j.hash&&console.error("The definition of 'CloseupPageContainer_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j);function id({children:e,closeupPageContext:n,hasGutter:l,imageViewer:a,pinKey:i,stickyUpsell:t}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupPageContainer","/app/www/closeup/duplo/CloseupPageContainer.tsx")},[]);let r=i&&"GraphQL"===(0,ia.o)(i),s=(0,ea.Z)(io,i);return(0,eF.jsx)(q.Z,{id:"CloseupPageContainer",children:(0,eF.jsx)(lQ.q,{value:n,children:(0,eF.jsxs)($.xu,{position:"relative",width:"100%",children:[!!t&&(0,eF.jsx)($.Le,{top:aa.SB,zIndex:new $.Ry(99999),children:t}),(0,eF.jsx)(it.u,{children:(0,eF.jsx)(ir.Z,{graphqlRef:r?s:null,onSendButtonClick:n.onSendButtonClick,children:(0,eF.jsx)(ii.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:l,children:(0,eF.jsx)(au.m,{children:(0,eF.jsx)(is,{imageViewer:a,children:e})})})})})]})})})}var iu=l(914461),ic=l(603284),ip=l(168643),ig=l(250704);let im=(void 0!==L||(L=l(766859)).hash&&"5b01543e9ace6cf2b437348f6b1a3a64"!==L.hash&&console.error("The definition of 'CloseupPageViewAndTimeSpent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),L);function ih({children:e,pin:{imageSignature:n,isEligibleForPdp:l,isOosProduct:a,isStaleProduct:i,shoppingFlags:t,trackingParams:r},pinId:s,viewParameter:o}){let d=(0,Y.TH)(),u=(0,Y.ur)(),c=(0,ig.Z)(d.state?.trackingParams,r);return(0,eF.jsx)(ic.Z,{auxData:{closeup_navigation_type:(0,aR.Z)(u,d),commerce_data:(0,ip.Z)({isEligibleForPdp:l,isOosProduct:a,isStaleProduct:i,pinShoppingFlags:t??[]})},clientTrackingParams:c,component:13283,objectIdStr:s,viewData:{pin_id:s,closeup_rich_types:t??[],image_signature:n??null},viewParameter:o,viewType:3,children:(0,eF.jsx)(e9.Z,{clientTrackingParams:c,objectId:s,view:3,children:e})})}function i_({children:e,pinKey:n,...l}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupPageViewAndTimeSpent","/app/www/closeup/duplo/CloseupPageViewAndTimeSpent.tsx")},[]);let a=(0,ea.Z)(im,n);return a?(0,eF.jsx)(ih,{pin:a,...l,children:e}):null}var iy=l(562400),ik=l(507006),ix=l(132529),iS=l(307618),ib=l(969862);let iP=(0,lw.Z)(()=>l.e("24871").then(l.bind(l,467603)),{ssr:!1},e=>467603,void 0,void 0),iv=(0,lw.Z)(()=>l.e("89402").then(l.bind(l,576505)),{ssr:!1,fallback:(0,eF.jsx)(ix.Z,{paddingX:2})},e=>576505,"ReactionPicker",e=>["89402"]),iw=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,329706)),void 0,e=>329706,"CommentThreadModalEntryPoint",e=>[]),iT=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,715935)),void 0,e=>715935,"AnimatedSendButton",e=>[]),iI=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,937710)),void 0,e=>937710,"PinContextMenuButton",e=>[]),iC=(void 0!==A||(A=l(759005)).hash&&"166b47ef3a89646cd4bfe6a7fa437256"!==A.hash&&console.error("The definition of 'CloseupPinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A),iE=({children:e,experience:n,onCompleteRef:l})=>{let a=(0,H.useRef)(null);return(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{ref:a,children:(0,eF.jsx)($.xu,{children:e})}),(0,eF.jsx)(eL.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,eF.jsx)(q.Z,{id:"ExperienceTooltipDelayedPulsar",children:(0,eF.jsx)(iP,{anchor:a.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:l,showTooltip:!0})})})]})},iF=({children:e,onCaptureRedirect:n,getFallbackInteractive:l,shouldRedirectOnExtendedClick:a})=>{let i=(0,H.useRef)(null),t=(0,H.useCallback)(e=>{let t=e.target;if(!t||!i.current||!(t===i.current||n&&n({container:i.current,origin:t})))return;e.preventDefault(),e.stopPropagation();let r=!!a&&a(),s=l?l({container:i.current}):i.current.querySelector('button, [role="button"], a[href]');r&&s instanceof HTMLElement&&s.click()},[l,n,a]);return(0,eF.jsx)("div",{ref:i,onClickCapture:t,children:(0,eF.jsx)($.kC,{alignItems:"center",justifyContent:"center",children:e})})};function ij({experience:e,isRemovablePin:n,nativePinType:l,onMobileTap:a,onSendButtonClick:i,pinId:t,pinKey:r,pinnedToBoardId:s,pinnedToBoardUrl:o,setIsActionBarInline:d,shouldUseGraphQL:u}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupPinActionBar","/app/www/closeup/duplo/CloseupPinActionBar.tsx")},[]);let c=(0,H.useRef)(null),p=(0,H.useRef)(!1),g=(0,eh.ml)(),{isAuthenticated:m,locale:h,isBot:_}=(0,ec.B)(),{clientTrackingParams:y,saveButtonConfig:f,viewParameter:k}=(0,lQ.B)(),x=(0,H.useRef)(null),{checkExperiment:S}=(0,eo.Z)(),b=(0,iS.$)(),{logStat:P}=(0,n4.Yg)(),v=(0,ea.Z)(iC,r),{mWebCloseupRedesignEnabled:w,mWebCloseupRedesignExpGroup:T}=(0,ex.Z)(),I=(0,eb.Z)(),C=(v?.aggregatedPinData?.commentCount??0)+(v?.aggregatedPinData?.didItData?.imagesCount??0),E=v?.aggregatedPinData?.entityId,F=h.startsWith("en"),j=!m&&!_&&!g&&F&&S("unauth_eoq_mau_lever").anyEnabled,L=!m&&g&&F&&!1,A=S("ce_mweb_expand_action_bar_tap_targets",{dangerouslySkipActivation:!0}).anyEnabled,R=(0,H.useCallback)(()=>S("ce_mweb_expand_action_bar_tap_targets").anyEnabled,[S]),K=(0,H.useMemo)(()=>({tags:{in_experiment:w,exp_group:T??"none"}}),[w,T]),D=(0,H.useCallback)(e=>{(0,nA.nP)("mweb.closeup.closeup_pin_action_bar.context_menu_button.click",K),a&&a(e)},[a,K]),Z=(0,H.useCallback)(e=>{(0,nA.nP)("mweb.closeup.closeup_pin_action_bar.share_button.click",K),i&&i(e)},[i,K]),B=(0,H.useCallback)(()=>{(0,nA.nP)("mweb.closeup.closeup_pin_action_bar.comment_button.click",K)},[K]),O=(0,H.useCallback)(()=>{(0,nA.nP)("mweb.closeup.closeup_pin_action_bar.reaction_button.click",K)},[K]),N=(0,iy.Z)(()=>{w&&(0,nA.nP)("mweb.closeup.pin_action_bar.save_button.click",K)},100),M=(0,eF.jsx)($.kC,{alignItems:"center",dataTestId:"reaction-count",justifyContent:"start",minWidth:40,children:(0,eF.jsx)(q.Z,{id:"ReactionPicker",children:(0,eF.jsx)(iv,{aggregatedPinDataId:E,inExpandTapTargetExp:A,nativePinType:l??"",onReactionButtonClick:O,pinId:t,shouldUseGraphQL:u})})}),U=(0,eF.jsxs)($.kC,{alignItems:"center",dataTestId:"comment-button",justifyContent:"start",children:[(0,eF.jsx)(q.Z,{id:"CommentThreadModalEntryPoint",children:(0,eF.jsx)(iw,{onCommentButtonClick:B,padding:2,pinId:t,withReactions:!1})}),!!C&&C>0&&(0,eF.jsx)($.xu,{marginEnd:2,children:(0,eF.jsx)($.xe,{dataTestId:"comment-count",size:"100",weight:"bold",children:(0,eF.jsx)(ik.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:C},C)})})]}),z=(0,eF.jsxs)($.kC,{alignItems:"center",dataTestId:"share-button-group",justifyContent:"start",children:[(0,eF.jsx)(q.Z,{id:"AnimatedSendButton",children:(0,eF.jsx)(iT,{ref:c,onDefaultSendButtonClick:Z,padding:2,pinKey:v,viewParameter:k})}),(0,eF.jsx)(q.Z,{id:"ExperiencePopoverEducational",children:(0,eF.jsx)(eA.N,{anchors:{4019:c.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]}),G=(0,eF.jsx)($.kC,{alignItems:"center",dataTestId:"context-menu-button",justifyContent:"start",children:(0,eF.jsx)($.xu,{"data-test-id":"ellipsis-button",children:(0,eF.jsx)(q.Z,{id:"PinContextMenuButton",children:(0,eF.jsx)(iI,{clientTrackingParams:y,onMobileTap:D,onSendButtonClick:i,padding:2,pinKey:v,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!m,shouldShowSeoDrawerOption:!m,size:"lg",viewParameter:k})})})}),W=(0,eF.jsx)(q.Z,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,eF.jsx)(iE,{experience:e,onCompleteRef:x,children:(0,eF.jsx)($.xu,{"data-test-id":"closeup-save-button-container",children:(0,eF.jsx)(ib.Z,{clientTrackingParams:y,color:"primary",deeplinkUri:f.shouldShowSavedButton&&o||f.repinPageLocation.deeplinkUri,onTouch:e=>{I({event_type:101,view_type:3,view_parameter:k,component:13282,element:10960,aux_data:{pin_id:t}}),x.current?.(),f.onSaveButtonClick(e),P(b?.getData(t)?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),N()},onUnsave:f.onUnsaveButtonClick,pinKey:v,pinnedToBoardId:s,shouldShowSavedButton:f.shouldShowSavedButton,to:f.repinPageLocation.mwebUri,viewParameter:k,viewType:3})})})});return(0,eF.jsx)($.xu,{color:"default","data-test-id":"closeup-pin-action-bar-container",width:"100%",children:(0,eF.jsx)(nh.Z,{onVisibilityChange:d?e=>{if(!(e&&e.length>0&&d))return;let{intersectionRatio:n,boundingClientRect:l}=e[0],a=1===n,i=l.y<0;d(a||i),!p.current&&(a||i)&&((0,nA.nP)("mweb.closeup.closeup_pin_action_bar.impression",K),p.current=!0)}:()=>{},options:{threshold:[1]},children:e=>(0,eF.jsx)($.xu,{ref:e,"data-test-id":"closeup-pin-action-bar",children:(0,eF.jsxs)($.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,eF.jsxs)($.kC,{alignItems:"center",dataTestId:"closeup-pin-action-items",gap:2,justifyContent:"start",children:[(0,eF.jsx)(iF,{getFallbackInteractive:({container:e})=>e.querySelector('[data-test-id="react-button"]'),onCaptureRedirect:({origin:e})=>!!e.closest('[data-test-id="reactions-count"]'),shouldRedirectOnExtendedClick:R,children:M}),(0,eF.jsx)(iF,{getFallbackInteractive:({container:e})=>e.querySelector('[data-test-id="comment-button"] button'),onCaptureRedirect:({origin:e})=>!!e.closest('[data-test-id="comment-count"]'),shouldRedirectOnExtendedClick:R,children:U}),(0,eF.jsx)(iF,{getFallbackInteractive:()=>c.current,shouldRedirectOnExtendedClick:R,children:z}),(0,eF.jsx)(iF,{shouldRedirectOnExtendedClick:R,children:G})]}),(0,eF.jsx)($.kC,{alignItems:"center",gap:2,children:(0,eF.jsx)($.xu,{marginStart:3,children:j||L||m&&n?null:W})})]})})})})}var iL=l(838751);let iA="undefined"!=typeof window&&window.innerWidth-32||400,iR="CloseupPageSkeletonLoader__",iK=()=>{(0,H.useEffect)(()=>{(0,V.Z)("CloseupSkeletonLoader","/app/www/closeup/duplo/CloseupSkeletonLoader.tsx")},[]);let e=(0,ew.Z)(),{isAuthenticated:n}=(0,ec.B)();return(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)(l4.Z,{unsafeCSS:[{name:`${iR}closeup`,width:iA,height:iA},{name:`${iR}title`,width:iA,height:24},{name:`${iR}attribution`,width:40,height:40},{name:`${iR}credit`,width:iA-40-8,height:40},{name:`${iR}visit_button`,width:iA,height:40},{name:`${iR}pin_grid_pin`,width:(iA-32)/2,height:100}].map(({name:e,width:n,height:l})=>(0,iL.Z)({name:e,width:n,height:l})).join("")}),(0,eF.jsxs)($.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{marginEnd:3,marginTop:4,children:(0,eF.jsx)("div",{className:iR+"closeup"})}),(0,eF.jsx)($.xu,{marginTop:3,children:(0,eF.jsx)("div",{className:iR+"title"})}),(0,eF.jsxs)($.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,eF.jsx)($.xu,{children:(0,eF.jsx)("div",{className:iR+"attribution"})}),(0,eF.jsx)($.xu,{marginStart:2,children:(0,eF.jsx)("div",{className:iR+"credit"})})]}),(0,eF.jsx)($.xu,{marginTop:3,children:(0,eF.jsx)($.iz,{})})]}),(0,eF.jsx)($.xu,{marginBottom:3,marginTop:2,children:(0,eF.jsx)($.xe,{align:n?void 0:"center",weight:"bold",children:e._('More like this', 'On mobile web pin page, title for related pins beneath pin closeup', 'On mobile web pin page, title for related pins beneath pin closeup')})}),(0,eF.jsxs)($.xu,{direction:"row",display:"flex",marginTop:3,children:[(0,eF.jsx)($.xu,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,eF.jsx)("div",{className:iR+"pin_grid_pin"})}),(0,eF.jsx)($.xu,{marginEnd:n?2:1,marginStart:n?2:1,children:(0,eF.jsx)("div",{className:iR+"pin_grid_pin"})})]})]})]})};var iD=l(667980),iZ=l(254889);function iB({pinContextMenuButton:e,showBackButtonLabel:n=!1}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupStickyHeader","/app/www/closeup/duplo/CloseupStickyHeader.tsx")},[]);let{isAuthenticated:l}=(0,ec.B)(),a=(0,eh.ZP)(),{mWebCloseupRedesignEnabled:i}=(0,ex.Z)();return(0,eF.jsx)($.Le,{top:l?0:(0,aa.x9)(a),zIndex:new $.H3([nU.sp]),children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},marginTop:i?1:2,position:"absolute",width:"100%",children:(0,eF.jsxs)($.kC,{justifyContent:l?"between":"end",children:[l&&(0,eF.jsx)(iD.Z,{children:(0,eF.jsx)(iZ.default,{bgColor:"default",color:"default",fallbackUrl:l?"/":"/ideas",padding:3,showBackButtonLabel:n,viewParameter:156,viewType:3})}),!!e&&(0,eF.jsx)(iD.Z,{children:e})]})})})}var iO=l(47755);async function iN(e){try{let n=await (0,iO.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e}});return Promise.resolve(n.resource_response?.data)}catch(n){return(0,nA.nP)("app.user-state.request.get.error",{sampleRate:1,tags:{ErrorType:n instanceof Error?n.name:typeof n,key:e}}),Promise.resolve(null)}}async function iM(e,n){return(0,iO.Z)({url:"/v3/users/state/{state}/",urlParams:{state:e},method:"PUT",data:{value:n}})}async function iU(e){try{await iN("HAS_DONE_CLOSEUP")||(0,aw.xT)(e)||await iM("HAS_DONE_CLOSEUP",1)}catch(n){(0,nA.nP)("closeup.has_done_closeup_check.failed",{sampleRate:1,tags:{ErrorType:typeof n,isAuthenticated:!!e}})}}let iz=({hasRecipe:e,hasArticle:n,hasVisit:l,i18n:a})=>e?a._('Make it', 'pinPage.pinActionBar.Makeit.Button', 'Text on a button that lets users visit the source of the pin'):n?a._('Read it', 'pinPage.pinActionBar.Readit.Button', 'Text on a button that lets users visit the source of the pin'):l?a._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):a._('Visit', 'pinPage.pinActionBar.visitButton', 'Text on a button that lets users visit the source of the pin');var iV=l(160125);let iH=({bgColor:e,color:n})=>{(0,H.useEffect)(()=>{(0,V.Z)("PinActionBarBackButton","/app/www/closeup/duplo/PinActionBarBackButton.tsx")},[]);let{viewParameter:l}=(0,lQ.B)(),{isAuthenticated:a}=(0,ec.B)();return(0,eF.jsx)($.xu,{"data-test-id":"back-button",children:(0,eF.jsx)(iZ.default,{bgColor:e,color:n||"default",fallbackUrl:a?"/":"/ideas",padding:"auto",size:"xl",viewParameter:l,viewType:3})})};var iG=l(790810),iW=l(528630),iY=l(271202);let i$=({children:e,headerLimitedOverflow:n,inlineBar:l,isDesktop:a,isActionBarInline:i,isTransparentBackground:t,isOpaque:r,showHorizontalActionBar:s,showingCloseupCommentModule:o,showActionBarInline:d,zIndex:u,isCloseupRedesign:c,logTags:p,isStoryPin:g})=>{let{checkExperiment:m}=(0,eo.Z)(),{mWebCloseupRedesignEnabled:h,mWebCloseupRedesignExpGroup:_}=(0,ex.Z)(),y=(0,el.Z)(),[f,k]=(0,H.useState)(!0),x=y.isAuth,S=(0,H.useRef)(!1),b=!a&&s,P=!b||x||m("lop_ucan_mau_ui_holdout").anyEnabled?5:2,v=(0,eh.ml)(),w=v&&!x&&m("unauth_mweb_truncate_title_description").group,T=(0,ne.Z)({skipExpActivation:!0}),I=(0,H.useRef)(null);return(0,H.useEffect)(()=>(I.current=(0,iG.Z)(()=>k(i)),I.current=window.requestAnimationFrame(()=>{k(i)}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&I.current&&(window.cancelAnimationFrame(I.current),I.current=null)}),[i]),(0,H.useEffect)(()=>{!h||f||S.current||((0,nA.nP)("mweb.closeup.pin_action_bar_layout.fixed_footer.impression",p),S.current=!0)},[h,f,p]),b?(0,eF.jsxs)($.xu,{children:[h&&"enabled_with_no_action_buttons"===_?null:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{opacity:i&&!h?0:1,pointerEvents:i&&h?"none":void 0,transition:h?void 0:"opacity .4s ease-in-out"}},children:(0,eF.jsx)(iW.Z,{footerInLego:!h&&void 0,hasTopShadow:!0,hideOnScroll:!h&&void 0,isFooterHidden:h?f:void 0,navFooterConfig:h?{docked:!1,footerWidth:"100%",scrollConfig:{forceShow:!1,isDockedNavOnPlp:!1,isModal:!1,onScroll:()=>{}}}:void 0,paddingX:h?2:void 0,paddingY:h?3:P,zIndex:u,children:e},String(t))}),i&&d&&(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{opacity:i||h?1:0,transition:"opacity .4s ease-in-out"}},marginEnd:h?-2:void 0,marginStart:h?-2:void 0,paddingY:c||o||v&&!x&&("enabled_both"===w||"enabled_description"===w)||h?0:P,children:l||e})]}):(0,eF.jsx)(iY.default,{headerLimitedOverflow:n,ignoreObstructions:t,isStoryPin:(0,n2.L)(g),isTranslucent:!t&&!r,isTransparentBackground:t,noGutter:T,paddingY:T?2:void 0,zIndex:u,children:e},String(t))},iq=({backButton:e,commentButton:n,copyButton:l,editOrMoreButton:a,headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r=!1,isDesktop:s,isTransparentBackground:o,saveButton:d,downloadButton:u,downloadIcon:c,showHorizontalActionBar:p,showingCloseupCommentModule:g,shareButtonGroup:m,visitButton:h,reactionCount:_,isStoryPin:y})=>{let f;(0,H.useEffect)(()=>{(0,V.Z)("PinActionBarLayout","/app/www/closeup/duplo/PinActionBarLayout.tsx")},[]);let k=(0,lu.g)(),{mWebCloseupRedesignEnabled:x,mWebCloseupRedesignExpGroup:S}=(0,ex.Z)(),b=(0,ne.Z)({skipExpActivation:!0}),{isAuthenticated:P}=(0,ec.B)(),v=(0,H.useRef)(!1);P?"lg"===k?f=n6.ow:p&&(f=n6.V3):f=p?n6.V3:n6.AI;let w=(0,H.useMemo)(()=>({tags:{in_experiment:x,exp_group:S??"none",with_visit_button:!!h,with_save_button:!!d}}),[x,S,h,d]),T=x&&!h&&(!d||"enabled_with_one_action_button"===S);return((0,e_.Z)(()=>{!x||h||v.current||((0,nA.nP)("mweb.closeup.pin_action_bar_layout.linkless_impression",w),v.current=!0),T&&(0,nA.nP)("mweb.closeup.pin_action_bar_layout.empty_action_bar",w)}),T)?null:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:b?{__style:{position:"sticky"}}:void 0,"data-test-id":"header",top:!!b,zIndex:b?new $.Ry(1):void 0,children:(0,eF.jsx)(i$,{headerLimitedOverflow:i,inlineBar:t,isActionBarInline:r,isDesktop:s,isOpaque:!!b,isStoryPin:y,isTransparentBackground:o,logTags:w,showActionBarInline:!x||!!h,showHorizontalActionBar:p,showingCloseupCommentModule:g,zIndex:f,children:(0,eF.jsx)($.kC,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:x?"center":"between",children:p?(0,eF.jsxs)(H.Fragment,{children:[!x&&(0,eF.jsx)($.kC,{alignItems:"center",justifyContent:"start",children:n||null}),(0,eF.jsxs)($.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginStart:n||!m||x?0:12,width:x&&"enabled_with_one_action_button"===S?"100%":void 0,children:[h||null,x&&"enabled_with_one_action_button"===S?null:d||null,!x&&(u||null)]}),!x&&(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[m||null,c||null]})]}):(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[!!e&&(0,eF.jsx)($.xu,{color:o?"default":void 0,dangerouslySetInlineStyle:{__style:o?{boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"}:{}},rounding:"circle",children:e}),(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[_||null,n||null,m||null,c||null,a||null,l||null]})]}),(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[h||null,d||null,u||null]})]})})})})};var iX=l(849770),iQ=l(329706),iJ=l(937710),i0=l(323630),i1=l(451503),i2=l(409997),i3=l(715935);let i6=(0,lw.Z)(()=>l.e("24871").then(l.bind(l,467603)),{ssr:!1},e=>467603,void 0,void 0),i5=(0,lw.Z)(()=>l.e("28168").then(l.bind(l,632280)),{ssr:!1},e=>632280,void 0,void 0),i4=(0,H.lazy)(()=>l.e("93031").then(l.bind(l,610082))),i8=new $.Ry(5),i9=(void 0!==R||(R=l(226907)).hash&&"dfa05cad86929bdf1df5b5e805a955bf"!==R.hash&&console.error("The definition of 'PinActionBarInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),i7=(void 0!==K||(K=l(459021)).hash&&"87be8ad2ed64d6975dd6b55ee85e1982"!==K.hash&&console.error("The definition of 'PinActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),te=({children:e,experience:n,onCompleteRef:l})=>{let a=(0,H.useRef)(null);return(0,eF.jsxs)(H.Fragment,{children:[(0,eF.jsx)($.xu,{ref:a,children:(0,eF.jsx)($.xu,{children:e})}),(0,eF.jsx)(eL.Z,{name:"SafeSuspense_PinActionBarSaveButton_ExperienceTooltipDelayedPulsar",children:(0,eF.jsx)(q.Z,{id:"ExperienceTooltipDelayedPulsar",children:(0,eF.jsx)(i6,{anchor:a.current,eligibleIds:[503459,503761],experience:n,onCompleteRef:l,showTooltip:!0})})})]})};function tn({pinId:e,pinKey:n,viewParameter:l}){let a=(0,ea.Z)(i9,n),i=(0,ew.Z)(),[t,r]=(0,H.useState)(!1),s=(0,H.useRef)(null),o=(0,eF.jsx)(q.Z,{id:"AnimatedSendButton",children:(0,eF.jsx)(i3.default,{onDefaultSendButtonClick:()=>{r(!0)},pinKey:a,viewParameter:l})});return(0,eF.jsxs)($.xu,{ref:s,children:[(0,eF.jsx)($.kC,{alignItems:"center",justifyContent:"start",children:(0,eF.jsx)($.u,{inline:!0,text:i._('Share', 'Closeup.SharePin.Icon', 'Icon for sharing the current pin'),zIndex:i8,children:o})}),t&&(0,eF.jsx)(eY.Z,{children:(0,eF.jsx)(q.Z,{groupTags:["overflow-menu-exp"],id:"DesktopShareMenu",children:(0,eF.jsx)(i4,{anchor:s.current,component:194,objectId:e,objectType:1,onDismiss:()=>r(!1),title:i._('Share', 'PinCloseup.UnauthShareMenu.Title', 'title for unauth share menu popover'),viewParameter:l,viewType:3})})})]})}function tl({children:e,mWebCloseupRedesignEnabled:n,withMargin:l,withPadding:a}){return n?(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:a?12:void 0,paddingTop:a?12:void 0,marginBottom:l?12:void 0}},"data-test-id":"pin-action-bar-layout-wrapper",children:e}):e}function ta({aggregatedPinDataId:e,clickthroughInterstitialExperience:n,experience:l,isEligibleForAggregatedComments:a,isRemovablePin:i,nativeCreatorVerifiedWebsite:t,onEditButtonClick:r,onMobileTap:s,onSendButtonClick:o,pinId:d,actionButtonText:u,pinnedToBoardId:c,pinnedToBoardUrl:p,nativePinType:g,scrolledToRelatedPins:m,shouldShowDownloadPopover:h,setShouldShowDownloadPopover:_,shouldShowReactions:y,shouldShowBackButton:f,shouldShowShareOnVideoCloseup:k,showCloseupCommentModule:x,isEligibleToVisitPin:S,hasPin:b,isEligibleForPdp:P,pinnerBlockedByMe:v,pinKey:w,isActionBarInline:T,isGoLinkless:I,totalReactionCount:C,isStoryPin:E,isVideoPin:F}){let j=(0,ew.Z)(),L=(0,H.useRef)(null),A=(0,eh.HG)(),R=(0,eI.Z)(),{isAuthenticated:K}=(0,ec.B)(),D=(0,lQ.B)(),{clientTrackingParams:Z,saveButtonConfig:B,viewParameter:O}=D,{setIsNavFooterHiddenByPinActionBar:N}=(0,i1.Q)(),M=(0,H.useRef)(null),{hasApplicableLawForCountry:U}=(0,i2.ZP)(),z=(0,ea.Z)(i9,w),V=(0,eq.Z)(),G=!K&&P,W=P&&K||G&&!A,Y=!A&&!P,X=W||Y,J=(0,iS.$)(),{logStat:ee}=(0,n4.Yg)(),{mWebCloseupRedesignEnabled:en,mWebCloseupRedesignExpGroup:el}=(0,ex.Z)(),ei=en&&"enabled_with_one_action_button"===el,et=(0,nm.vs)(),er="true"===l7.ZP.getItem(l5.m5),es=(0,ne.Z)({skipExpActivation:!0}),eo=(0,i0.Z)({pinKey:z,onSendButtonClick:o}),{inDwebDownloadCTAExp:ed,inMwebDownloadCTAExp:eu,showDownloadCloseupIcon:ep}=(0,i0.e)({seoDrawerPinType:"closeup",isVideoPin:F}),eg=(0,H.useRef)(null),em=ep&&h,e_=(0,Q.g)(),ey=(0,e$.l)(),ef=e_?.isModalShown||ey?.modal.isShown&&ey?.modal.displayProps.headingType!=="download_limit_reached",ek=(0,eF.jsx)(q.Z,{id:"PopoverMessage",children:(0,eF.jsx)($.pl,{anchor:eg.current,forceDirection:!0,id:"closeup-download-icon-popover",idealDirection:A?"down":"up",message:j._('Love this image? You can download it!', 'closeup.download.closeup_icon.popover.text', 'Text on popover about download option in the closeup pin action bar'),onDismiss:()=>{ef||_(!1)}})}),{locale:eS}=(0,ec.B)();(0,H.useEffect)(()=>{(0,iV.we)(eS)},[eS]);let eb=!!l&&8===l.type;(0,H.useEffect)(()=>{T?N(!1):N(!0)},[T,N]);let eP=(0,H.useMemo)(()=>({tags:{in_experiment:en,exp_group:el??"none"}}),[en,el]),ev=(0,H.useCallback)(()=>{en&&(0,nA.nP)("mweb.closeup.pin_action_bar.inline_visit_button.click",eP)},[en,eP]),eT=(0,H.useCallback)(()=>{en&&(0,nA.nP)("mweb.closeup.pin_action_bar.visit_button.click",eP)},[en,eP]),eC=(0,iy.Z)(()=>{en&&(0,nA.nP)("mweb.closeup.pin_action_bar.save_button.click",eP)},100);if(m&&K&&!X)return(0,eF.jsx)(q.Z,{id:"PinActionBarLayout",children:(0,eF.jsx)(iq,{backButton:f?(0,eF.jsx)(q.Z,{id:"PinActionBarBackButton",children:(0,eF.jsx)(iH,{bgColor:"default"})}):null,headerLimitedOverflow:eb,isActionBarInline:T,isDesktop:A,isStoryPin:E,isTransparentBackground:!0,showHorizontalActionBar:X})});let eE=!A&&a&&(!P||G||K),ej=(0,eF.jsx)(q.Z,{id:"PinContextMenuButton",children:(0,eF.jsx)(iJ.default,{clientTrackingParams:Z,onMobileTap:s,onSendButtonClick:o,pinKey:z,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!K,shouldShowSeoDrawerOption:!K,viewParameter:O})}),eR=!k&&S&&!(G&&A)&&!(I&&!K)&&!er,eK=!A&&K&&!P&&X&&T&&eR&&en;return(0,eF.jsx)(q.Z,{id:"PinActionBarLayoutWrapper",children:(0,eF.jsx)(tl,{mWebCloseupRedesignEnabled:en,withMargin:!eK&&T&&en,withPadding:eK,children:(0,eF.jsx)(q.Z,{id:"PinActionBarLayout",children:(0,eF.jsx)(iq,{backButton:f?(0,eF.jsx)(q.Z,{id:"PinActionBarBackButton",children:(0,eF.jsx)(iH,{})}):null,commentButton:eE&&!en&&(0,eF.jsx)(iQ.default,{pinId:d}),downloadButton:(ed||eu)&&!en&&(0,eF.jsx)($.zx,{color:"primary",onClick:eo,size:"lg",text:ed?j._('Download image', 'download.button.dweb', 'Button to download image'):j._('Save to phone', 'download.button.mweb', 'Button to download image')}),downloadIcon:ep&&!en&&(0,eF.jsx)($.kC,{alignItems:"center",justifyContent:"start",children:A?(0,eF.jsxs)($.u,{inline:!0,text:j._('Download image', 'Closeup.Download.Icon', 'Icon for downloading current pin image'),zIndex:new $.Ry(2),children:[(0,eF.jsx)($.hU,{ref:eg,accessibilityLabel:j._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"default",onClick:eo,size:"lg"}),em&&ek]}):(0,eF.jsxs)($.xu,{children:[(0,eF.jsx)($.hU,{ref:eg,accessibilityLabel:j._('Download image', 'download.button.closeup', 'Button to download image'),bgColor:"transparent",icon:"download",iconColor:"default",onClick:eo,size:"lg"}),em&&ek]})}),editOrMoreButton:!X&&!en&&(r?(0,eF.jsx)($.xu,{"data-test-id":"editBoardButton",children:(0,eF.jsx)($.hU,{accessibilityLabel:j._('edit', 'Pin edit button', 'Pin edit button'),icon:"pencil",iconColor:"default",onClick:({event:e})=>r(e),size:"lg"})}):(0,iX.Z)(D,U,A)&&!!b&&(0,eF.jsx)($.xu,{"data-test-id":"ellipsis-button",children:ej})),headerLimitedOverflow:eb,inlineBar:eR&&en?(0,eF.jsx)($.kC,{alignItems:"center",dataTestId:"pin-action-bar-container",justifyContent:"center",children:(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:es?{__style:{position:"sticky"}}:void 0,"data-test-id":"visit-button-mobile-inline",paddingX:0,top:!!es,width:"100%",children:(0,eF.jsx)(q.Z,{id:"PinActionBarVisitButton",children:(0,eF.jsx)(n9,{actionButtonText:u,clickthroughInterstitialExperience:n,fullWidth:!0,isDesktop:A,nativeCreatorVerifiedWebsite:t,onClick:ev,pinKey:z})})})}):null,isActionBarInline:T,isDesktop:A,isStoryPin:E,isTransparentBackground:et,reactionCount:!K&&!en&&(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[(0,eF.jsx)($.u,{inline:!0,text:j._('React', 'Closeup.ReactionPicker.Icon', 'Icon for reacting to current pin'),zIndex:new $.Ry(2),children:(0,eF.jsx)($.hU,{accessibilityLabel:"React to pin",dataTestId:"react-button",icon:"heart",onClick:()=>{V({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click react button",desktopOptions:{modalType:"signup"}}),R({action:"click",item:"reaction-button"})},padding:3})}),!!C&&C>0&&(0,eF.jsx)($.xu,{marginEnd:2,children:(0,eF.jsx)($.xe,{dataTestId:"reaction-count",weight:"bold",children:(0,eF.jsx)(ik.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:C},C)})})]}),saveButton:ed||eu||K&&(i||v)?null:(0,eF.jsx)(q.Z,{id:"PinActionBarSaveButtonPulsarExperience",children:(0,eF.jsx)(te,{experience:l,onCompleteRef:M,children:(0,eF.jsx)($.xu,{children:(0,eF.jsx)(ib.Z,{clientTrackingParams:Z,color:"primary",deeplinkUri:B.shouldShowSavedButton&&p||B.repinPageLocation.deeplinkUri,onTouch:e=>{M.current?.(),B.onSaveButtonClick(e),ee(J?.getData(d)?"main_pin_savebutton_pinactionbar_withcloseuppreviewdata":"main_pin_savebutton_pinactionbar"),eC()},onUnsave:B.onUnsaveButtonClick,pinKey:z,pinnedToBoardId:c,shouldShowSavedButton:B.shouldShowSavedButton,to:B.repinPageLocation.mwebUri,viewParameter:O,viewType:3})})})}),shareButtonGroup:!er&&!ep&&!en&&(y&&g?(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[(0,eF.jsx)(eL.Z,{name:"SafeSuspense_PinActionBarSaveButton_ReactionPickerContainer",children:(0,eF.jsx)(q.Z,{id:"ReactionPickerContainer",children:(0,eF.jsx)(i5,{aggregatedPinDataId:e,clientTrackingParams:Z,experience:l,nativePinType:g,pinKey:z})})}),k&&(0,eF.jsx)(q.Z,{id:"AnimatedSendButton",children:(0,eF.jsx)(i3.default,{onDefaultSendButtonClick:o,pinKey:z,viewParameter:O})})]}):(0,eF.jsx)($.xu,{"data-test-id":"share-button",children:!K&&A?(0,eF.jsx)(q.Z,{id:"UnauthDesktopCloseupSendButton",children:(0,eF.jsx)(tn,{pinId:d,viewParameter:O})}):(0,eF.jsxs)($.kC,{alignItems:"center",justifyContent:"start",children:[(0,eF.jsx)(q.Z,{id:"AnimatedSendButton",children:(0,eF.jsx)(i3.default,{ref:L,onDefaultSendButtonClick:o,pinKey:z,viewParameter:O})}),(0,eF.jsx)(q.Z,{id:"ExperiencePopoverEducational",children:(0,eF.jsx)(eA.N,{anchors:{4019:L.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000112,scrollToDismiss:!0})})]})})),showHorizontalActionBar:X,showingCloseupCommentModule:x,visitButton:eR?(0,eF.jsx)($.xu,{"data-test-id":"visit-button-mobile",paddingX:2*!ei,width:ei?"100%":void 0,children:(0,eF.jsx)(q.Z,{id:"PinActionBarVisitButton",children:(0,eF.jsx)(n9,{actionButtonText:u,clickthroughInterstitialExperience:n,fullWidth:ei,isDesktop:A,nativeCreatorVerifiedWebsite:t,onClick:eT,pinKey:z})})}):null})})})})}let ti=({graphqlRef:e,...n})=>{let l=(0,ew.Z)(),{mWebCloseupRedesignEnabled:a}=(0,ex.Z)(),i=(0,W.useFragment)(i7,e),t=i.richMetadata?.recipe,r=iz({hasRecipe:!!(t?.name&&t.categorizedIngredients?.length&&!t.fromAggregatedData),hasArticle:!!i.richMetadata?.article,hasVisit:a,i18n:l});return(0,eF.jsx)(ta,{actionButtonText:r,aggregatedPinDataId:i.aggregatedPinData?.entityId,hasPin:!!i,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isEligibleForPdp:i.isEligibleForPdp,isGoLinkless:i.isGoLinkless,maybeGraphqlRef:i,pinKey:i,pinnerBlockedByMe:i.pinner?.blockedByMe,totalReactionCount:i.totalReactionCount,...n})},tt=({pinId:e,...n})=>{let l=(0,aG.S6)()(e),a=(0,ew.Z)(),{mWebCloseupRedesignEnabled:i}=(0,ex.Z)(),t=l?.pinner,r=l?.rich_metadata?.recipe,s=iz({hasRecipe:!!(r?.name&&r.categorized_ingredients&&!r.from_aggregated_data),hasArticle:!!l?.rich_metadata?.article,hasVisit:i,i18n:a});return(0,eF.jsx)(ta,{...n,actionButtonText:s,aggregatedPinDataId:l?.aggregated_pin_data?.id,hasPin:!!l,isEligibleForAggregatedComments:l?.is_eligible_for_aggregated_comments,isEligibleForPdp:l?.is_eligible_for_pdp,isGoLinkless:l?.is_go_linkless,isStoryPin:{kind:"NotStoryPin"},maybeGraphqlRef:null,pinId:e,pinKey:l?{type:"Legacy",data:l}:null,pinnerBlockedByMe:t?.blocked_by_me,totalReactionCount:l?.total_reaction_count??0})};function tr({graphqlRef:e,...n}){return((0,H.useEffect)(()=>{(0,V.Z)("PinActionBar","/app/www/closeup/duplo/PinActionBar.tsx")},[]),e)?(0,eF.jsx)(ti,{graphqlRef:e,...n}):(0,eF.jsx)(tt,{...n})}function ts({pinId:e}){(0,H.useEffect)(()=>{(0,V.Z)("ReturnToSurfaceButton","/app/www/closeup/duplo/ReturnToSurfaceButton.tsx")},[]);let{checkExperiment:n}=(0,eo.Z)(),l=n("mweb_return_to_surface_button_new_user").group,a=n("mweb_return_to_surface_button_res_user").group;return"enabled_return_to_top"===l||"enabled_return_to_top"===a?(0,eF.jsx)(to,{pinId:e}):null}function to({pinId:e}){let{logContextEvent:n}=(0,as.u)(),l=(0,ew.Z)(),{navFooterHeight:a}=(0,i1.Q)(),i=l._('Back to top', 'mWeb.CloseupPage.BackToTop.title', 'Text for button to scroll user back to the top of the page');return(0,H.useEffect)(()=>{n({event_type:13,component:13283,element:10538,object_id_str:e})},[]),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{bottom:`${a+4}px`}},margin:2,position:"fixed",right:!0,children:(0,eF.jsx)($.zx,{accessibilityLabel:i,color:"secondary",dataTestId:"return-to-top-button",onClick:()=>{n({event_type:102,component:13283,element:10538,object_id_str:e,aux_data:{scroll_distance:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}}),window.scrollTo({top:0,behavior:"smooth"})},size:"lg",text:i})})}var td=l(676909),tu=l(509957),tc=l(26499),tp=l(120100),tg=l(167021),tm=l(635981),th=l(72034),t_=l(956701),ty=l(440995),tf=l(763750),tk=l(500912),tx=l(577356);function tS(){(0,H.useEffect)(()=>{(0,V.Z)("UnauthMobileSocialSecondaryTopBanner","/app/www/unauth/UnauthMobileSocialSecondaryTopBanner.tsx")},[]);let e=(0,ew.Z)(),n=(0,Y.s0)(),l=(0,eE.$p)(),{secondaryExpGroup:a="",inviterName:i="",inviterAvatarUrl:t=""}=l?.data?.upsellData||{},r=(0,eF.jsx)($.xv,{children:(0,eT.nk)(e._('Let {{ name }} know what you think', 'mweb.unauth.social.secondary.top.upsell.text', 'Prompt on the unauth Pin landing secondary top banner to encourage user engagement. name: sender name'),{name:i})}),s=e._('Reply', 'unauth.mweb.secondary.top.reply.button.text', 'Text on the unauth Pin landing secondary top banner to reply to sender'),o="enabled_top_primary"===a;return(0,eF.jsxs)($.xu,{children:[(0,eF.jsx)($.xu,{paddingX:4,paddingY:2,width:"100%",children:(0,eF.jsxs)($.kC,{alignItems:"center",children:[(0,eF.jsx)($.xu,{marginEnd:2,children:t&&(0,eF.jsx)(ev.qE,{name:i,size:"md",src:t})}),(0,eF.jsx)($.xu,{flex:"grow",children:r}),(0,eF.jsx)($.xu,{children:(0,eF.jsx)($.zx,{color:o?"primary":"secondary",onClick:()=>{n("/signup"),(0,nA.nP)("unauth.mweb.social.pin.secondary_upsell",{sampleRate:1,tags:{secondary_exp_group:a,action:"navigate_to_signup"}})},size:"md",text:s})})]})}),(0,eF.jsx)($.xu,{dangerouslySetInlineStyle:{__style:{border:"0.5px solid #EEEEEE"}},marginStart:-2,width:"calc(100% + 16px)"})]})}let tb=(0,lw.Z)(()=>l.e("12135").then(l.bind(l,420464)),void 0,e=>420464,"app-www-closeup-duplo-unauth-UnauthCloseupInviteUpsell",e=>["12135"]),tP=(0,H.lazy)(()=>l.e("80605").then(l.bind(l,669506))),tv=(0,lw.Z)(()=>Promise.resolve().then(l.bind(l,715845)),void 0,e=>715845,"app-www-storyPins-duplo-UnavailableStoryPin",e=>[]),tw=(0,H.lazy)(()=>l.e("64094").then(l.bind(l,858286))),tT=(0,lw.Z)(()=>Promise.all([l.e("6574"),l.e("26105")]).then(l.bind(l,797493)),{ssr:!1},e=>797493,void 0,void 0),tI=(0,lw.Z)(()=>Promise.all([l.e("6574"),l.e("62159"),l.e("39699")]).then(l.bind(l,889506)),{ssr:!1},e=>889506,void 0,void 0),tC=(0,lw.Z)(()=>Promise.all([l.e("26416"),l.e("11461")]).then(l.bind(l,741218)),{ssr:!1},e=>741218,void 0,void 0),tE=(0,lw.Z)(()=>Promise.all([l.e("26416"),l.e("81145")]).then(l.bind(l,498097)),void 0,e=>498097,"app-www-closeup-duplo-UnauthCloseupRelatedPins",e=>["26416","81145"]),tF=(0,lw.Z)(()=>l.e("40175").then(l.bind(l,688214)),{ssr:!1},e=>688214,void 0,void 0),tj=(void 0!==D||(D=l(220741)).hash&&"830a363799e826550c7f1a06d1f2820d"!==D.hash&&console.error("The definition of 'CloseupFullDetail_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),D),tL=({children:e,queryRef:n})=>e((0,ea.Z)(tj,(0,ek.usePreloadedQuery)((void 0!==Z||(Z=l(899497)).hash&&"09059e490f65cb0fc8a47e0ddb3ac527"!==Z.hash&&console.error("The definition of 'CloseupDetailQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Z),n).v3GetPinQuery?.data)),tA=({children:e,pinId:n})=>{let l=(0,aG.S6)()(n);return e((0,ea.Z)(tj,l?{type:"Legacy",data:l}:null))},tR=({children:e,fallback:n,queryRef:l,pinId:a})=>l?(0,eF.jsx)(H.Suspense,{fallback:n,children:(0,eF.jsx)(tL,{queryRef:l,children:n=>n&&e(n,n)})}):(0,eF.jsx)(tA,{pinId:a,children:n=>n&&e(null,n)}),tK=({children:e,pinId:n,storyPinWrapper:a})=>{let i=(0,eh.HG)(),{isAuthenticated:t}=(0,ec.B)();if(null!=a.optionalFragmentRef)return e(a.optionalFragmentRef);{let a=(0,ek.useLazyLoadQuery)((void 0!==B||(B=l(213993)).hash&&"45826fa01d0796145bfe5f51c4675bcd"!==B.hash&&console.error("The definition of 'CloseupStoryPinQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),{pinId:n,isAuth:t,isDesktop:i}).v3GetPinQuery;return e(a?.__typename==="V3GetPin"?a.data:null)}},tD=H.Fragment,tZ=({children:e,unauthCloseupRedesignEnabled:n,uanuthDesktopSocialLandingPopover:l})=>e&&l?(0,eF.jsxs)($.kC,{gap:{row:4,column:0},justifyContent:"center",maxWidth:n?"100%":void 0,width:n?"fit-content":void 0,children:[l,e]}):e;function tB({boardCollaboratedByMe:e,boardCollaboratorPermissions:n,boardIsCollaborative:a,boardOwnerId:i,boardId:t,boardUrl:r,clickthroughInterstitialExperience:s,closeupAttributionFullName:o,commentsDisabled:d,embedSrc:u,embedSubtype:c,embedType:p,experience:g,hasLinkDomain:m,hasLinkDomainOfficialUser:h,hasLinkUserWebsiteOfficialUser:_,hasNativeCreator:y,hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S,hasRichMetadataTutorial:b,hasThirdPartyPinOwner:P,imageSignature:v,isDeletedStoryPin:w,isDownstreamPromotion:T,isEligibleForAggregatedComments:I,isGoLinkless:C,isProductPin:E,isPromoted:F,isStoryPin:j,isV1IdeaPin:L,isVideoPin:A,link:R,linkDomainName:K,mobileLink:D,nativeCreatorVerifiedWebsite:Z,graphqlRefs:B,pinCreatedAt:N,pinDomain:M,pinTrackingParams:U,pinId:z,nodeId:V,imagesUrls:W,pinSectionId:X,pinnedToBoardId:Q,pinnedToBoardUrl:J,pinnerDomainUrl:ee,pinnerDomainVerified:en,pinnerId:ei,postDownloadModalEligibilityType:et,promotedIsRemovable:er,recommendationReason:ed,seoBreadcrumbs:eu,shouldOpenInStream:ep,storyPinDataId:em,trackedLink:ef,utmLink:ek,uanuthDesktopSocialLandingPopover:eP,videosId:ev,viewerId:eT,viewingUser:eC,feedbackType:eG,pinKey:e3}){let e4=(0,ea.Z)((void 0!==O||(O=l(114720)).hash&&"d368fdd28fc76addb322276c564dfe2d"!==O.hash&&console.error("The definition of 'CloseupInner_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O),e3);var e8=e4?.topInterest;let e9=(0,G.I0)();(0,H.useEffect)(()=>{null!=e8&&"number"==typeof e8&&e9((0,e0.uV)(e8))},[e8,e9]);let e7=(0,ew.Z)(),nn=(0,Y.s0)(),nl=(0,Y.TH)(),na=(0,aV.Z)(),ni=(0,eh.ZP)(),nt="desktop"===ni,nr=(0,G.I0)(),ns=(0,ey.Z)(),no=(0,eb.Z)(),nd=(0,eI.Z)(),nu=(0,eq.Z)(),nc=(0,tp.Z)(),{checkExperiment:np}=(0,eo.Z)(),{isBot:ng,isSocialBot:nm,isAuthenticated:nh,userAgent:n_}=(0,ec.B)(),{setPinFeedbackStatus:ny}=(0,tg.K)(),[nf,nk]=(0,H.useState)(!0),[nx,nS]=(0,H.useState)(!1),[nb,nP]=(0,H.useState)(0),nv=!(0,aD.s)({skipExpActivation:!1}),{mWebCloseupRedesignEnabled:nw}=(0,ex.Z)(),nT=(0,aG.S6)()(z),nI=!nh&&E,nC=B?.pageRef,nE=(0,tk.n)(),[nF,nj]=(0,H.useState)(!1);(0,H.useEffect)(()=>{nj(!1)},[z]);let[nL,nA]=e1(!1,z),nR=!F&&!T&&!w&&!nw,nK=ei===eT,nD=(0,es._S)(M)?(0,nW.Wj)({i18n:e7,hasLinkDomain:m,hasRichMetadataArticle:x,hasRichMetadataRecipeCategorizedIngredients:S,hasRichMetadataTutorial:b,richMetadataRecipeFromAggregatedData:null}):e7._('Uploaded to Pinterest', 'closeup.closeupDetails.pinCreditPrefix', 'tells the pinner that the pin was uploaded to Pinterest');(0,H.useEffect)(()=>{!nl.key&&nh&&(0,eM.Z)(eC,null,28)&&no({event_type:9956,view_type:3,userIdStr:eC?.id}),nh&&(0,eQ.Nc)("view_pin_page")},[]),(0,H.useEffect)(()=>{let e=()=>{let e=window.innerHeight+nb;nS(window.scrollY>=e)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[nb]);let[nZ,nB]=(0,H.useState)(!0),[nO,nN]=(0,H.useState)(!1),[nM,nU]=(0,H.useState)(null),[nz,nV]=(0,H.useState)(!1),{showUnauthSharingModals:nH}=(0,e$.l)()??Object.freeze({}),nG=(0,eA.cO)(),nY=!nt&&!!I&&nh&&!d,n$=E&&nh||nI,nq=!nt&&!E,nQ=n$||nq,[nJ,n0]=e1((!nQ||!!nw)&&(!nh||nt||nw),z),n1=nJ||nI?"body":"header",n3=(0,e5.Z)({action:4,collaboratedByMe:e??!1,collaboratorPermissions:n,ownerId:i}),n6=(0,eU.isPinFeedbackPage)(nl),n5=(0,eE.cO)(),{expGroup:n4=""}=n5?.data?.popoverData||{},n8=(0,eE.$p)(),n9=n8?.data?.upsellData,n7=n9?.showDefaultUpsell||!1,le=(n9?.secondaryExpGroup||"").startsWith("enabled_top"),ln=(0,ne.Z)({skipExpActivation:!1}),ll=()=>{!ng&&eC?.id&&"undefined"!=typeof window&&(0,eB.U)(window.location,eC.id,!0,nh,e=>nn(e,{state:nl.state}))},la=()=>(0,eX.Z)(()=>{z&&no({event_type:110,view_type:3,view_parameter:156,component:A?179:85,aux_data:{unauth_page_pin_id:z,is_go_linkless:C}})},300),li=(0,H.useCallback)(()=>{let e={pin_image_signature:v};nr((0,eR.pz)([1000112],ng,nh?{...e,creator_username:o,is_creator_card_shown:!nK&&!!(({domain:e,isPromoted:n,hasLinkDomainOfficialUser:l,hasLinkUserWebsiteOfficialUser:a,hasNativeCreator:i,hasThirdPartyPinOwner:t,pinnerDomainVerified:r,pinnerDomainUrl:s})=>a||l||t||!!r&&s===e&&!n||i)({domain:M,isPromoted:F,hasLinkDomainOfficialUser:h,hasLinkUserWebsiteOfficialUser:_,hasNativeCreator:y,hasThirdPartyPinOwner:P,pinnerDomainVerified:en,pinnerDomainUrl:ee})}:e))},[nr,o,v,nh,F,ng,h,_,y,P,M,en,ee,nK]),lt=e4?.imageSpec_236x?.url?{url:e4.imageSpec_236x.url}:null;(0,H.useEffect)(()=>{nE?.isSaved(z)&&nG("Save",{pin_id:z,is_promoted:F,pin_description:e4?.description,pin_image:lt,save_type:eC?.save_behavior===e6.Ex.SAVE_TO_PROFILE?"quicksave":""})},[nE,z]);let lr=e=>{nc({fn:()=>{nU("sendPinModal"),nh||nH?.()},modalHeader:(0,tc.hg)(e7)})(e)},ls=(0,eh.ml)();(0,e_.Z)(()=>(ll(),(0,eZ.Z)(),(0,eg.Z)(window.location.search).invite_code&&no({component:A?179:85,element:46,event_type:47,view_type:3,view_parameter:156}),nh?nt||iU(eC):(window.addEventListener("scroll",la),(0,eQ.My)(`mweb.pin_page.${n_.platform||"unknown"}`),N&&(0,eQ.My)("mweb_unauth.pin_page.publish_date"),(0,eQ.NC)("view_pin_page")),em&&nr((0,t_.FK)()),ng||li(),"t"===(0,eg.Z)(nl.search).open_share&&lr(),()=>{em&&nr((0,t_.Cp)()),nh||window.removeEventListener("scroll",la)}));let lo=(0,H.useRef)(null),ld=(0,H.useRef)({linkDomainName:K,pinId:z});(0,H.useEffect)(()=>{let e=ld.current,n=z!==e.pinId,l=!e.pinId&&z,a=e&&e.linkDomainName!==K;n&&(ll(),nh&&(0,eQ.Nc)("view_pin_page")),(l||n||a&&nh)&&li(),ld.current={linkDomainName:K,pinId:z}});let lu=void 0===nl.state;(0,H.useEffect)(()=>{nr((0,t_.Cp)())},[nr]),(0,H.useEffect)(()=>{"enabled_banner_reply"===n4&&nV(!0)},[n4]);let{learningUpsell:lc}={learningUpsell:{isShown:(0,G.v9)(e=>e.upsell.appUpsells.learningUpsell?.isShown??!1)}},lp=np("migration_upsell_manager_redux").anyEnabled||np("migration_upsell_manager_redux_dweb").anyEnabled||np("migration_upsell_manager_redux_mweb").anyEnabled||np("migration_upsell_manager_redux_dweb_global").anyEnabled||np("migration_upsell_manager_redux_mweb_global").anyEnabled,lg=(0,aS.u)(),lm=lp?lc.isShown:lg?.shouldShowLearningUpsell||!1,lh=!nh&&ls&&["ios","android"].includes(n_.platform);(0,H.useEffect)(()=>{if(!lh||!lm)return()=>{};{if(!lp&&!lg?.setShouldShowLearningUpsell)return()=>{};let e=(0,eX.Z)(()=>{window.scrollY>400&&(lp?nr((0,e0.IS)({isShown:!1,isDismissedByUser:!1})):lg?.setShouldShowLearningUpsell(!1),(0,eQ.My)("learning.upsell.dismiss.by.scroll.down"))},10);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}},[lh,lm,lp,nr,lg]);let l_=(0,ty.Z)({embedSrc:u,embedType:p,hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S,imagesUrls:W,pinId:z,nodeId:V}),ly=function({boardId:e,embedSrc:n,embedType:a,imagesUrls:i,pinId:t,nodeId:r,pinnerId:s,pinnedToBoardId:o,pinSectionId:d,trackingParams:u,showSingleToast:c,onError:p,shouldRefresh:g=!0}){let m=(0,G.I0)(),h=(0,tp.Z)(),_=(0,tx.dI)()[c?"showOneToast":"showToast"],y=(0,ew.Z)(),f=(0,tf.Z)({embedSrc:n,embedType:a,imagesUrls:i,pinId:t,nodeId:r}),k=(0,Y.s0)(),x=(0,Y.TH)(),S=(0,tk.n)(),{isAuthenticated:b,userId:P}=(0,G.v9)(({session:e})=>e),v=(0,ig.Z)(x.state?x.state.trackingParams:"",u),w=h({fn:async()=>{if(!t||!e||!s)return void p?.();let n=s===P,a=!n&&S?.getSavedPinId(t)||t,i=n?k(-1):void 0,{default:r}=await l.e("59980").then(l.bind(l,952575));r({boardId:!n&&o?o:e,boardSectionId:d??"",clientTrackingParams:v,dispatch:m,i18n:y,newPinId:a,onError:p,onSuccess:i,shouldRefresh:g,showToast:_,sourcePinId:t,undoSavedPin:(e=>{S?.unsave(e)})??(()=>void 0)})}});return b?w:f?.onUnsave||(()=>void 0)}({boardId:t??"",embedSrc:u,embedType:p,imagesUrls:W,pinId:z,nodeId:V,pinnerId:ei??"",pinnedToBoardId:Q??"",pinSectionId:X??"",trackingParams:U}),lf=function({embedSrc:e,embedType:n,imagesUrls:l,pinId:a,nodeId:i,pinnerId:t}){let{isAuthenticated:r,userId:s}=(0,G.v9)(({session:e})=>e),o=(0,tk.n)(),d=(0,tf.Z)({embedSrc:e,embedType:n,imagesUrls:l,pinId:a,nodeId:i});return!!a&&(r?!!(t===s||o?.isSaved(a)):d?.isSaved??!1)}({embedSrc:u,embedType:p,imagesUrls:W,pinId:z,nodeId:V,pinnerId:ei??""}),lk=function({link:e,mobileLink:n,trackedLink:l,utmLink:a}){let i=(0,el.Z)(),t=(0,nX.mN)()(i.isAuth?i.id:"");return!!(0,es.Zt)({link:e,mobileLink:n,trackedLink:l,utmLink:a})&&!((0,eN.Z)(t?.created_at)&&!(0,aw.V0)(t))&&!(0,es.ZE)(e)}({link:R,mobileLink:D,trackedLink:ef,utmLink:ek}),lx=e4?.originPinner&&eT===e4.originPinner.entityId||!C,lS=(0,tm.J6)({boardIsCollaborative:a,isDownstreamPromotion:T,isEligibleForStaticImageIdeaPin:(0,n2.L)(j)&&!1===ep,isPromoted:F,storyPinDataId:em,videosId:ev}),lb=nh&&lS,lP=(0,eS.Z)({pinKey:e4}),lv=(0,H.useMemo)(()=>({componentType:A?179:85,slotIndex:0,viewData:{pin_id:z},viewParameter:156,viewType:3}),[A,z]),lw=A&&nh&&!nt,lT=(0,td.Z)(e4),lI={downloadImageUrl:!A&&(0,eH.Z)({imagesUrls:W,embedSrc:u,embedType:p,excludeOriginals:!ng&&!nm})||null,isAuthenticated:nh,isBot:ng,isSocialBot:nm,commentModalConfig:{isCommentThreadModalOpen:"commentThreadModal"===nM,setIsCommentThreadModalOpen:e=>{nU(e?"commentThreadModal":null)}},saveButtonConfig:{shouldShowSavedButton:lf,onSaveButtonClick:e=>{l_(e)},onUnsaveButtonClick:ly,repinPageLocation:(0,es.NK)(z,nl)},clientTrackingParams:lP,isStoryPin:j,viewParameter:(0,nW.CK)({hasRichMetadata:f,hasRichMetadataProducts:k,hasRichMetadataArticle:x,hasRichMetadataRecipe:S}),pinId:z,canUpsellNativeApp:ns,shouldShowReactions:lb,onSendButtonClick:lr,isGoLinklessEnabledOverflow:!!C,isChromeOnIOS:"ios"===n_.platform&&"Chrome"===n_.browserName,handleDownloadPinImageClick:()=>{nd({action:"click",item:"download-image-button",within:"action-bar"}),"unauthPostDownloadUpsell"===et?(nU(null),nt||nu({attributionLabel:"tap_closeup_download_button",reason:"UPSELL_LOGIN_OR_SIGNUP",mobileOptions:{headingType:"download"}})):et?nU("postDownloadModal"):nG("Download",{pin_id:z})},shouldRenderAsStoryPin:(0,n2.L)(j)&&!1!==ep&&nt,storyPinCloseupRef:lo,shouldShowVisitInMoreOptions:lk&&lw||!!C,onHidePin:()=>{let{action:e,actionOptions:n}=(0,eV.Z)({feedbackType:eG,pinId:z,pinFeedbackType:"pfy"===eG?4:10,recommendationReason:ed&&{board:null,reasonId:ed.reasonId,reason:ed.reason,throughProperties:[]},clientTrackingParams:lP});nr((0,th.q1)({id:z,nodeId:V})),(0,ez.tx)(e,n,()=>ny({pinId:z,pinFeedbackStatus:"hidden"}),no),nn&&nn(-1)}},lC=lb&&(ev&&"video"||(0,n2.L)(j)&&"storyPin")||null,lE=nK||n3?nc({fn:()=>nn(na.url+"edit/"),modalHeader:(0,tc.oM)(e7),nextLocation:(0,tc.wI)(nl)}):void 0,lF=()=>{nU("reportPinModal"),no({view_type:3,view_parameter:139,element:72,event_type:102,object_id_str:z||""})},lj=(0,eF.jsx)(tR,{pinId:z,queryRef:B?.detailRef,children:e=>(0,eF.jsx)(q.Z,{id:"PinActionBar",children:(0,eF.jsx)(tr,{clickthroughInterstitialExperience:s,experience:g,graphqlRef:e??null,isActionBarInline:nJ||nI,isEligibleToVisitPin:lk&&lx,isNewUser:(0,eN.Z)(eC?.created_at),isRemovablePin:er??!1,isStoryPin:j,isVideoPin:A,nativeCreatorVerifiedWebsite:Z,nativePinType:lC,onEditButtonClick:lE,onMobileTap:()=>{lF()},onSendButtonClick:lr,pinId:z,pinnedToBoardId:Q,pinnedToBoardUrl:(nK?r:J)||"",scrolledToRelatedPins:nF,setShouldShowDownloadPopover:nB,shouldShowBackButton:"header"===n1,shouldShowDownloadPopover:nZ,shouldShowReactions:lb&&!nQ,shouldShowShareOnVideoCloseup:lw,showCloseupCommentModule:nY})})}),lL=(0,eF.jsx)($.xu,{alignItems:"stretch",display:"flex",justifyContent:"start",marginBottom:2,marginTop:2,minHeight:48,children:(0,eF.jsx)(tR,{pinId:z,queryRef:B?.detailRef,children:(e,n)=>(0,eF.jsx)(q.Z,{id:"CloseupPinActionBar",children:(0,eF.jsx)(ij,{experience:g,isRemovablePin:er??!1,nativePinType:lC,onMobileTap:()=>{lF()},onSendButtonClick:lr,pinId:z,pinKey:n??null,pinnedToBoardId:Q,pinnedToBoardUrl:(nK?r:J)||"",setIsActionBarInline:n0,shouldUseGraphQL:!!e})})})}),lA=(nl.search||"").includes("force_seo")||!nh,lR=(0,eF.jsx)(q.Z,{id:"CloseupPageBodySection",children:(0,eF.jsxs)(tZ,{uanuthDesktopSocialLandingPopover:eP,unauthCloseupRedesignEnabled:ln,children:[(nQ||nJ)&&!(nI&&nt)&&(0,eF.jsx)(q.Z,{id:"CloseupStickyHeader",children:(0,eF.jsx)(iB,{pinContextMenuButton:nQ&&!nF&&!nw&&(0,eF.jsx)(tR,{pinId:z,queryRef:B?.detailRef,children:(e,n)=>(0,eF.jsx)($.xu,{"data-test-id":"ellipsis-button",children:(0,eF.jsx)(q.Z,{id:"PinContextMenuButton",children:(0,eF.jsx)(iJ.default,{clickthroughInterstitialExperience:s,clientTrackingParams:lP,onMobileTap:lF,onSendButtonClick:lr,pinCreditPrefix:nD,pinKey:n,seoDrawerPinType:"closeup",shouldShowSeoDrawerNewfields:!nh,shouldShowSeoDrawerOption:!nh,viewParameter:lI.viewParameter})})})})})}),w?(0,eF.jsx)(q.Z,{id:"UnavailableStoryPin",children:(0,eF.jsx)(tv,{})}):(0,eF.jsx)(q.Z,{id:"CloseupMainPin",children:(0,eF.jsx)(il,{actionBarIsMinifiedToMainPinImage:nO,clickthroughInterstitialExperience:s,closeupIsFirstPageInHistoryStack:lu,closeupPinActionBar:nw?lL:null,graphqlRefs:B,instagramPostLink:(0,eF.jsx)(q.Z,{id:"InstagramPostLink",children:(0,eF.jsx)(eJ.Z,{nativeCreatorCloseupLinkEligible:!!Z,peekCloseupEnabled:!1,uriComponent:(0,es.Zt)({utmLink:ek,trackedLink:ef,link:R})})}),isActionBarInline:nJ,isImagePinForUnauthOnTablet:!nh&&!A&&!(0,es.cL)({embedSrc:u,embedSubtype:c,embedType:p})&&("tablet"===ni||(0,eO.oy)()),isRelatedPinsFeedIsEmpty:nf,isSendPinModalOpen:"sendPinModal"===nM,isVideoPin:A,nativeCreatorVerifiedWebsite:Z,onLinklessPinTap:()=>{let e=!nO;nN(e),nr(e?(0,t_.Cp)():(0,t_.FK)())},onMoreButtonClick:lF,onSendPin:lr,pinActionBar:"body"===n1||nw?lj:null,pinId:z,setIsActionBarInline:n0,setIsShowingCloseupDetailsSuspenseFallback:nA,setPinImageHeight:nP,shouldShowReactions:lS,shouldShowSEOPinInfo:lA,showCloseupCommentModule:nY,unauthCloseupRedesignEnabled:ln,unauthPdp:nI,viewerId:eT})})]})});return(0,eF.jsx)(q.Z,{id:"Closeup",children:(0,eF.jsx)(e2.B,{value:lv,children:(0,eF.jsx)(i_,{pinId:z,pinKey:e4,viewParameter:lI.viewParameter,children:(0,eF.jsxs)(id,{closeupPageContext:lI,hasGutter:!0,imageViewer:(0,eU.isImageViewerPage)(nl)&&nh&&(0,eF.jsx)(tR,{pinId:z,queryRef:B?.detailRef,children:(e,n)=>(0,eF.jsx)(tT,{experience:g,pinKey:n,pinnedToBoardId:Q,pinnedToBoardUrl:(nK?r:J)||"",postDownloadModalEligibilityType:et,setActionBarIsMinifiedToMainPinImage:nN})}),pinKey:e4,stickyUpsell:lh&&lm&&(0,eF.jsx)(eY.Z,{children:(0,eF.jsx)(tw,{pinId:z})}),children:[(0,eF.jsx)(q.Z,{id:"CloseupPageHeaderSection",children:(0,eF.jsxs)(tD,{children:[nh&&(0,eF.jsxs)(H.Fragment,{children:[g&&(0,eF.jsx)(eA.b9,{placementId:1000112}),g&&(0,eF.jsx)(eA.iH,{placementId:1000112}),g&&(0,eF.jsx)(eA.nj,{experience:g},`${z}-modal-1000112`),g&&(0,eF.jsx)(eA._f,{customFooterHeight:nJ?void 0:88,experience:g},`${z}-callout-1000112`),(0,eF.jsx)(eK.Z,{placementId:1000494},`${z}-1000494`),(0,eF.jsx)(eK.Z,{placementId:1000500},`${z}-1000500`),(0,eF.jsx)(eD.Z,{placementId:1000540},`${z}-1000540`)]}),!nh&&n6&&!nt&&!n7&&(0,eF.jsx)(tb,{isDesktop:!1,isStoryPin:j}),!nh&&!nt&&le&&(0,eF.jsx)(tS,{}),!nw&&"header"===n1&&!nO&&lj,!nh&&nt&&nv&&(0,eF.jsx)(tu.Z,{breadcrumbs:eu??[]}),!nh&&!nt&&nv&&(ng?(0,eF.jsx)(tu.Z,{breadcrumbs:eu??[]}):(0,eF.jsx)(tF,{fallback:(0,eF.jsx)($.xu,{height:tu.H}),pageRef:nC,pinId:z,seoBreadcrumbs:eu??[]})),nz&&!nh&&(0,eF.jsx)(ej,{onDismiss:()=>{nV(!1)}})]})}),!ln&&lR,nh&&(0,eF.jsx)(eL.Z,{name:"SafeSuspense_Closeup_RelatedInterestUpsellContainer",children:(0,eF.jsx)(eW._m,{children:(0,eF.jsx)(eW.IQ,{children:(0,eF.jsx)(eY.Z,{fallback:(0,eF.jsx)(iu.Z,{}),children:(0,eF.jsx)(q.Z,{id:"CloseupRelatedModulesFeed",children:(0,eF.jsx)(tC,{auxCommerceData:lT,graphqlConfig:B?{fallback:(0,eF.jsx)(iu.Z,{}),isShowingCloseupDetailsSuspenseFallback:nL}:null,isProductDetailPage:E,onRelatedPinsTitleEnter:()=>nj(!1),onRelatedPinsTitleExit:()=>nj(!0),pinId:z,recommendationReason:ed})})})})})}),!nh&&(0,eF.jsx)(tR,{fallback:(0,eF.jsx)(iu.Z,{}),pinId:z,queryRef:B?.detailRef,children:e=>(0,eF.jsx)(q.Z,{id:"UnauthCloseupRelatedPins",children:(0,eF.jsx)(tE,{closeupBody:ln?lR:void 0,isShowingCloseupDetailsSuspenseFallback:nL,onRelatedPinsLoadEmpty:nk,onRelatedPinsTitleEnter:()=>nj(!1),onRelatedPinsTitleExit:()=>nj(!0),pinId:z,pinKey:e||(nT?{type:"Legacy",data:nT}:null),unauthCloseupRedesignEnabled:ln})})}),(0,eF.jsx)(tR,{pinId:z,queryRef:B?.detailRef,children:e=>(0,eF.jsxs)(H.Fragment,{children:[L&&(0,eF.jsx)(eY.Z,{children:(0,eF.jsx)(tP,{pinId:z,viewParameter:lI.viewParameter})}),nM&&(0,eF.jsx)(eL.Z,{name:"SafeSuspense_Closeup_CloseupModals",children:(0,eF.jsx)(eY.Z,{children:(0,eF.jsx)($.xu,{"data-test-id":"close-action-bar",children:(0,eF.jsx)(q.Z,{id:"CloseupModals",children:(0,eF.jsx)(tI,{clickthroughInterstitialExperience:s,clientTrackingParams:lP,graphqlRef:e??null,isEligibleForPinReactions:nR,modal:nM,nativePinType:lC,onDismiss:()=>{nd({action:"click",item:"close-action-bar",within:"action-bar"}),nU(null)},onEditButtonClick:lE,onSendButtonClick:lr,pinId:z,postDownloadModalEligibilityType:et,shouldShowShareOnVideoCloseup:lw,showingCloseupCommentModule:nY,viewerIsOwner:nK,viewParameter:lI.viewParameter})})})})})]})}),nx&&(0,eF.jsx)(ts,{pinId:z})]})})})})}function tO(e){let{pinId:n}=e,l=(0,aG.S6)()(n),a=(0,eh.HG)(),i=(0,Y.TH)(),{isAuthenticated:t}=(0,ec.B)(),r=(0,e3.Z)({pinKey:l?{type:"Legacy",data:l}:null,viewParameter:156}),s=l?.board,o=l?.pinner;return l&&o&&s?(0,eF.jsx)(tB,{...e,boardCollaboratedByMe:s.collaborated_by_me??!1,boardCollaboratorPermissions:s.collaborator_permissions,boardId:s.id,boardIsCollaborative:s.is_collaborative,boardOwnerId:s.owner?.id,boardUrl:s.url,closeupAttributionFullName:l.closeup_attribution?.full_name,commentsDisabled:l?.comments_disabled,embedSrc:l.embed?.src,embedSubtype:l.embed?.subtype,embedType:l.embed?.type,feedbackType:r,graphqlRefs:null,hasLinkDomain:!!l.link_domain,hasLinkDomainOfficialUser:!!l.link_domain?.official_user,hasLinkUserWebsiteOfficialUser:!!l.link_user_website?.official_user,hasNativeCreator:!!l.native_creator,hasRichMetadata:!!l.rich_metadata,hasRichMetadataArticle:!!l.rich_metadata?.article,hasRichMetadataProducts:!!l.rich_metadata?.products,hasRichMetadataRecipe:!!l.rich_metadata?.recipe,hasRichMetadataTutorial:!!l.rich_metadata?.tutorial,hasThirdPartyPinOwner:!!l.third_party_pin_owner,imageSignature:l.image_signature,imagesUrls:l.images?Object.keys(l.images).reduce((e,n)=>n&&l.images?.[n]?.url?{...e,[n]:l.images[n].url}:e,{}):void 0,isDeletedStoryPin:l.story_pin_data?.is_deleted??!1,isDownstreamPromotion:l.is_downstream_promotion,isEligibleForAggregatedComments:l.is_eligible_for_aggregated_comments,isGoLinkless:l.is_go_linkless,isPromoted:l.is_promoted,isV1IdeaPin:l.is_v1_idea_pin,isVideoPin:!!l.videos?.video_list,link:l.link,linkDomainName:l.link_domain?.name,mobileLink:l.mobile_link,nodeId:l.node_id,pinAnnotations:l?.pin_join?.visual_annotation||[],pinCreatedAt:l.created_at,pinDomain:l.domain,pinId:n,pinKey:l?{type:"Legacy",data:l}:null,pinnedToBoardId:l.pinned_to_board?.id,pinnedToBoardUrl:l.pinned_to_board?.url,pinnerDomainUrl:o.domain_url,pinnerDomainVerified:o.domain_verified,pinnerId:o.id,pinSectionId:l.section?.id,pinTrackingParams:l.tracking_params,promotedIsRemovable:l.promoted_is_removable,recommendationReason:l.recommendation_reason&&{reason:l.recommendation_reason.reason,reasonId:l.recommendation_reason.reason_id},seoBreadcrumbs:l.pin_join?.seo_breadcrumbs,shouldOpenInStream:l.should_open_in_stream||!1,storyPinDataId:l.story_pin_data_id,trackedLink:l.tracked_link,utmLink:l.utm_link,videosId:l.videos?.id}):(0,eF.jsx)($.xu,{margin:5,children:t||a&&(0,eU.isPinFeedbackPage)(i)?(0,eF.jsx)(iu.Z,{}):(0,eF.jsx)(iK,{})})}function tN({graphqlRefs:e,...n}){let{pinId:a}=n,i=(0,ea.Z)((void 0!==N||(N=l(438854)).hash&&"642752101742c5b61cb0382bc2a6ce29"!==N.hash&&console.error("The definition of 'Closeup_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),N),e.pageRef),t=(0,eG.Z)({type:"GraphQL",data:i}),{board:r,pinner:s}=i,o=i.pinJoin?.seoBreadcrumbs?.map(({name:e,url:n})=>({name:e??"",url:n??""})),d=(0,e3.Z)({pinKey:{type:"GraphQL",data:i},viewParameter:156}),u=i.isInstagramApi&&i.nativeCreator?.isPrimaryWebsiteVerified&&i.nativeCreator?.isDirectToSiteAllowed&&i.nativeCreator?.websiteUrl?i.nativeCreator.websiteUrl:null;return(0,eF.jsx)(tB,{...n,boardCollaboratedByMe:r?.collaboratedByMe??!1,boardCollaboratorPermissions:r?.collaboratorPermissions,boardId:r?.entityId,boardIsCollaborative:r?.isCollaborative,boardOwnerId:r?.owner?.entityId,boardUrl:r?.url,closeupAttributionFullName:i.closeupAttribution?.fullName??"",commentsDisabled:i.commentsDisabled,embedSrc:i.embed?.src,embedSubtype:i.embed?.subtype,embedType:i.embed?.type,feedbackType:d,graphqlRefs:{...e,pageRef:i},hasLinkDomain:!!i.linkDomain,hasLinkDomainOfficialUser:!!i.linkDomain?.officialUser,hasLinkUserWebsiteOfficialUser:!!i.linkUserWebsite?.officialUser,hasNativeCreator:!!i.nativeCreator,hasRichMetadata:!!i.richMetadata,hasRichMetadataArticle:!!i.richMetadata?.article,hasRichMetadataProducts:!!i.richMetadata?.products?.length,hasRichMetadataRecipe:!!i.richMetadata?.recipe,hasRichMetadataTutorial:!!i.richMetadata?.tutorial,hasThirdPartyPinOwner:!!i.thirdPartyPinOwner,imageSignature:i.imageSignature,imagesUrls:t,isDeletedStoryPin:i.storyPinData?.isDeleted??!1,isDownstreamPromotion:i.isDownstreamPromotion,isEligibleForAggregatedComments:i.isEligibleForAggregatedComments,isGoLinkless:i.isGoLinkless,isPromoted:i.isPromoted,isV1IdeaPin:i.isV1IdeaPin,isVideoPin:!!i.videos?.entityId,link:i.link,linkDomainName:i.linkDomain?.name,mobileLink:i.mobileLink,nativeCreatorVerifiedWebsite:u,nodeId:i.nodeId,pinAnnotations:i?.pinJoin?.visualAnnotation||[],pinCreatedAt:i.createdAt,pinDomain:i.domain,pinId:a,pinKey:i,pinnedToBoardId:i.pinnedToBoard?.entityId,pinnedToBoardUrl:i.pinnedToBoard?.url,pinnerDomainUrl:s?.domainUrl,pinnerDomainVerified:s?.domainVerified,pinnerId:s?.entityId,pinSectionId:i.section?.entityId,pinTrackingParams:i.trackingParams,promotedIsRemovable:i.promotedIsRemovable,recommendationReason:i.recommendationReason&&{reason:i.recommendationReason.reason,reasonId:i.recommendationReason.reasonId},seoBreadcrumbs:o??[],shouldOpenInStream:i.shouldOpenInStream||!1,storyPinDataId:i.storyPinDataId,trackedLink:i.trackedLink,utmLink:i.utmLink,videosId:i.videos?.entityId})}function tM({graphqlRefs:e,...n}){if((0,H.useEffect)(()=>{(0,V.Z)("Closeup","/app/www/closeup/duplo/Closeup.tsx")},[]),!e)return(0,eF.jsx)(tO,{...n});let{isStoryPin:l,pinId:a}=n;return(0,n2.L)(l)?(0,eF.jsx)(tK,{pinId:a,storyPinWrapper:l,children:l=>l&&(0,eF.jsx)(tN,{...n,graphqlRefs:{...e,storyPinRef:l}})}):(0,eF.jsx)(tN,{...n,graphqlRefs:{...e,storyPinRef:null}})}function tU({data:e}){let n=(0,ew.Z)(),{derived:{imageUrl:l,placeholder:a},pin:i}=e,t=aH();return(0,eF.jsx)(nl.Z,{fullWidth:!0,onTouch:e=>{e.preventDefault(),e.stopPropagation(),t({linkType:i.mobileLink&&"mobile"||i.utmLink&&"utm"||i.trackedLink&&"tracked"||i.link&&"external"||"original",viewParameter:(0,nW.CK)({hasRichMetadata:!!i.richMetadata,hasRichMetadataProducts:!!i.richMetadata?.products?.length,hasRichMetadataArticle:!!i.richMetadata?.article,hasRichMetadataRecipe:!!i.richMetadata?.recipe})})},pressState:"none",children:(0,eF.jsx)(lX.Z,{alt:n._('Pin image', 'Pin closeup image', 'Pin closeup image'),color:i.dominantColor||"#efefef",naturalHeight:a?.height??1,naturalWidth:a?.width??1,placeholder:a?.url??"",pwtElementTimingId:lH,showSpinner:!1,src:l})})}function tz({data:e}){return(0,H.useEffect)(()=>{(0,V.Z)("CloseupPreview","/app/www/closeup/duplo/CloseupPreview.tsx")},[]),(0,eF.jsxs)(ii.default,{dataLayoutShiftBoundaryId:"CloseupPageContainer",hasFixedHeader:!0,hasGutter:!0,children:[(0,eF.jsx)(q.Z,{id:"CloseupStickyHeader",children:(0,eF.jsx)(iB,{})}),(0,eF.jsx)(q.Z,{id:"CloseupBodyLayout",children:(0,eF.jsx)(ns,{detail:null,isShowingBreadcrumbs:!1,media:(0,eF.jsx)(e7.Z,{roundedForLargeDevice:!0,children:(0,eF.jsx)(tU,{data:e})}),sideBySideOptions:null})}),(0,eF.jsx)(q.Z,{id:"CloseupPageLoadingSpinner",children:(0,eF.jsx)(iu.Z,{})})]})}void 0!==M||(M=l(481256)).hash&&"b6897cfdabbc156688a485e1ccdf8c7e"!==M.hash&&console.error("The definition of 'CloseupPreview_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data.");var tV=l(432493),tH=l(931869),tG=l(177809),tW=l(810752),tY=l(413073);function t$({excludeFromGridRepTests:e,description:n,dominantColor:l,graphqlRefs:a,imageSignature:i,isGif:t,isLoaded:r,isProductPin:s,isRecipePin:o,isStoryPin:d,isVideoPin:u,pinId:c,pinImage:p,pinTitle:g,seoTitle:m,renderAuthMobilePinLandingToast:h,uanuthDesktopSocialLandingPopover:_}){let y=(0,tY.U)(),f=(0,G.I0)(),k=(0,Y.TH)(),x=(0,en.Z)({id:1000112}),S=(0,el.Z)(),b=S.isAuth?S.id:"",{isAuthenticated:P,isBot:v}=(0,ec.B)(),w=(0,nX.mN)()(b),T=(0,G.v9)(({experiences:e})=>e),{checkExperiment:I}=(0,eo.Z)(),C=(0,et.b)(),{isDirect:E}=(0,er.Z)(),F=t&&"gif"||s&&"productPin"||o&&"recipePin"||d&&"storyPin"||u&&"video"||"image";(0,H.useEffect)(()=>{y&&setTimeout(()=>{y.preload?.((0,tW.ke)("pin/[id]/repin.js"))},500)},[]),(0,ee.Z)({pageUniqueKey:c,containerPage:"closeup"});let j=(0,eh.HG)(),{previous:L,forward:A}=(0,ei.ou)(),R=0===L.length&&0===A.length;(0,e_.Z)(()=>{C&&R&&E&&!P&&(j?(0,nA.nP)("unauth.entry_channel.direct.landing_page.closeup_page.dweb",{sampleRate:1}):(0,nA.nP)("unauth.entry_channel.direct.landing_page.closeup_page.mweb",{sampleRate:1}))});var K="closeup";let D=(0,Y.TH)(),Z=(0,Q.g)();(0,H.useEffect)(()=>{if(Z){let{showDesktopSignupModal:e,pinLinkClickHandler:n}=Z,{mt:l,l:a,showsignup:i}=(0,J.Z)(D.search);l?e({signupFlow:"login"===l?{type:"login"}:{type:"signup"},attributionLabel:"navigation_1",container:K,reason:"UPSELL_LOGIN_OR_SIGNUP"}):i?e({signupFlow:{type:"signup"},attributionLabel:"closeup_query_param_showSignup",source:"defaultSource",reason:"UPSELL_LOGIN_OR_SIGNUP"}):a&&n&&n()}},[K,D,!!Z]),(0,H.useEffect)(()=>{let e=()=>{f((0,t_.Cp)()),window.removeEventListener("scroll",e)};if(j||v?f(d?(0,t_.FK)():(0,t_.Cp)()):window.addEventListener("scroll",e),P)i&&f((0,t_.xu)(i));else{let e=k.pathname,a=n??"";(0,tH.Mt)({key:X._b,lastVisitedPage:e,imageSignature:i,pinDescription:a,imageInfo:p}),(0,tH.CC)({path:e,image:p,dominant_color:l??null,pin_description:a,pin_id:c});let t=(0,eg.Z)(k.search).invite_code;(0,tH.dp)(e,i,c,p,a??"",t),k.state?.isFromNavFooterPage||(0,tH.p9)(e,i,c,p,"pin")}},[k]),(0,H.useEffect)(()=>{document.title=g||m||es.yp},[g,m]);let B=(0,aS.u)(),O=B?.onPinTypeLoad,N=!!r;(0,H.useEffect)(()=>{N&&O&&O((0,n2.L)(d))},[N,d,O]);let M=(0,ed.A)(),U=(0,H.useRef)(!1);N&&M&&!U.current&&(M.addBinaryAnnotation("pinType",F,"STRING"),M.addBinaryAnnotation("pinId",c,"STRING"),(0,eu.rt)("pinType",F,"STRING"),(0,eu.rt)("pinId",c,"STRING"),U.current=!0);let z=(0,ey.Z)(),V=(0,tG.o)({canUpsellNativeApp:z,isAuthenticated:P}),W=(0,eE.w2)();(0,e_.Z)(()=>{if(!h||!W||W.hasSeenAuthMobileLandingToast)return()=>{};let{setHasSeenAuthMobileLandingToast:e}=W,a=setTimeout(()=>{h({type:"pin",id:c,data:{title:g||n||"",imgUrl:p?.url||"",dominantColor:l||""}})},3e3);return()=>{e(!0),clearTimeout(a)}});let ea=(0,H.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return e&&I("web_exclude_from_grid_rep_tests").anyEnabled?(0,eF.jsx)("div",{className:"excludeFromGridRepTests",children:(0,eF.jsx)($.II,{value:ea,children:(0,eF.jsx)(q.Z,{id:"Closeup",children:(0,eF.jsx)(tM,{clickthroughInterstitialExperience:T[1000162],experience:x,graphqlRefs:a,isProductPin:s,isStoryPin:d,pinId:c,postDownloadModalEligibilityType:V,uanuthDesktopSocialLandingPopover:_,viewerId:b,viewingUser:w})})})}):(0,eF.jsx)(q.Z,{id:"Closeup",children:(0,eF.jsx)(tM,{clickthroughInterstitialExperience:T[1000162],experience:x,graphqlRefs:a,isProductPin:s,isStoryPin:d,pinId:c,postDownloadModalEligibilityType:V,uanuthDesktopSocialLandingPopover:_,viewerId:b,viewingUser:w})})}function tq({pinId:e,queryRefs:n,...a}){let i=(0,W.usePreloadedQuery)((void 0!==U||(U=l(586996)).hash&&"762379dcc916a38d4e04258c00bed0db"!==U.hash&&console.error("The definition of 'CloseupPageQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),U),n.pageRef),t=(0,ea.Z)((void 0!==z||(z=l(44241)).hash&&"f3f6dd167beded0367a219ab2fd27ce1"!==z.hash&&console.error("The definition of 'CloseupPage_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),z),i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data:null),r=i.v3GetPinQuery?.__typename==="V3GetPin"?i.v3GetPinQuery.data?.storyPinData?.parentPin??null:null,{isAuthenticated:s}=(0,ec.B)();if(!t)return(0,eF.jsx)(Y.Fg,{replace:!0,state:{showError:!0},to:s?"/":"/ideas/"});let o=t?.gridTitle||t?.gridDescription||t?.richMetadata?.title||t?.richSummary?.displayName||t?.richMetadata?.article?.name;return(0,eF.jsx)(q.Z,{id:"CloseupPage",children:(0,eF.jsx)(t$,{...a,description:t.description,dominantColor:t.dominantColor,excludeFromGridRepTests:t&&t?.adData&&t?.adData.excludeFromGridRepTests,graphqlRefs:{...n,pageRef:t},imageSignature:t.imageSignature??"",isGif:(0,es.sY)(t.embed?.type),isLoaded:!0,isProductPin:!!t.isEligibleForPdp,isRecipePin:t.richSummary?.typeName==="recipe",isStoryPin:t.storyPinDataId?{kind:"IsStoryPin",optionalFragmentRef:r}:{kind:"NotStoryPin"},isVideoPin:!!t.videos?.videoUrls?.length,pinId:e,pinImage:t.images_236x?{dominant_color:t.images_236x.dominantColor??"",height:t.images_236x.height??0,type:t.images_236x.type??"",url:t.images_236x.url??"",width:t.images_236x.width??0}:null,pinTitle:o&&o.trim()||"",seoTitle:t?.seoTitle?.trim()||"",storyPinDataId:t.storyPinDataId})})}function tX({pinId:e,queryRefs:n,...l}){let a=(0,tV.Z)(e);return(0,eF.jsx)(H.Suspense,{fallback:"GraphQL"===a.kind?(0,eF.jsx)(q.Z,{id:"CloseupPreview",children:(0,eF.jsx)(tz,{data:a.data})}):(0,eF.jsx)(q.Z,{id:"CloseupPageLoadingSpinner",children:(0,eF.jsx)(iu.Z,{})}),children:"QUERY_MISS"!==n&&(0,eF.jsx)(q.Z,{id:"CloseupPageWithGraphQLLoaded",children:(0,eF.jsx)(tq,{...l,pinId:e,queryRefs:n})})})}function tQ({pinId:e,...n}){let{countryFromIp:l,isBot:a,isAuthenticated:i,isSocialBot:t}=(0,ec.B)(),r=(0,eh.HG)(),s=(0,lV.Z)(l??"",a,r),o=(0,tV.Z)(e),d=(0,ep.Z)({name:"PinResource",options:(({id:e,isAuthenticated:n,addUserConnectionType:l,shouldLazyLoadPinJoin:a,getPageMetadata:i})=>n?{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0,add_connection_type:l}:{id:e,field_set_key:"unauth_react_main_pin",get_page_metadata:i?"seo":void 0,add_connection_type:l,fetch_pin_join_by_default:!a})({id:e,isAuthenticated:i,addUserConnectionType:s,shouldLazyLoadPinJoin:!r&&!i&&!a,getPageMetadata:!!(!i&&t)})}),u=(0,aG.S6)()(e),c=d.data||u;if(!c&&"GraphQL"===o.kind)return(0,eF.jsx)(q.Z,{id:"CloseupPreview",children:(0,eF.jsx)(tz,{data:o.data})});let p=c?.grid_title||c?.grid_description||c?.rich_metadata?.title||c?.rich_summary?.display_name||c?.rich_metadata?.article?.name;return(0,eF.jsx)(q.Z,{id:"CloseupPage",children:(0,eF.jsx)(t$,{...n,description:c?.description,dominantColor:c?.dominant_color,excludeFromGridRepTests:(c?.ad_data&&c?.ad_data?.exclude_from_grid_rep_tests)??null,graphqlRefs:null,imageSignature:c?.image_signature,isGif:(0,es.sY)(c?.embed?.type),isLoaded:!!c,isProductPin:!!c?.is_eligible_for_pdp,isRecipePin:c?.rich_summary?.type_name==="recipe",isStoryPin:c?.story_pin_data_id?{kind:"IsStoryPin",optionalFragmentRef:null}:{kind:"NotStoryPin"},isVideoPin:!!c?.videos?.video_list,pinId:e,pinImage:c?.images?.["236x"]??null,pinTitle:p&&p.trim()||"",storyPinDataId:c?.story_pin_data_id})})}function tJ({queryRefs:e,...n}){(0,H.useEffect)(()=>{(0,V.Z)("CloseupPage","/app/www/pages/duplo/CloseupPage.tsx")},[]);let l=(0,aV.Z)(),{pinId:a}=(0,em.Z)(l.params.id||"");return(0,eF.jsx)(q.Z,{id:"CloseupPwtSurface",children:(0,eF.jsx)(ef.Z,{type:"duplo",children:"GRAPHQL_DISABLED"===e?(0,eF.jsx)(q.Z,{id:"CloseupPageWithResource",children:(0,eF.jsx)(tQ,{...n,pinId:a})}):(0,eF.jsx)(q.Z,{id:"CloseupPageWithGraphQL",children:(0,eF.jsx)(tX,{...n,pinId:a,queryRefs:e})})})})}},464974:function(e,n,l){l.d(n,{Z:()=>i});var a=l(899681);let i=(e,n,l)=>!n&&!l&&a.ZR.has(e)},604100:function(e,n,l){l.d(n,{Z:()=>a});function a(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},254889:function(e,n,l){l.r(n),l.d(n,{default:()=>k});var a=l(686659),i=l(667294),t=l(581722),r=l(312048),s=l(391995),o=l(4533),d=l(104999),u=l(746868),c=l(351736),p=l(24246),g=l(173874),m=l(34550),h=l(935833),_=l(736328),y=l(739405),f=l(785893);function k({alignIconLeft:e,bgColor:n,color:l,disableRedirect:k=!1,fallbackUrl:x,icon:S="chevron-left",onTouch:b,padding:P,placement:v,shouldUseFallbackUrl:w,size:T="lg",viewParameter:I,viewType:C,isVisualSearch:E}){(0,i.useEffect)(()=>{(0,a.Z)("BackButton","/app/www/routing/BackButton.tsx")},[]);let F=(0,p.Z)(),j=(0,r.s0)(),L=(0,r.TH)(),A=(0,y.HG)(),R=(0,t.v9)(e=>e.session.isAuthenticated),K=(0,d.Z)(),D=(0,_.Z)(),Z=(0,c.vs)(),{viewType:B,viewParameter:O}=(0,u.SU)(),[N,M]=C?[C,I]:[B,O],U=()=>{let e=(0,m.M0)().getItem(o.pm);L.key||"/ideas"!==x?(0,h.My)(`pinner_conversion.back_button.${String(e?.[0].pageType)}`):(0,h.My)("pinner_conversion.back_button.no_history"),(0,h.My)(`web_back_button_click.${String(v)}.is_auth_${String(R)}`),D({action:"click",item:"back-button"}),N&&K({view_type:N,view_parameter:M,element:34,event_type:102}),b&&b(),k||((!L.key||L.state&&"redirect"===L.state.referrer||w)&&x?j(x):L.pathname.includes("/password/reset/")&&L.search&&L.search.includes("?nativeShouldDismiss=true")?j("/login/?dismissWebview=true"):j(-1))},z=Z?c.t4:"white",V=(0,g.isBoardPage)(L)||E||"inverse"===l;return(0,f.jsx)(s.xu,{"data-test-id":"back-button",children:e?(0,f.jsx)(s.xu,{alignItems:"center",display:"flex",height:48,marginStart:"close"===S?-1:-2,width:48,children:(0,f.jsx)(s.hU,{accessibilityLabel:F._('Back', 'navigation button', 'navigation button'),bgColor:n,icon:S,iconColor:!l&&(!n||["white","lightGray","transparent"].includes(n))?"subtle":l,onClick:U,padding:"auto"!==P?P:2,size:T})}):(0,f.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:A||V||n?"":z,width:Z&&!V?"fit-content":""}},rounding:"circle",children:(0,f.jsx)(s.hU,{accessibilityLabel:F._('Back', 'navigation button', 'navigation button'),bgColor:n||A?n:"transparent",icon:S,iconColor:!l&&(!n||["white","lightGray","transparent"].includes(n))?"subtle":l,onClick:U,padding:"auto"!==P?P:2,size:T})})})}},468491:function(e,n,l){l.d(n,{Z:()=>i});var a=l(660322);function i({dispatch:e,viewerUser:n}){let{id:l}=n||{};l&&e((0,a.jB)("BoardlessPinsResource",{field_set_key:"mobile",userId:l}))}},440995:function(e,n,l){l.d(n,{Z:()=>h});var a=l(581722),i=l(312048),t=l(104999),r=l(24246),s=l(413220),o=l(736328),d=l(763750),u=l(546151),c=l(846277),p=l(26499),g=l(120100),m=l(157498);function h({embedSrc:e,embedType:n,hasRichMetadata:l,hasRichMetadataProducts:h,hasRichMetadataArticle:_,hasRichMetadataRecipe:y,imagesUrls:f,isFromUnauthContextMenu:k,pinId:x,nodeId:S,attributionLabel:b}){let P=(0,t.Z)(),v=(0,o.Z)(),{isAuthenticated:w,userId:T}=(0,a.v9)(({session:e})=>e),I=(0,g.Z)(),C=(0,r.Z)(),E=(0,m.mN)()(T),F=(0,i.TH)();k=k??!1;let j=(0,d.Z)({embedSrc:e,embedType:n,imagesUrls:f,pinId:x,nodeId:S,isFromUnauthContextMenu:k,attributionLabel:b});return e=>{v({action:"click",item:"save-button"}),k||P({view_type:3,view_parameter:x?(0,u.CK)({hasRichMetadata:l,hasRichMetadataProducts:h,hasRichMetadataArticle:_,hasRichMetadataRecipe:y}):67,element:48,event_type:102,aux_data:{...w?{login_state:(0,c.xT)(E)?s.Z.LIMITED:s.Z.DEFAULT}:{}}}),!w&&(e.preventDefault(),j&&j.onSave()),I({fn:()=>{},modalHeader:(0,p.Bx)(C),nextLocation:(0,p.Qj)(F)})(e)}}},400289:function(e,n,l){l.d(n,{I:()=>a,g:()=>i});let{Provider:a,get:i}=(0,l(213491).Z)("ScreenSize")},856293:function(e,n,l){l.d(n,{_N:()=>r,eW:()=>t,hg:()=>s,ll:()=>a,s0:()=>d,ur:()=>i,zs:()=>o});let a=48,i=1e3;function t({isVisible:e}){return{opacity:+!!e,transform:e?"translateY(0)":"translateY(30px)",transition:"opacity 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975), transform 300ms cubic-bezier(0.25, 0.375, 0.1, 0.975)",pointerEvents:e?"auto":"none",willChange:"opacity, transform"}}let r="signup_upsell_source",s={SPLP_QUICK_REPLY:"splp-quick-reply",SPLP_GROUP_BOARD_EDUCATION:"splp-group-board-education"},o=[s.SPLP_QUICK_REPLY,s.SPLP_GROUP_BOARD_EDUCATION];function d({isDesktop:e}){return e?276:286}},85835:function(e,n,l){l.d(n,{Cc:()=>s,Dv:()=>h,Wz:()=>o,_P:()=>m,dP:()=>_,gx:()=>u,h8:()=>t,hk:()=>d,lp:()=>p,r4:()=>g});var a=l(391995),i=l(354553);let t={GENERIC_STICKER:"story_pin_generic_interactive_sticker_block",HEADING:"story_pin_heading_block",IMAGE:"story_pin_image_block",INGREDIENT:"story_pin_ingredient_block",LINK:"story_pin_link_block",MENTION_STICKER:"story_pin_mention_sticker_block",MUSIC:"story_pin_music_block",PARAGRAPH:"story_pin_paragraph_block",PRODUCT_STICKER:"story_pin_product_sticker_block",SUPPLY:"story_pin_supply_block",VIDEO:"story_pin_video_block",VTO_MAKEUP_STICKER:"story_pin_virtual_try_on_makeup_sticker_block"},r={alignment:1,hex_color:"#111111",highlight_color:"#FFFFFF",vertical_alignment:1},s={...r,font:{default_size:28,letter_spacing:-.4,line_height:1.25,name:"Graphik Regular",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Regular.otf"},font_size:28},o={...r,font:{default_size:48,letter_spacing:0,line_height:1,name:"Graphik Bold Italic",url:"https://pinterest-taipei.s3.amazonaws.com/Graphik-Bold-Italic.otf"},font_size:48},d=64,u=48,c=new a.H3([i.ej]),p=new a.H3([c]),g=4;function m(e){return e?{paddingX:0,paddingY:0}:{paddingX:2,paddingY:g}}let h=60,_=3},392824:function(e,n,l){l.d(n,{Z:()=>h});var a=l(686659),i=l(667294),t=l(391995),r=l(24246),s=l(216975),o=l(147950),d=l(692763),u=l(233377),c=l(785893);let p=({minutes:e,type:n,size:l})=>{let a=(0,r.Z)();if("compact"===n){let n=(0,u.Z)(e,a);return(0,c.jsx)(t.xv,{inline:!0,size:l,children:n})}let i=(0,d.Z)((0,o.X)({m:e}),a);return(0,c.jsxs)(t.xu,{children:[(0,c.jsx)(t.xv,{inline:!0,size:l,weight:"bold",children:a._('Cook Time: ', 'closeup.storyPin.basicsLayout.cookTime.label', 'Label for cook time (ex. Cook Time: 3 minutes)')}),(0,c.jsx)(t.xv,{inline:!0,size:l,children:i})]})},g=({servingSize:e,type:n,size:l})=>{let a=(0,r.Z)(),i=(0,s.nk)(a.ngettext('{{servingSize}} serving', '{{servingSize}} servings', e, 'number of servings for a recipe', 'number of servings for a recipe'),{servingSize:e});return"compact"===n?(0,c.jsx)(t.xv,{inline:!0,size:l,children:i}):(0,c.jsxs)(t.xu,{children:[(0,c.jsx)(t.xv,{inline:!0,size:l,weight:"bold",children:a._('Serving Size: ', 'closeup.storyPin.basicsLayout.servingSize.label', 'Label for serving size')}),(0,c.jsx)(t.xv,{inline:!0,size:l,children:i})]})},m=({difficulty:e,type:n,size:l})=>{let a=(0,r.Z)(),i={1:a._('Easy', 'closeup.storyPin.basicsLayout.difficulty', 'Easy difficulty level'),2:a._('Intermediate', 'closeup.storyPin.basicsLayout.difficulty', 'Intermediate difficulty level'),3:a._('Expert', 'closeup.storyPin.basicsLayout.difficulty', 'Expert difficulty level')};return(0,c.jsxs)(t.xu,{children:[(0,c.jsx)(t.xv,{inline:!0,size:l,weight:"compact"===n?"normal":"bold",children:a._('Difficulty: ', 'closeup.storyPin.basicsLayout.difficulty.label', 'Label for difficulty')}),(0,c.jsx)(t.xv,{inline:!0,size:l,children:i[e??"1"]})]})};function h({categoryType:e,value:n,type:l,size:t}){if((0,i.useEffect)(()=>{(0,a.Z)("StoryPinDetailTemplate","/app/www/storyPins/duplo/expressiveCloseup/StoryPinDetailTemplate.tsx")},[]),0===e){let e=n?parseInt(n,10):null;return e?(0,c.jsx)(p,{minutes:e,size:t,type:l}):null}if(1===e){let e=n?parseInt(n,10):null;return e?(0,c.jsx)(g,{servingSize:e,size:t,type:l}):null}return 2===e?(0,c.jsx)(m,{difficulty:n,size:t,type:l}):null}},819331:function(e,n,l){l.d(n,{F:()=>o,Z:()=>d});var a=l(667294),i=l(935059),t=l(116980),r=l(739405),s=l(85835);let o="100vh";function d(){let{isAuth:e}=(0,i.Z)(),n=(0,r.ZP)(),l="desktop"===n,o="tablet"===n,{paddingY:d}=(0,s._P)(l),u=4*d,[c,p]=(0,a.useState)(null),[g,m]=(0,a.useState)(null),[h,_]=(0,a.useState)(null),[y,f]=(0,a.useState)(null),k=(0,a.useCallback)(()=>{let a=o&&h?h:window?.innerHeight;e||(a-="tablet"===n?t.Pw:t.SB),l||(a-=s.hk+u),p(a),m(a)},[e,n,u,h,l,o]);return(0,a.useEffect)(()=>("undefined"!=typeof window&&(screen.orientation&&y!==screen.orientation.type&&(f(screen.orientation.type),_(window?.innerHeight)),k()),window.addEventListener("resize",k),()=>{window.removeEventListener("resize",k)}),[n,e,y,k]),{storyPinHeight:c,fillerPaddingTop:g}}},130384:function(e,n,l){l.d(n,{JJ:()=>a,N3:()=>t,zu:()=>i});let a=["TR","WB"],i=["BR","CG","HP","HR","JH","MP","RJ","UK","UP"],t=[...a,...i,"AP","TG"]},252286:function(e,n,l){l.d(n,{UZ:()=>c,s:()=>p,to:()=>g}),l(244311);var a,i=l(183e3),t=l(501010),r=l(774838),s=l(739405),o=l(572321),d=l(288646);let u=(void 0!==a||(a=l(504333)).hash&&"b0c6b5112691f13c9217bf0ac7b77e04"!==a.hash&&console.error("The definition of 'useSeoDrawerExperimentUtil_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),c=({pinKey:e,pinType:n,trafficSource:l,componentType:a})=>{let t=(0,s.Wb)(),r=(0,i.Z)(u,e),c=(0,d.Z)(r),p=t&&"feed"===n;return p?{showCreator:p,showCredit:!(0,o.Z)({trafficSource:l,componentType:a})&&!!c}:{showCreator:!1,showCredit:!1}},p=({skipExpActivation:e})=>{let{checkExperiment:n}=(0,t.Z)(),{isBot:l,isAuthenticated:a}=(0,r.B)();return!a&&!l&&!(!l&&n("lop_ucan_mau_ui_holdout",{dangerouslySkipActivation:e}).anyEnabled)},g=()=>{let{checkExperiment:e}=(0,t.Z)(),{isAuthenticated:n}=(0,r.B)();if(n||!e("ffe_v3_seo_drawer_for_klp_iteration",{dangerouslySkipActivation:!0}).anyEnabled)return{showSeoDrawer:!1,useSectionMarkup:!1,useNavMarkup:!1};let l=e("ffe_v3_seo_drawer_for_klp_iteration",{dangerouslySkipActivation:!0}).group||"";return"enabled_section_markup"===l?{showSeoDrawer:!0,useSectionMarkup:!0,useNavMarkup:!1}:"enabled_nav_markup"===l?{showSeoDrawer:!0,useSectionMarkup:!1,useNavMarkup:!0}:{showSeoDrawer:!0,useSectionMarkup:!1,useNavMarkup:!1}}},673350:function(e,n,l){l.d(n,{Z:()=>s});var a,i=l(667294);l(167912);var t=l(183e3);let r=(void 0!==a||(a=l(718106)).hash&&"11d828252f89045bc37e6aa5eb3fbea6"!==a.hash&&console.error("The definition of 'useReactionCountsFragment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),s=e=>{let n=(0,t.Z)(r,e),l=n?.reactionCountsData;return(0,i.useMemo)(()=>l?l.reduce((e,n)=>({...e,[String(n.reactionType??0)]:n.reactionCount??0}),{}):l,[l])}},674230:function(e,n,l){l.d(n,{Z:()=>I});var a,i=l(686659),t=l(667294),r=l(581722);l(167912);var s=l(391995),o=l(759271),d=l(104999),u=l(319226),c=l(935059),p=l(183e3),g=l(24246),m=l(923298),h=l(935833),_=l(736328),y=l(880201),f=l(338065),k=l(680717),x=l(826681),S=l(720459),b=l(216975),P=l(774838),v=l(785893);let w=({followerCount:e})=>{(0,t.useEffect)(()=>{(0,i.Z)("UserRepFollowerCount","/app/www/user/duplo/UserRepFollowerCount.tsx")},[]);let n=(0,g.Z)(),l=(0,S.Z)(),{locale:a}=(0,P.B)();return(0,v.jsx)(s.xv,{children:(0,b.nk)(n.ngettext('{{followers}} follower', '{{followers}} followers', e, 'pinPage.attribution.followersCount', 'Count of a user\'s followers'),{followers:l(a,e,{shortform:!0,shortform_maximum_fraction_digits:0})})})},T=(void 0!==a||(a=l(143649)).hash&&"d07d7e31fad8648e8967b45d3883c0b7"!==a.hash&&console.error("The definition of 'UserRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function I(e){(0,t.useEffect)(()=>{(0,i.Z)("UserRep","/app/www/user/duplo/UserRep.tsx")},[]);let n=(0,c.Z)(),l=n.isAuth&&n.id,a=n.isAuth,S=(0,g.Z)(),b=(0,m.Z)(),P=(0,d.Z)(),I=(0,_.Z)(),C=(0,r.I0)(),E=e=>C((0,k.ZN)(e)),F=e=>C((0,k.fv)(e)),{mWebCloseupRedesignEnabled:j}=(0,o.Z)(),{avatarSize:L,detailText:A,hideButtons:R,blockedByMe:K,explicitlyFollowedByMe:D,avatarColorIndex:Z,followerCount:B,fullName:O,id:N,imageLargeUrl:M,imageMediumUrl:U,imageSmallUrl:z,isEligibleForPdp:V,isVerifiedMerchant:H,verifiedIdentityVerified:G,username:W,isCurrentUser:Y,isOnCloseup:$,isImagePinForUnauthOnTablet:q,pinKey:X,shouldNavigateToProfile:Q=!0,textColor:J,type:ee,viewParameter:en,viewType:el,unauthFollow:ea,activateLexFollowExp:ei,clientTrackingParams:et,isSmallAvatarEnabled:er}=e,es=(0,p.Z)(T,X),eo=es&&es.entityId.length>18,ed=()=>(0,v.jsx)(f.Z,{clientTrackingParams:et,disableLog:!0,followEventType:45,id:N,isFollowed:D||!1,isSecondaryButton:!0,isUserFollowButton:!0,isUserMe:l===N,onFollow:()=>$?void(a?(E(N),P({event_type:45,view_type:3,view_parameter:156,view_data:{isCurrentUser:Y,viewObjectId:eo?es.entityId:es?.entityId,viewObjectIdStr:es?.entityId},object_id_str:N,clientTrackingParams:et})):b({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:"click_follow",desktopOptions:{modalType:"login"}})):E(N),onUnfollow:()=>$?void(F(N),P({event_type:46,view_type:3,view_parameter:156,object_id_str:N,clientTrackingParams:et})):F(N),pinKey:es,size:"md",unfollowEventType:46,viewParameter:en,viewType:el}),eu=()=>{if(K)return(0,v.jsx)(s.zx,{color:"secondary",fullWidth:!0,onClick:()=>C((0,x.h2)(N,P)),size:"md",text:S._('Unblock', ' - ', ' -- ')});if(a)return ed();if(ei){if(!ei().group.includes("hide_follow")&&ea)return ed()}else if(ea)return ed();return null},ec=e=>(0,v.jsx)(s.xu,{"data-test-id":"avatar-image",children:(0,v.jsx)(u.HE,{collaborators:[{name:O??"",src:M||U||z||void 0,color:Z}],onClick:()=>{I({action:"click",item:"avatar-image"})},size:(e||{}).size})}),ep=q?"calc(100% - 48px)":void 0,eg=H||G,em=!a&&V&&!eg,eh=!eg&&!a,e_=(0,v.jsxs)(s.kC,{alignItems:"center",flex:"shrink",justifyContent:"start",children:[(0,v.jsx)(s.xu,{flex:"none",height:j?16:void 0,marginEnd:er?1:2,width:j?16:void 0,children:ec({size:L||"md"})}),(0,v.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxWidth:ep,children:[(0,v.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[em&&(0,v.jsx)(s.xu,{marginEnd:1,children:(0,v.jsx)(s.xv,{children:S._('Saved by', 'Context on user rep', 'userRep.saveContext')})}),(0,v.jsx)(s.xu,{"data-test-id":"username",children:(0,v.jsx)(s.iP,{onTap:()=>{I({action:"click",item:"username"})},children:(0,v.jsx)(s.xv,{color:J||"default",lineClamp:q?1:void 0,size:j?"200":void 0,weight:"bold",children:O})})}),eg&&(0,v.jsx)(s.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(y.Z,{showVerifiedIdentity:!H,size:"sm"})})]}),(0,v.jsx)(s.xv,{color:J||"default",lineClamp:q?1:void 0,children:A}),!!B&&!eh&&!j&&(0,v.jsx)(s.xu,{"data-test-id":"user-follower-count",children:(0,v.jsx)(s.iP,{onTap:()=>{I({action:"click",item:"user-follower-count"})},children:(0,v.jsx)(w,{followerCount:B})})})]})]}),ey="row"===ee?(0,v.jsxs)(s.kC,{alignItems:"center",justifyContent:"between",children:[e_,!R&&(0,v.jsx)(s.xu,{flex:"none",marginStart:2,children:eu()})]}):(0,v.jsxs)(s.xu,{maxWidth:ep,padding:2,children:[ec(),(0,v.jsxs)(s.xu,{display:"flex",paddingY:2,children:[(0,v.jsx)(s.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:O}),eg&&(0,v.jsx)(s.xu,{marginStart:1,paddingY:1,children:(0,v.jsx)(y.Z,{showVerifiedIdentity:!H,size:"sm"})})]}),!R&&eu()]}),ef=(0,v.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},display:"flex",justifyContent:"between",overflow:"hidden",children:[(0,v.jsx)(s.Tg,{href:`/${encodeURIComponent(W)}/`,onTap:()=>{a||((0,h.NC)("click_pin_closeup_profile"),I({action:"click",item:"user-rep"}))},rounding:200,tapStyle:"compress",children:e_}),!R&&(0,v.jsx)(s.xu,{flex:"none",marginStart:2,children:eu()})]});return(0,v.jsx)(s.xu,{"data-test-id":"user-rep",width:"100%",children:Q?ef:ey})}},866315:function(e,n,l){l.d(n,{Z:()=>o});var a=l(686659),i=l(667294);let t={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},r=/[&><\u2028\u2029]/g;var s=l(785893);function o({id:e,isRelayResponseScript:n,testId:l,type:o="application/json",value:d}){(0,i.useEffect)(()=>{(0,a.Z)("JsonScript","/pws/react/JsonScript.tsx")},[]);let u=JSON.stringify(d).replace(r,e=>t[e]);return(0,s.jsx)("script",{"data-test-id":l,id:e,...n?{"data-relay-response":!0}:{},dangerouslySetInnerHTML:{__html:u},type:o})}},413073:function(e,n,l){l.d(n,{U:()=>t,Z:()=>r});var a=l(667294);let i=(0,a.createContext)();function t(){return(0,a.use)(i)}let r=i}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/82755-07223d84c4e04148.mjs.map